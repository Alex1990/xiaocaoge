<?xml version="1.0" encoding="UTF-8"?><rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title><![CDATA[小曹哥的博客]]></title><description><![CDATA[记录前端技术，如 HTML、CSS、JavaScript、React，也记录生活]]></description><link>https://xiaocaoge.com/</link><image><url>https://xiaocaoge.com//favicon/favicon.png</url><title>小曹哥的博客</title><link>https://xiaocaoge.com/</link></image><generator>GatsbyJS Material Starter</generator><lastBuildDate>Sun, 27 Dec 2020 16:59:15 GMT</lastBuildDate><atom:link href="https://xiaocaoge.com//rss.xml" rel="self" type="application/rss+xml"/><author><![CDATA[Alex]]></author><copyright><![CDATA[Copyright © forever. Alex Chao]]></copyright><item><title><![CDATA[Vim 自我进阶学习]]></title><description><![CDATA[自从六七年前看过 Practical Vim 的前面几章之后，就很少花整块时间去更新自己的 Vim…]]></description><link>https://xiaocaoge.com//vim-level-up/</link><guid isPermaLink="false">https://xiaocaoge.com//vim-level-up/</guid><category><![CDATA[Vim]]></category><category><![CDATA[VSCode Vim]]></category><dc:creator><![CDATA[Alex]]></dc:creator><pubDate>Sat, 26 Dec 2020 16:00:00 GMT</pubDate><content:encoded>&lt;p&gt;自从六七年前看过 &lt;a href=&quot;https://www.amazon.com/Practical-Vim-Thought-Pragmatic-Programmers/dp/1934356980&quot;&gt;Practical Vim&lt;/a&gt; 的前面几章之后，就很少花整块时间去更新自己的 Vim 使用知识了，只是遇到什么问题就谷歌搜索一下。所以，只是掌握基本的模式切换、光标移动、搜索、删除、复制、粘贴、配置、主题、插件这些。像快捷键设置、宏录制、高效移动光标等知识就从来不懂了，另外，对于插件的使用也只限于语法高亮类型的。&lt;/p&gt;
&lt;h2 id=&quot;众人拾柴火焰高&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E4%BC%97%E4%BA%BA%E6%8B%BE%E6%9F%B4%E7%81%AB%E7%84%B0%E9%AB%98&quot; aria-label=&quot;众人拾柴火焰高 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;众人拾柴火焰高&lt;/h2&gt;
&lt;p&gt;在前端时间与同事讨论 &lt;a href=&quot;https://marketplace.visualstudio.com/items?itemName=vscodevim.vim&quot;&gt;VSCode Vim&lt;/a&gt; 使用时，有个使用 &lt;a href=&quot;https://www.jetbrains.com/webstorm/&quot;&gt;WebStorm&lt;/a&gt; 的同事推荐了一个 &lt;a href=&quot;https://plugins.jetbrains.com/plugin/7086-acejump&quot;&gt;ACE Jump&lt;/a&gt; 插件，顿感眼前一亮，这才是最高效的光标移动到任意位置的方式，与 Chrome 上面的 Vimium 扩展思路有类似之处。于是，到 VSCode Marketplace 搜索一番，发现没有类似的，就在绝望的时候，翻看了 VSCode Vim 扩展的文档，发现提到了 &lt;a href=&quot;https://github.com/easymotion/vim-easymotion&quot;&gt;vim-easymotion&lt;/a&gt; 这款神级扩展，比 ACE Jump 更加强大。当然，VSCode Vim 扩展已经集成了&lt;a href=&quot;https://marketplace.visualstudio.com/items?itemName=vscodevim.vim#vim-easymotion&quot;&gt;easymotion&lt;/a&gt;，但是需要手动开启，可以查看前面链接文档。&lt;/p&gt;
&lt;p&gt;我与右边同事讨论火热之时，左边同事向我推荐了一篇非常简单实用的 Vim 学习教程——&lt;a href=&quot;https://yannesposito.com/Scratch/en/blog/Learn-Vim-Progressively/&quot;&gt;Learn Vim Progressively&lt;/a&gt;。里面将 Vim 使用能力分成了四个等级：第一级，生存（Survive）；第二级，感觉舒适（Feel Comfortable）；第三级，更好，更强，更快（Better, Stronger, Faster）；第四级，Vim 超能力（Vim Superpowers）。我处于第三级刚刚入门水平，这一等级主要是光标移动更快更简单，我只懂部分，当然第四级也懂一点。&lt;/p&gt;
&lt;p&gt;种种迹象表明，我确实应该提升下自己的 Vim 使用技能了。&lt;/p&gt;
&lt;h2 id=&quot;光标移动&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E5%85%89%E6%A0%87%E7%A7%BB%E5%8A%A8&quot; aria-label=&quot;光标移动 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;光标移动&lt;/h2&gt;
&lt;h3 id=&quot;vim-自身快捷键&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#vim-%E8%87%AA%E8%BA%AB%E5%BF%AB%E6%8D%B7%E9%94%AE&quot; aria-label=&quot;vim 自身快捷键 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Vim 自身快捷键&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;H&lt;/code&gt;/&lt;code class=&quot;language-text&quot;&gt;M&lt;/code&gt;/&lt;code class=&quot;language-text&quot;&gt;L&lt;/code&gt;：可视区域顶部、中间、底部&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;%&lt;/code&gt;：移动到匹配的括号，比如&lt;code class=&quot;language-text&quot;&gt;()&lt;/code&gt;/&lt;code class=&quot;language-text&quot;&gt;[]&lt;/code&gt;/&lt;code class=&quot;language-text&quot;&gt;{}&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&quot;行内移动&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E8%A1%8C%E5%86%85%E7%A7%BB%E5%8A%A8&quot; aria-label=&quot;行内移动 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;行内移动&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;^&lt;/code&gt;：移动到当前行的第一个非空白字符&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;g_&lt;/code&gt;：移动到当前行的最后一个非空白字符&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;f&lt;/code&gt;：向后移动到指定字符&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;F&lt;/code&gt;：向前移动到指定字符&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;t&lt;/code&gt;：向后移动到指定字符的前一个字符&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;T&lt;/code&gt;：向前移动到指定字符的后一个字符&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&quot;重复光标移动&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E9%87%8D%E5%A4%8D%E5%85%89%E6%A0%87%E7%A7%BB%E5%8A%A8&quot; aria-label=&quot;重复光标移动 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;重复光标移动&lt;/h4&gt;
&lt;p&gt;上面的&lt;code class=&quot;language-text&quot;&gt;f&lt;/code&gt;/&lt;code class=&quot;language-text&quot;&gt;F&lt;/code&gt;/&lt;code class=&quot;language-text&quot;&gt;t&lt;/code&gt;/&lt;code class=&quot;language-text&quot;&gt;T&lt;/code&gt;四个快捷键可以与快捷键&lt;code class=&quot;language-text&quot;&gt;;&lt;/code&gt;/&lt;code class=&quot;language-text&quot;&gt;,&lt;/code&gt;结合使用&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;;&lt;/code&gt;：表示重复执行上一次光标移动&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;,&lt;/code&gt;：表示反方向重复执行上一次光标移动&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;vim-easymotion&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#vim-easymotion&quot; aria-label=&quot;vim easymotion permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Vim EasyMotion&lt;/h3&gt;
&lt;p&gt;使用前面提到的 vim-easymotion 插件用于快速移动到可视区域的任意位置，EasyMotion 插件的功能很强大可以查看其文档，不过我懒得记忆复杂的规则，所以只是用了最常用的一个命令：&lt;strong&gt;按照 2 个字符搜索&lt;/strong&gt;。默认的快捷键比较复杂，使用了 &lt;a href=&quot;https://stackoverflow.com/questions/1764263/what-is-the-leader-in-a-vimrc-file&quot;&gt;Leader key&lt;/a&gt;，于是我将快捷键设置为了空格键，这样，通常只需要四次按键就可以准确地跳转到任意字符位置。&lt;/p&gt;
&lt;h2 id=&quot;光标移动与其他操作结合&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E5%85%89%E6%A0%87%E7%A7%BB%E5%8A%A8%E4%B8%8E%E5%85%B6%E4%BB%96%E6%93%8D%E4%BD%9C%E7%BB%93%E5%90%88&quot; aria-label=&quot;光标移动与其他操作结合 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;光标移动与其他操作结合&lt;/h2&gt;
&lt;h3 id=&quot;光标移动与选择结合&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E5%85%89%E6%A0%87%E7%A7%BB%E5%8A%A8%E4%B8%8E%E9%80%89%E6%8B%A9%E7%BB%93%E5%90%88&quot; aria-label=&quot;光标移动与选择结合 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;光标移动与选择结合&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;Vj&lt;/code&gt;/&lt;code class=&quot;language-text&quot;&gt;Vk&lt;/code&gt;：向下选择行，向上选择行&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;v0&lt;/code&gt;：选择当前光标至行首&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;v$&lt;/code&gt;：选择当前光标至行尾&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;vw&lt;/code&gt;：选择下一个单词&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;vb&lt;/code&gt;：选择上一个单词&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;vf&amp;quot;&lt;/code&gt;：选择当前光标至当前行向后第一个&lt;code class=&quot;language-text&quot;&gt;&amp;quot;&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;vF&amp;quot;&lt;/code&gt;：选择当前光标至当前行向前第一个&lt;code class=&quot;language-text&quot;&gt;&amp;quot;&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;vt&amp;quot;&lt;/code&gt;：选择当前光标至当前行向后第一个&lt;code class=&quot;language-text&quot;&gt;&amp;quot;&lt;/code&gt;的前一个字符&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;vT&amp;quot;&lt;/code&gt;：选择当前光标至当前行向前第一个&lt;code class=&quot;language-text&quot;&gt;&amp;quot;&lt;/code&gt;的后一个字符&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;光标与复制结合&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E5%85%89%E6%A0%87%E4%B8%8E%E5%A4%8D%E5%88%B6%E7%BB%93%E5%90%88&quot; aria-label=&quot;光标与复制结合 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;光标与复制结合&lt;/h3&gt;
&lt;p&gt;上面的&lt;code class=&quot;language-text&quot;&gt;v&lt;/code&gt;命令可以换成复制命令&lt;code class=&quot;language-text&quot;&gt;y&lt;/code&gt;，实现选择复制。&lt;/p&gt;
&lt;h3 id=&quot;光标与删除结合&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E5%85%89%E6%A0%87%E4%B8%8E%E5%88%A0%E9%99%A4%E7%BB%93%E5%90%88&quot; aria-label=&quot;光标与删除结合 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;光标与删除结合&lt;/h3&gt;
&lt;p&gt;上面的&lt;code class=&quot;language-text&quot;&gt;v&lt;/code&gt;命令可以换成删除命令&lt;code class=&quot;language-text&quot;&gt;d&lt;/code&gt;，实现选择删除。如果想要删除之后可以进入输入模式，则将&lt;code class=&quot;language-text&quot;&gt;v&lt;/code&gt;命令换成&lt;code class=&quot;language-text&quot;&gt;c&lt;/code&gt;。&lt;/p&gt;
&lt;h2 id=&quot;多光标操作&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E5%A4%9A%E5%85%89%E6%A0%87%E6%93%8D%E4%BD%9C&quot; aria-label=&quot;多光标操作 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;多光标操作&lt;/h2&gt;
&lt;p&gt;自 Sublime Text 编辑器以多光标操作惊艳众人之后，众多后来者都推出了多光标操作功能，而 Vim 同样也有一款插件 &lt;a href=&quot;https://github.com/terryma/vim-multiple-cursors&quot;&gt;vim-multiple-cursors&lt;/a&gt; 用于让 Vim 也具有多光标操作能力。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;注：多光标操作，又称&lt;a href=&quot;https://en.wikipedia.org/wiki/Simultaneous_editing&quot;&gt;&lt;strong&gt;同时编辑（Simultaneous editing）&lt;/strong&gt;&lt;/a&gt;，最早的多光标操作非 Sublime Text，可能是 &lt;a href=&quot;https://en.wikipedia.org/wiki/Lapis_(text_editor)&quot;&gt;Lapis&lt;/a&gt;。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;重复执行&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E9%87%8D%E5%A4%8D%E6%89%A7%E8%A1%8C&quot; aria-label=&quot;重复执行 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;重复执行&lt;/h2&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;N&amp;lt;command&amp;gt;&lt;/code&gt;可以重复执行某个命令，比如&lt;code class=&quot;language-text&quot;&gt;10j&lt;/code&gt;向下移动 10 行，这也就是我常用的，虽然一直知道这个，但是从来没有发掘出强大的用途，比如&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;3p&lt;/code&gt;：粘贴 3 次&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;10iabc [ESC]&lt;/code&gt;：插入&lt;code class=&quot;language-text&quot;&gt;abc&lt;/code&gt;10次&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;快捷键设置&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E5%BF%AB%E6%8D%B7%E9%94%AE%E8%AE%BE%E7%BD%AE&quot; aria-label=&quot;快捷键设置 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;快捷键设置&lt;/h2&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;# 将 H 键映射到 0
map H 0

# 将 L 键映射到 $
map L $

# 将 &amp;lt;Space&amp;gt; 键映射到插件命令
map &amp;lt;Space&amp;gt; &amp;lt;Plug&amp;gt;(easymotion-overwin-f2)&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;另外，设置快捷键的命令有好几个：&lt;code class=&quot;language-text&quot;&gt;nmap&lt;/code&gt;、&lt;code class=&quot;language-text&quot;&gt;remap&lt;/code&gt;、&lt;code class=&quot;language-text&quot;&gt;noremap&lt;/code&gt;、&lt;code class=&quot;language-text&quot;&gt;nnoremap&lt;/code&gt;、&lt;code class=&quot;language-text&quot;&gt;vnoremap&lt;/code&gt;、&lt;code class=&quot;language-text&quot;&gt;inoremap&lt;/code&gt;，可以查看下面链接&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://stackoverflow.com/questions/3776117/what-is-the-difference-between-the-remap-noremap-nnoremap-and-vnoremap-mapping&quot;&gt;What is the difference between the remap, noremap, nnoremap and vnoremap mapping commands in Vim?&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&quot;宏&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E5%AE%8F&quot; aria-label=&quot;宏 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;宏&lt;/h2&gt;
&lt;p&gt;就是可以录制一段动作命令，之后可以播放，主要用于一些复杂的组合命令。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;qa&lt;/code&gt;：记录命令到寄存器&lt;code class=&quot;language-text&quot;&gt;a&lt;/code&gt;，当然也可以是其他字母。&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;@a&lt;/code&gt;：播放寄存器&lt;code class=&quot;language-text&quot;&gt;a&lt;/code&gt;当中的命令&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;下面写一个实用的例子：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;首先在一个空行输入字符&lt;code class=&quot;language-text&quot;&gt;1&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;然后依次输入&lt;code class=&quot;language-text&quot;&gt;qaYp&amp;lt;C-a&amp;gt;q&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;qa&lt;/code&gt;开始录制&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;Yp&lt;/code&gt;重复当前行&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;&amp;lt;C-a&amp;gt;&lt;/code&gt;即&lt;code class=&quot;language-text&quot;&gt;Ctrl&lt;/code&gt;+&lt;code class=&quot;language-text&quot;&gt;a&lt;/code&gt;，当前数字加 1&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;q&lt;/code&gt;停止录制&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;@a&lt;/code&gt; 1 的下面写入 2&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;@@&lt;/code&gt; 2 的下面写入 3&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;10@a&lt;/code&gt;/&lt;code class=&quot;language-text&quot;&gt;10@@&lt;/code&gt;重复执行上面命令 10 次&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;总结&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E6%80%BB%E7%BB%93&quot; aria-label=&quot;总结 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;总结&lt;/h2&gt;
&lt;p&gt;上面介绍的都是日常使用的，且不需要太多记忆就可以提升很大效率，当然，不用一两天就学完，可以每天学几个命令，最重要的是多练，形成肌肉记忆。另外，我对于工具的使用理念是&lt;strong&gt;尽量花少的学习成本只学习工具最常使用的功能&lt;/strong&gt;。&lt;/p&gt;
&lt;h2 id=&quot;参考&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E5%8F%82%E8%80%83&quot; aria-label=&quot;参考 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;参考&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://yannesposito.com/Scratch/en/blog/Learn-Vim-Progressively/&quot;&gt;Learn Vim Progressively&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://marketplace.visualstudio.com/items?itemName=vscodevim.vim#vim-easymotion&quot;&gt;VSCode Vim&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/easymotion/vim-easymotion&quot;&gt;vim-easymotion&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/terryma/vim-multiple-cursors&quot;&gt;vim-multiple-cursors&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[树莓派入门]]></title><description><![CDATA[多年以前有尝试树莓派的想法，然后知乎阅读过一些高赞回答，比如“「树莓派」是什么？普通人怎么玩？"、"能用树莓派干些什么有趣的事情？"、“树莓派能用来干什么?”。这些答案当中列举的作用有： 个人网站 Git 服务器 BT 下载 家庭 NAS 私有云服务 ownCloud…]]></description><link>https://xiaocaoge.com//getting-started-raspberry-pi/</link><guid isPermaLink="false">https://xiaocaoge.com//getting-started-raspberry-pi/</guid><category><![CDATA[树莓派]]></category><dc:creator><![CDATA[Alex]]></dc:creator><pubDate>Fri, 25 Dec 2020 16:00:00 GMT</pubDate><content:encoded>&lt;p&gt;多年以前有尝试树莓派的想法，然后知乎阅读过一些高赞回答，比如&lt;a href=&quot;https://www.zhihu.com/question/20859055&quot;&gt;“「树莓派」是什么？普通人怎么玩？&quot;&lt;/a&gt;、&lt;a href=&quot;https://www.zhihu.com/question/32163206&quot;&gt;&quot;能用树莓派干些什么有趣的事情？&quot;&lt;/a&gt;、&lt;a href=&quot;https://www.zhihu.com/question/22741805&quot;&gt;“树莓派能用来干什么?”&lt;/a&gt;。这些答案当中列举的作用有：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;个人网站&lt;/li&gt;
&lt;li&gt;Git 服务器&lt;/li&gt;
&lt;li&gt;BT 下载&lt;/li&gt;
&lt;li&gt;家庭 NAS&lt;/li&gt;
&lt;li&gt;私有云服务 ownCloud&lt;/li&gt;
&lt;li&gt;智能音箱&lt;/li&gt;
&lt;li&gt;集成测试&lt;/li&gt;
&lt;li&gt;路由器&lt;/li&gt;
&lt;li&gt;垃圾分类检测&lt;/li&gt;
&lt;li&gt;智能小车&lt;/li&gt;
&lt;li&gt;无人机&lt;/li&gt;
&lt;li&gt;等等&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;但是，我基本上都用不上，或者没时间玩，或者有替代品，我希望能对工作或学习有实际的作用，并且没有其他替代品，然后就打消了尝试树莓派的想法。&lt;/p&gt;
&lt;h2 id=&quot;购买树莓派&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E8%B4%AD%E4%B9%B0%E6%A0%91%E8%8E%93%E6%B4%BE&quot; aria-label=&quot;购买树莓派 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;购买树莓派&lt;/h2&gt;
&lt;p&gt;直到今年生日，朋友 S 赠送了一个&lt;a href=&quot;https://union-click.jd.com/jdc?e=&amp;#x26;p=AyIGZRtZEQESDlccUxUyFgBQE14TABsFVRtrUV1KWQorAlBHU0VeBUVNR0ZbSkdETlcNVQtHRVNSUVNLXANBRA1XB14DS10cQQVYD21XHgNSHlMQBBAOVxtbJUIVXFBGDnVqclcJS1p3dHpPDFgibVQeC2UaaxUDEwVVHV8VChI3ZRtcJUN8B1waXREKIgZlG1wUCxoPUBJeFAUWAmUcWxwyxrnPzOK1YGE3ZStYJTIiB2UYa1dsEAcCSQgcBxRTBRJbEAMUAQZLWB1VQlJSElISURFUUEhrFwMTA1w%3D&quot;&gt;树莓派4B&lt;/a&gt;，有 4G 内存。然后打算玩一下的时候，发现没有 SD 卡、显示器连接线、网线，也就懒得去折腾了。&lt;/p&gt;
&lt;p&gt;就这样，又过了半年左右，出现过好几次使用手机看网页或者视频时，因为服务器在国外所以速度很慢或根本无法观看的情况。当然，都是正常健康向上的内容，比如阅读 Swift 官方技术文档，又比如观看油管上面的教程视频，对于小众领域，油管上面的教程视频要丰富的多，应当充分利用好国内外资源。这时，我想，是时候该树莓派登场了，因为树莓派有无法替代的综合优势：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;成本低，只需五六百&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;7x24 小时运行，且稳定可靠&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;无噪音&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;自己拥有完全控制权限&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;这几项的结合是其他产品无法替代的，比如云服务器可以 7x24 小时运行，但是成本高、带宽小，自己并没有完全控制权限；又比如自己日用电脑，无法 7x24 小时运行，可能有噪音，费电。&lt;/p&gt;
&lt;p&gt;于是，我从京东购买了&lt;a href=&quot;https://union-click.jd.com/jdc?e=&amp;#x26;p=AyIGZRtZEQESDlccUxUyFQ9QGlsVBxsFUhJrUV1KWQorAlBHU0VeBUVNR0ZbSkdETlcNVQtHRVNSUVNLXANBRA1XB14DS10cQQVYD21XHgBdHloVAhcOVxxSJURiXSx%2BJA9GcFEdfQ5wamp4Bm8lV3IeC2UaaxUDEwVVHV8VChI3ZRtcJUN8B1waXREKIgZlG1wUCxoPUB1TEgATDmUcWxwyxrnPzOK1YGE3ZStYJTIiB2UYa1dsF1AGGQ5CURdXV08PEAVBBwZPCBdRGwBUSQ4SVhNTVR5rFwMTA1w%3D&quot;&gt;树莓派64GB基础配件包&lt;/a&gt;，价格 199 元，包括下面 7 个配件：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Type-C 接口电源&lt;/li&gt;
&lt;li&gt;官方外壳&lt;/li&gt;
&lt;li&gt;散热片&lt;/li&gt;
&lt;li&gt;micro-HDMI 线&lt;/li&gt;
&lt;li&gt;网线&lt;/li&gt;
&lt;li&gt;64G SD 存储卡&lt;/li&gt;
&lt;li&gt;读卡器&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;安装树莓派操作系统&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E5%AE%89%E8%A3%85%E6%A0%91%E8%8E%93%E6%B4%BE%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F&quot; aria-label=&quot;安装树莓派操作系统 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;安装树莓派操作系统&lt;/h2&gt;
&lt;p&gt;购买的 SD 卡里面已经预装了操作系统，所以无需重复安装了，不过我还是自己安装了一遍，非常简单，从官网下载&lt;a href=&quot;https://www.raspberrypi.org/software/&quot;&gt;操作系统镜像安装工具&lt;/a&gt;即可。安装好这个工具之后，插入 SD 卡，然后可以选择要安装的操作系统以及安装树莓派操作系统的 SD 卡，点击开始即可。因为我不打算连接显示器，所以安装的是 Lite 版本。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;树莓派官网及资源下载需要开启代理，请自行解决，或者到&lt;a href=&quot;https://shumeipai.nxez.com/download&quot;&gt;树莓派实验室&lt;/a&gt;下载&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;其实，&lt;a href=&quot;https://www.raspberrypi.org/documentation/&quot;&gt;树莓派官网文档&lt;/a&gt;已经包含比较详细的教程了，包括安装、配置、编程等。&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id=&quot;ssh-远程连接&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#ssh-%E8%BF%9C%E7%A8%8B%E8%BF%9E%E6%8E%A5&quot; aria-label=&quot;ssh 远程连接 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;SSH 远程连接&lt;/h2&gt;
&lt;p&gt;因为我不想使用树莓派连接显示器、键盘、鼠标等一堆东西，所以需要一开机就可以使用 ssh 登录上去，下面是主要步骤：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;SD 卡插入到读卡器里面，读卡器插入电脑 USB 上面，可以看到磁盘列表多了一个&lt;code class=&quot;language-text&quot;&gt;boot&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;在这个&lt;code class=&quot;language-text&quot;&gt;boot&lt;/code&gt;里面创建一个空文件，名称是&lt;code class=&quot;language-text&quot;&gt;ssh&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;然后将 SD 卡插回树莓派当中，将树莓派网线接入到路由器上面，接通电源，会有红灯亮起&lt;/li&gt;
&lt;li&gt;进入路由器后台页面，查看已连接设备列表，可以看到树莓派分配的 IP 内网 IP 地址，比如是&lt;code class=&quot;language-text&quot;&gt;192.168.0.2&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;然后使用命令&lt;code class=&quot;language-text&quot;&gt;ssh pi@192.168.0.2&lt;/code&gt;连接，遇到询问&lt;code class=&quot;language-text&quot;&gt;yes/no&lt;/code&gt;，输入&lt;code class=&quot;language-text&quot;&gt;yes&lt;/code&gt;，默认密码是&lt;code class=&quot;language-text&quot;&gt;raspberry&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;如果成功会出现下面输出：&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;txt&quot;&gt;&lt;pre class=&quot;language-txt&quot;&gt;&lt;code class=&quot;language-txt&quot;&gt;Linux raspberrypi 5.4.79-v7l+ #1373 SMP Mon Nov 23 13:27:40 GMT 2020 armv7l

The programs included with the Debian GNU/Linux system are free software;
the exact distribution terms for each program are described in the
individual files in /usr/share/doc/*/copyright.

Debian GNU/Linux comes with ABSOLUTELY NO WARRANTY, to the extent
permitted by applicable law.
Last login: Sat Dec 26 13:38:59 2020 from 192.168.10.103
-bash: warning: setlocale: LC_ALL: cannot change locale (en_US.UTF-8)
manpath: can&amp;#39;t set the locale; make sure $LC_* and $LANG are correct
pi@raspberrypi:~ $ &lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id=&quot;修改默认密码&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E4%BF%AE%E6%94%B9%E9%BB%98%E8%AE%A4%E5%AF%86%E7%A0%81&quot; aria-label=&quot;修改默认密码 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;修改默认密码&lt;/h3&gt;
&lt;p&gt;使用默认密码连接非常不安全，需要修改，经过查询得知下面命令&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sh&quot;&gt;&lt;pre class=&quot;language-sh&quot;&gt;&lt;code class=&quot;language-sh&quot;&gt;# 设置 root 用户密码
sudo passwd root

# 设置 pi 用户密码，直接使用下面命令报错，需要先设置 root 密码
sudo passwd pi&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id=&quot;使用基于-ssh-keys-认证连接&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E4%BD%BF%E7%94%A8%E5%9F%BA%E4%BA%8E-ssh-keys-%E8%AE%A4%E8%AF%81%E8%BF%9E%E6%8E%A5&quot; aria-label=&quot;使用基于 ssh keys 认证连接 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;使用基于 SSH Keys 认证连接&lt;/h3&gt;
&lt;p&gt;每次连接输入密码很麻烦，而且也不如 SSH Keys 安全。首先检查自己电脑用户是否存在 ssh keys，即&lt;code class=&quot;language-text&quot;&gt;~/.ssh/&lt;/code&gt;目录是否有类似&lt;code class=&quot;language-text&quot;&gt;id_xxx&lt;/code&gt;和&lt;code class=&quot;language-text&quot;&gt;id_xxx.pub&lt;/code&gt;文件，如果没有，可以通过下面命令生成。&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sh&quot;&gt;&lt;pre class=&quot;language-sh&quot;&gt;&lt;code class=&quot;language-sh&quot;&gt;# 生成基于 ed25519 算法的密钥
ssh-keygen -t ed25519 -C &amp;quot;your_email@example.com&amp;quot;

# 输出公钥内容
cat ~/.ssh/id_ed25519.pub&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;将公钥内容复制到树莓派&lt;code class=&quot;language-text&quot;&gt;~/.ssh/authorized_keys&lt;/code&gt;文件当中。&lt;/p&gt;
&lt;p&gt;此时可以通过下面命令验证是否设置成功：&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sh&quot;&gt;&lt;pre class=&quot;language-sh&quot;&gt;&lt;code class=&quot;language-sh&quot;&gt;# 退出
logout
# 连接
ssh pi@192.168.0.2&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;如果直接连接进入，则表示设置成功。&lt;/p&gt;
&lt;h2 id=&quot;安装应用&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E5%AE%89%E8%A3%85%E5%BA%94%E7%94%A8&quot; aria-label=&quot;安装应用 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;安装应用&lt;/h2&gt;
&lt;p&gt;树莓派官网操作系统是基于 Debian 的系统，使用&lt;code class=&quot;language-text&quot;&gt;apt&lt;/code&gt;工具来管理包/应用的安装。&lt;/p&gt;
&lt;h3 id=&quot;更换国内镜像源&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E6%9B%B4%E6%8D%A2%E5%9B%BD%E5%86%85%E9%95%9C%E5%83%8F%E6%BA%90&quot; aria-label=&quot;更换国内镜像源 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;更换国内镜像源&lt;/h3&gt;
&lt;p&gt;官网源速度比较慢，可以使用中科大镜像源：&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sh&quot;&gt;&lt;pre class=&quot;language-sh&quot;&gt;&lt;code class=&quot;language-sh&quot;&gt;# 备份原配置文件
sudo cp /etc/apt/sources.list /etc/apt/sources.list.bak
sudo cp /etc/apt/sources.list.d/raspi.list /etc/apt/sources.list.d/raspi.list.bak

# 替换第一行为 deb http://mirrors.ustc.edu.cn/raspbian/raspbian/ stretch main contrib non-free rpi
sudo vi /etc/apt/sources.list

# 替换第一行为 deb http://mirrors.ustc.edu.cn/archive.raspberrypi.org/debian/ stretch main ui
sudo vi /etc/apt/sources.list.d/raspi.list

# 同步更新
sudo apt-get update&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Lite 版本操作系统不带&lt;code class=&quot;language-text&quot;&gt;git&lt;/code&gt;，通过下面命令安装&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sh&quot;&gt;&lt;pre class=&quot;language-sh&quot;&gt;&lt;code class=&quot;language-sh&quot;&gt;sudo apt install git&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=&quot;文件传递&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E6%96%87%E4%BB%B6%E4%BC%A0%E9%80%92&quot; aria-label=&quot;文件传递 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;文件传递&lt;/h2&gt;
&lt;p&gt;把电脑文件传到树莓派上或者反过来的需求是比较常见的，方式和工具也有很多，比如 SFTP 和 rsync：&lt;/p&gt;
&lt;h3 id=&quot;sftp&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#sftp&quot; aria-label=&quot;sftp permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;SFTP&lt;/h3&gt;
&lt;p&gt;因为前面已经配置好了 SSH Keys，所以可以通过下面命令直接连接树莓派：&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sh&quot;&gt;&lt;pre class=&quot;language-sh&quot;&gt;&lt;code class=&quot;language-sh&quot;&gt;sftp pi@192.168.0.2
# 连接成功
Connected to 192.168.0.2.
# 输入 help 可以查看帮助
sftp&amp;gt; help&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;树莓派系统默认已启动 SFTP 服务，而我使用的 macOS 也自带 SFTP 命令（客户端），所以无需额外安装任何东西，直接连接即可。&lt;/p&gt;
&lt;h3 id=&quot;rsync&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#rsync&quot; aria-label=&quot;rsync permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;rsync&lt;/h3&gt;
&lt;p&gt;SFTP 对于多个文件，乃至整个目录的同步还不太方便，此时可以使用&lt;code class=&quot;language-text&quot;&gt;rsync&lt;/code&gt;命令，&lt;code class=&quot;language-text&quot;&gt;rsync&lt;/code&gt;命令非常强大，有很多参数，比如复制整个目录：&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sh&quot;&gt;&lt;pre class=&quot;language-sh&quot;&gt;&lt;code class=&quot;language-sh&quot;&gt;# 注意 source/ 最后面的斜线，表示复制 source 目录内容到 /home/pi/destination
# 如果不加斜线，则会复制后文件结构是 /home/pi/destination/source
rsync -av source/ pi@192.168.10.102:/home/pi/destination&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=&quot;相关链接&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E7%9B%B8%E5%85%B3%E9%93%BE%E6%8E%A5&quot; aria-label=&quot;相关链接 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;相关链接&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://shumeipai.nxez.com/&quot;&gt;（国内）树莓派实验室&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.raspberrypi.org&quot;&gt;树莓派官网&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.raspberrypi.org/documentation/&quot;&gt;树莓派官方文档&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.raspberrypi.org/software/&quot;&gt;安装工具下载&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.raspberrypi.org/software/operating-systems/&quot;&gt;操作系统下载&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.raspberrypi.org/documentation/remote-access/&quot;&gt;远程连接&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.raspberrypi.org/documentation/remote-access/ssh/passwordless.md&quot;&gt;使用 SSH Keys&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.raspberrypi.org/documentation/configuration/&quot;&gt;配置系统&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.raspberrypi.org/documentation/configuration/wireless/wireless-cli.md&quot;&gt;配置 WiFi 连接&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.raspberrypi.org/documentation/configuration/security.md&quot;&gt;安全性&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://blog.csdn.net/weixin_43336281/article/details/97373288&quot;&gt;树莓派更换国内源&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.raspberrypi.org/documentation/remote-access/ssh/sftp.md&quot;&gt;文件同步 SFTP&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.ruanyifeng.com/blog/2020/08/rsync.html&quot;&gt;rsync 用法教程&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[上海之行]]></title><description><![CDATA[…]]></description><link>https://xiaocaoge.com//the-tour-of-shanghai/</link><guid isPermaLink="false">https://xiaocaoge.com//the-tour-of-shanghai/</guid><category><![CDATA[旅行]]></category><category><![CDATA[上海]]></category><dc:creator><![CDATA[Alex]]></dc:creator><pubDate>Sun, 18 Oct 2020 16:00:00 GMT</pubDate><content:encoded>&lt;p&gt;来到杭州已经一个多月了，但是还没有去过杭州的任何地方转过，几乎每个周末都行事情，一开始是买各种东西，然后是安装热水器、洗衣机和网线，再然后就是开始考驾照，终于上周得空就先去上海转了一下。&lt;/p&gt;
&lt;p&gt;周六下午从杭州出发，然后周日晚上返回，总共一天多时间，所以只能挑两三个地方转一下，上海外滩是必须要见识一下的，而且要看夜景，所以其他地方基本就是上海外滩附近了，旅行网站的推荐是老城隍庙、南京路步行街、豫园。我自己只有一个人，也没有逛街的习惯，所以南京路步行街先排除了，豫园和老城隍庙可以转一下。另外，上海外滩算市中心了，附近有很多科技馆、博物馆、美术馆可以参观，上海外滩对面就是宇宙中心陆家嘴了，最著名的建筑就是东方明珠电视塔了，另外还有很多高楼大厦，很繁华。&lt;/p&gt;
&lt;h2 id=&quot;行程安排&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E8%A1%8C%E7%A8%8B%E5%AE%89%E6%8E%92&quot; aria-label=&quot;行程安排 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;行程安排&lt;/h2&gt;
&lt;p&gt;我自己的大致行程安排是：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;周六晚上：上海外滩&lt;/li&gt;
&lt;li&gt;周日上午：豫园和老城隍庙&lt;/li&gt;
&lt;li&gt;周日下午：人民广场、上海博物馆或者上海自然博物馆&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- 这里是地图 --&gt;
&lt;h2 id=&quot;酒店&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E9%85%92%E5%BA%97&quot; aria-label=&quot;酒店 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;酒店&lt;/h2&gt;
&lt;p&gt;订是上海外滩附近的八号艺术酒店，体验不好，首先价格不便宜，然后空间比较小，十几平米，没有桌子摆放的空间，尽管我也不需要。另外，隔音基本没有，隔壁的说话声甚至都能听见。当然这些都是网上评价已经看到了，所以有所心里准备。最最体验不爽的是早餐服务，从打电话叫到送上门花了四五十分钟，而且还是我在门口等着他来了要的。早餐也是非常简单，一盒奶、一个鸡蛋、两个小包子、一碟咸菜，成本不到 5 块钱，这种饭菜和体验还不如不提供呢，反正以后拉黑这家店了。&lt;/p&gt;
&lt;p&gt;另外，也别指望从窗户看什么上海外滩夜景了，老老实实去上海外滩吧，其实能欣赏上海外滩夜景的酒店很少，还得合适的房间号，价格会很贵的，不如住得远点，价格还能便宜些。&lt;/p&gt;
&lt;h2 id=&quot;上海外滩&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E4%B8%8A%E6%B5%B7%E5%A4%96%E6%BB%A9&quot; aria-label=&quot;上海外滩 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;上海外滩&lt;/h2&gt;
&lt;p&gt;之前已经在网上看过上海外滩的各种照片了，典型的摄影地点，旅行打开地点，人气很旺，记得有一年元旦跨年晚会发生了踩踏事故。办理完入住酒店手续之后，就出发去外滩了，街道很多，比较窄，人也很多，基本都是去外滩的，十字路口有交警维持秩序。这边的建筑物风格都是典型的民国时期风格，因为当时外国租界就在这里，适合拍照。到外滩之后，发现这样平常的周末，人也非常多，观景大道上面基本占满了人。我到一家肯德基随便吃了晚饭，然后就开始我的外滩之行了。黄浦江面不时有各种旅游船只游过，对面的东方明珠等大厦灯光变换，这边人流不断窜动，有人拍照，有人欣赏景色。我先从中间往南走，然后折返回来，向北一直走到上海人民英雄纪念塔，再到外白渡桥，一路也不断拍照，练习我的手机摄影能力。这样从不到八点已经到了快十点钟，然后就开始往回走，往回走由于没有看地图，凭借印象走，结果走错了，中间打算去上海外滩美术馆看下，结果正在维护，只好直接回酒店了。&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 690px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/a7933be866af74e8bb1f2926f2fddb4d/9568a/dongfangmingzhu.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 133.52601156069366%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAbABQDASIAAhEBAxEB/8QAGQAAAgMBAAAAAAAAAAAAAAAAAAMCBAUB/8QAFgEBAQEAAAAAAAAAAAAAAAAAAQAC/9oADAMBAAIQAxAAAAHIkMpYwHtvLtzMrGT/xAAbEAACAgMBAAAAAAAAAAAAAAABEQACEiAxIf/aAAgBAQABBQLReKVlTVHBjg4RP//EABURAQEAAAAAAAAAAAAAAAAAABAB/9oACAEDAQE/ASH/xAAWEQADAAAAAAAAAAAAAAAAAAAAEBH/2gAIAQIBAT8BdP/EABoQAAICAwAAAAAAAAAAAAAAAAAgARAxYeH/2gAIAQEABj8CSK0cMp//xAAdEAEAAwABBQAAAAAAAAAAAAABABEhEDFBYXHB/9oACAEBAAE/IZXATqKjTGIKt14uXBtJ2US+gnNhnqf/2gAMAwEAAgADAAAAEJfn/f/EABYRAQEBAAAAAAAAAAAAAAAAAAEQEf/aAAgBAwEBPxCDWf/EABYRAQEBAAAAAAAAAAAAAAAAAAEQEf/aAAgBAgEBPxAImkf/xAAdEAEAAwACAwEAAAAAAAAAAAABABEhMUEQUZGB/9oACAEBAAE/EAmQfcrwKckrk72K6KTqFFM2zBuKtty6vwrI4T6D4k5pp68e5cVa62f/2Q==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;东方明珠夜景&quot;
        title=&quot;东方明珠夜景&quot;
        src=&quot;/static/a7933be866af74e8bb1f2926f2fddb4d/15ec7/dongfangmingzhu.jpg&quot;
        srcset=&quot;/static/a7933be866af74e8bb1f2926f2fddb4d/9ac50/dongfangmingzhu.jpg 173w,
/static/a7933be866af74e8bb1f2926f2fddb4d/8d48c/dongfangmingzhu.jpg 345w,
/static/a7933be866af74e8bb1f2926f2fddb4d/15ec7/dongfangmingzhu.jpg 690w,
/static/a7933be866af74e8bb1f2926f2fddb4d/af659/dongfangmingzhu.jpg 1035w,
/static/a7933be866af74e8bb1f2926f2fddb4d/89b2d/dongfangmingzhu.jpg 1380w,
/static/a7933be866af74e8bb1f2926f2fddb4d/9568a/dongfangmingzhu.jpg 3024w&quot;
        sizes=&quot;(max-width: 690px) 100vw, 690px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 690px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/bc2f4f24c73409b50ea0d925303156ce/9568a/dongfangmingzhu-zaoshang.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 133.52601156069366%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAbABQDASIAAhEBAxEB/8QAGQAAAgMBAAAAAAAAAAAAAAAAAAIBAwUE/8QAFgEBAQEAAAAAAAAAAAAAAAAAAgAB/9oADAMBAAIQAxAAAAGrVwtTcg5wLkvWWUFK/8QAHhAAAQQBBQAAAAAAAAAAAAAAAQACAxEQISIxQUL/2gAIAQEAAQUCi4sAGcqypnbQqsu1x56X/8QAFxEAAwEAAAAAAAAAAAAAAAAAAAEREP/aAAgBAwEBPwFomU//xAAXEQADAQAAAAAAAAAAAAAAAAAAAREQ/9oACAECAQE/AUy5D//EABwQAAEEAwEAAAAAAAAAAAAAAAEAAhBxESAhYf/aAAgBAQAGPwJtxw4TR6rgaGP/xAAeEAEAAgIBBQAAAAAAAAAAAAABABEhMUFRkaGx4f/aAAgBAQABPyFVszJo2gjXU6VcSqMZSmoml9pZPswHExmWFnPiHtCTP//aAAwDAQACAAMAAAAQaPgN/8QAFhEBAQEAAAAAAAAAAAAAAAAAAQAR/9oACAEDAQE/ENEgy2r/xAAWEQEBAQAAAAAAAAAAAAAAAAABABH/2gAIAQIBAT8QwGXBZv/EAB0QAQEAAwACAwAAAAAAAAAAAAERACExQaEQUWH/2gAIAQEAAT8QUtAgz8DuVfXKGuZUpPXtcwAQDS94a9ZNgDSdQYb7PAETLIYKvmGFXyJe7MQSPhNj+kcW8//Z&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;早上的东方明珠&quot;
        title=&quot;早上的东方明珠&quot;
        src=&quot;/static/bc2f4f24c73409b50ea0d925303156ce/15ec7/dongfangmingzhu-zaoshang.jpg&quot;
        srcset=&quot;/static/bc2f4f24c73409b50ea0d925303156ce/9ac50/dongfangmingzhu-zaoshang.jpg 173w,
/static/bc2f4f24c73409b50ea0d925303156ce/8d48c/dongfangmingzhu-zaoshang.jpg 345w,
/static/bc2f4f24c73409b50ea0d925303156ce/15ec7/dongfangmingzhu-zaoshang.jpg 690w,
/static/bc2f4f24c73409b50ea0d925303156ce/af659/dongfangmingzhu-zaoshang.jpg 1035w,
/static/bc2f4f24c73409b50ea0d925303156ce/89b2d/dongfangmingzhu-zaoshang.jpg 1380w,
/static/bc2f4f24c73409b50ea0d925303156ce/9568a/dongfangmingzhu-zaoshang.jpg 3024w&quot;
        sizes=&quot;(max-width: 690px) 100vw, 690px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 690px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/848867280dab3b0491e42ecb9c2e3b7e/e5d9b/waibaiduqiao.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 113.87283236994219%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAXABQDASIAAhEBAxEB/8QAGQABAQEAAwAAAAAAAAAAAAAAAAMBAgQF/8QAFQEBAQAAAAAAAAAAAAAAAAAAAQD/2gAMAwEAAhADEAAAAfJ23IeqojZCTA//xAAbEAACAgMBAAAAAAAAAAAAAAABAgARAxIhMv/aAAgBAQABBQKV2ECJd5PRZlbY2T3/xAAWEQEBAQAAAAAAAAAAAAAAAAABABD/2gAIAQMBAT8BCSHP/8QAFhEBAQEAAAAAAAAAAAAAAAAAAQAQ/9oACAECAQE/AVhkz//EABoQAAICAwAAAAAAAAAAAAAAAAABEBEhIjL/2gAIAQEABj8CnCHozkqy4//EABwQAQACAwADAAAAAAAAAAAAAAEAESExUUFxgf/aAAgBAQABPyGrahqfsSmoEGx9ylLl7E8MRj4Jm23Gdp//2gAMAwEAAgADAAAAEOf3Qv/EABcRAAMBAAAAAAAAAAAAAAAAAAABIRH/2gAIAQMBAT8QrTBwZGbp/8QAFxEAAwEAAAAAAAAAAAAAAAAAAAERIf/aAAgBAgEBPxB8wqtFVoWH/8QAHBABAAIDAQEBAAAAAAAAAAAAAQARITFRQXGB/9oACAEBAAE/EB0C3kZpJXGoT8e9j6bcAllm7aMKm31sXdx8Ntj5+RXELzUVKny5/9k=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;外白渡桥&quot;
        title=&quot;外白渡桥&quot;
        src=&quot;/static/848867280dab3b0491e42ecb9c2e3b7e/15ec7/waibaiduqiao.jpg&quot;
        srcset=&quot;/static/848867280dab3b0491e42ecb9c2e3b7e/9ac50/waibaiduqiao.jpg 173w,
/static/848867280dab3b0491e42ecb9c2e3b7e/8d48c/waibaiduqiao.jpg 345w,
/static/848867280dab3b0491e42ecb9c2e3b7e/15ec7/waibaiduqiao.jpg 690w,
/static/848867280dab3b0491e42ecb9c2e3b7e/af659/waibaiduqiao.jpg 1035w,
/static/848867280dab3b0491e42ecb9c2e3b7e/89b2d/waibaiduqiao.jpg 1380w,
/static/848867280dab3b0491e42ecb9c2e3b7e/e5d9b/waibaiduqiao.jpg 2759w&quot;
        sizes=&quot;(max-width: 690px) 100vw, 690px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;h2 id=&quot;老城隍庙和豫园&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E8%80%81%E5%9F%8E%E9%9A%8D%E5%BA%99%E5%92%8C%E8%B1%AB%E5%9B%AD&quot; aria-label=&quot;老城隍庙和豫园 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;老城隍庙和豫园&lt;/h2&gt;
&lt;p&gt;这两个地方就是挨着的，老城隍庙有庙，也有各种小吃，豫园是一个典型的古代南方庄园。上午快九点才出发，九点半开始游览，当然老城隍庙没有怎么逛，直接去了豫园。当然，我本人是不大喜欢这种古代大户人家的宅院的，庙也是不太喜欢。不过了解一下古代大户人家的住处也是可以的，看看能精致到什么程度。豫园里面有水、假山、几百年的古树、各种房屋、戏台等，和古装历史剧里面也没差了，里面七拐八拐还是很容易迷路的。&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 690px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/341ab7c24c457232d42b9a63d2d53835/d2602/shuichi.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 75.14450867052024%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAUCBP/EABYBAQEBAAAAAAAAAAAAAAAAAAEAAv/aAAwDAQACEAMQAAAB5qUGm5MJ/8QAGRABAQEBAQEAAAAAAAAAAAAAAQIAAxEh/9oACAEBAAEFApupx29z1oStPxBd/8QAFhEAAwAAAAAAAAAAAAAAAAAAECFB/9oACAEDAQE/AVR//8QAFxEBAQEBAAAAAAAAAAAAAAAAAQASQf/aAAgBAgEBPwEHlm//xAAZEAACAwEAAAAAAAAAAAAAAAAAEQEQMSH/2gAIAQEABj8CeGdFNtH/xAAaEAEAAgMBAAAAAAAAAAAAAAABACERMXFh/9oACAEBAAE/IUQqtPsuhqqXJXsVLmSYrkBoZ//aAAwDAQACAAMAAAAQcM//xAAWEQEBAQAAAAAAAAAAAAAAAAABABH/2gAIAQMBAT8QSNL/xAAXEQADAQAAAAAAAAAAAAAAAAAAAREh/9oACAECAQE/EIyqWn//xAAaEAEAAwEBAQAAAAAAAAAAAAABABEhQVGR/9oACAEBAAE/EGwFwRVxfYRVcH61q8jOidzkA5sSl1+xKMoWUrYy1l1Z/9k=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;水池&quot;
        title=&quot;水池&quot;
        src=&quot;/static/341ab7c24c457232d42b9a63d2d53835/15ec7/shuichi.jpg&quot;
        srcset=&quot;/static/341ab7c24c457232d42b9a63d2d53835/9ac50/shuichi.jpg 173w,
/static/341ab7c24c457232d42b9a63d2d53835/8d48c/shuichi.jpg 345w,
/static/341ab7c24c457232d42b9a63d2d53835/15ec7/shuichi.jpg 690w,
/static/341ab7c24c457232d42b9a63d2d53835/af659/shuichi.jpg 1035w,
/static/341ab7c24c457232d42b9a63d2d53835/89b2d/shuichi.jpg 1380w,
/static/341ab7c24c457232d42b9a63d2d53835/d2602/shuichi.jpg 4032w&quot;
        sizes=&quot;(max-width: 690px) 100vw, 690px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 690px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/804de85ffe2ba75963b47d17ddc906e6/9568a/zoulang.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 133.52601156069366%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAbABQDASIAAhEBAxEB/8QAGQAAAgMBAAAAAAAAAAAAAAAAAAMBBAUC/8QAFwEBAAMAAAAAAAAAAAAAAAAAAgABA//aAAwDAQACEAMQAAABy23ElPIKDprcpaZSMp//xAAaEAADAQEBAQAAAAAAAAAAAAAAAQIDERIx/9oACAEBAAEFAjLNVSXFcSfKVF8Rm/ViEUf/xAAXEQADAQAAAAAAAAAAAAAAAAAAAREQ/9oACAEDAQE/AXlKf//EABcRAQEBAQAAAAAAAAAAAAAAAAASAQL/2gAIAQIBAT8BS3lL/8QAHBAAAgICAwAAAAAAAAAAAAAAAAERMQIQICJR/9oACAEBAAY/Ahy4KRQ0lrrXhk+P/8QAHBABAAIDAQEBAAAAAAAAAAAAAQARITFBYVGR/9oACAEBAAE/IUQx3c0oOGbh1fsRqpTPGYaOb5ETIL6wra9QWCLDEo+TVjQs3EiU1if/2gAMAwEAAgADAAAAEEQQP//EABcRAQEBAQAAAAAAAAAAAAAAAAARASH/2gAIAQMBAT8QxMrq0v/EABcRAQEBAQAAAAAAAAAAAAAAAAERACH/2gAIAQIBAT8Qt1YE7lDLv//EAB0QAQADAAMBAQEAAAAAAAAAAAEAESExQWHBgbH/2gAIAQEAAT8Q0QstAr5COgBAVy764lUNvNzAlBSOCbvEW8Zza7F95MRTF/h5KYVXpw/J0vKncG521/I1DyXmoLp4S5oIUHuf/9k=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;走廊&quot;
        title=&quot;走廊&quot;
        src=&quot;/static/804de85ffe2ba75963b47d17ddc906e6/15ec7/zoulang.jpg&quot;
        srcset=&quot;/static/804de85ffe2ba75963b47d17ddc906e6/9ac50/zoulang.jpg 173w,
/static/804de85ffe2ba75963b47d17ddc906e6/8d48c/zoulang.jpg 345w,
/static/804de85ffe2ba75963b47d17ddc906e6/15ec7/zoulang.jpg 690w,
/static/804de85ffe2ba75963b47d17ddc906e6/af659/zoulang.jpg 1035w,
/static/804de85ffe2ba75963b47d17ddc906e6/89b2d/zoulang.jpg 1380w,
/static/804de85ffe2ba75963b47d17ddc906e6/9568a/zoulang.jpg 3024w&quot;
        sizes=&quot;(max-width: 690px) 100vw, 690px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 690px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/2cee5fdd3947ef1637e9095c8000ca8c/d2602/guanxitai.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 75.14450867052024%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAwAE/8QAFQEBAQAAAAAAAAAAAAAAAAAAAgH/2gAMAwEAAhADEAAAAcWtTLCOp//EABsQAAICAwEAAAAAAAAAAAAAAAECAAMEERIh/9oACAEBAAEFAhWWi47FOazHUC0969n/xAAXEQEAAwAAAAAAAAAAAAAAAAAAARES/9oACAEDAQE/AdSt/8QAFREBAQAAAAAAAAAAAAAAAAAAABH/2gAIAQIBAT8BiP/EABsQAAEEAwAAAAAAAAAAAAAAAAABAhEhECIx/9oACAEBAAY/AqbBsqJFnX4cWf/EABoQAQEBAAMBAAAAAAAAAAAAAAERACExQXH/2gAIAQEAAT8hfjr7qETwK47QJx5piorwmZC06tyPtd//2gAMAwEAAgADAAAAECwf/8QAFhEBAQEAAAAAAAAAAAAAAAAAEQAB/9oACAEDAQE/ENAnf//EABURAQEAAAAAAAAAAAAAAAAAABAR/9oACAECAQE/EIH/xAAcEAEAAwACAwAAAAAAAAAAAAABABEhMWFBUZH/2gAIAQEAAT8QNE9HpfdxZvpsZ4MJeWzaw3EZMlFcuD1NX0V8OJTpsKGqyf/Z&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;观戏台&quot;
        title=&quot;观戏台&quot;
        src=&quot;/static/2cee5fdd3947ef1637e9095c8000ca8c/15ec7/guanxitai.jpg&quot;
        srcset=&quot;/static/2cee5fdd3947ef1637e9095c8000ca8c/9ac50/guanxitai.jpg 173w,
/static/2cee5fdd3947ef1637e9095c8000ca8c/8d48c/guanxitai.jpg 345w,
/static/2cee5fdd3947ef1637e9095c8000ca8c/15ec7/guanxitai.jpg 690w,
/static/2cee5fdd3947ef1637e9095c8000ca8c/af659/guanxitai.jpg 1035w,
/static/2cee5fdd3947ef1637e9095c8000ca8c/89b2d/guanxitai.jpg 1380w,
/static/2cee5fdd3947ef1637e9095c8000ca8c/d2602/guanxitai.jpg 4032w&quot;
        sizes=&quot;(max-width: 690px) 100vw, 690px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;h2 id=&quot;上海历史博物馆&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E4%B8%8A%E6%B5%B7%E5%8E%86%E5%8F%B2%E5%8D%9A%E7%89%A9%E9%A6%86&quot; aria-label=&quot;上海历史博物馆 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;上海历史博物馆&lt;/h2&gt;
&lt;p&gt;本来想去上海博物馆的，无奈因为没票了所以就去了附近的上海历史博物馆，一开始我内心想的是上海除了民国历史还有历史吗，后来发现我错了，和中国古代其他地方一样，很早就有人了，最早是属于良渚文明区的，后来历经吴越楚，秦汉等所有朝代都设有管辖，只不过名称不是上海，那时也不繁华。&lt;/p&gt;
&lt;p&gt;上海历史博物馆主要参观区域有四层：第一层是红色革命历史；第二层是古代上海；第三和第四层是近代上海，主要就是清末民国建国时期。有各种照片、书刊、文物、历史纪念物等，也有很多投影仪讲解。&lt;/p&gt;
&lt;p&gt;在第一层时遇到一个可能不到十岁的少年郎，传着红军的军装，然后给别人讲解每个照片的，印象最深的就是声音：很嘹亮，很正能量，很正式的用很标准的普通话在念。&lt;/p&gt;
&lt;p&gt;第二层有两个使用了高科技的展示，一个是裸眼 3D或者说 AR 技术，另一个是听觉方面的，音箱就在头上面的屋顶，但是感觉声音就在耳边，四周也没发现其他音箱，这两个真想不通怎么做到的。&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 690px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/6696d62569143acfd0255ec469588990/9568a/outside-of-shanghai-historical-meseum.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 133.52601156069366%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAbABQDASIAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAAAAQFAgP/xAAWAQEBAQAAAAAAAAAAAAAAAAAAAQL/2gAMAwEAAhADEAAAAaawiWTIkrgu1m4OIv8A/8QAHxAAAgEDBQEAAAAAAAAAAAAAAQIDERIhAAQQEzE0/9oACAEBAAEFAnNqQOTxuHtAOVNyyyB3qa9hGpPokw59/8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAwEBPwEf/8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAgEBPwEf/8QAHRAAAgICAwEAAAAAAAAAAAAAAAECERBBEiFRMf/aAAgBAQAGPwJtDjJ3vCXpyjoUvRNRZdfTqTRWrKx//8QAHBABAAICAwEAAAAAAAAAAAAAAQARITFBUWGx/9oACAEBAAE/IX24JdAjBYzqXaKXKaJK84TDiFSheBmj4JE7XTUxBgs+TFVP/9oADAMBAAIAAwAAABDzMs7/xAAXEQEBAQEAAAAAAAAAAAAAAAABABAR/9oACAEDAQE/EAwuX//EABcRAQEBAQAAAAAAAAAAAAAAAAEAEBH/2gAIAQIBAT8QXG7f/8QAHBABAQADAAMBAAAAAAAAAAAAAREAIUExUZGx/9oACAEBAAE/ECJjpffMcJYR23yff3FXZgsdXTbJox5EhPxEwSkgz09MdJgFJ25qVW7MLy9qml95Q3JVMlzmqAYSLQuf/9k=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;上海历史博物馆外观&quot;
        title=&quot;上海历史博物馆外观&quot;
        src=&quot;/static/6696d62569143acfd0255ec469588990/15ec7/outside-of-shanghai-historical-meseum.jpg&quot;
        srcset=&quot;/static/6696d62569143acfd0255ec469588990/9ac50/outside-of-shanghai-historical-meseum.jpg 173w,
/static/6696d62569143acfd0255ec469588990/8d48c/outside-of-shanghai-historical-meseum.jpg 345w,
/static/6696d62569143acfd0255ec469588990/15ec7/outside-of-shanghai-historical-meseum.jpg 690w,
/static/6696d62569143acfd0255ec469588990/af659/outside-of-shanghai-historical-meseum.jpg 1035w,
/static/6696d62569143acfd0255ec469588990/89b2d/outside-of-shanghai-historical-meseum.jpg 1380w,
/static/6696d62569143acfd0255ec469588990/9568a/outside-of-shanghai-historical-meseum.jpg 3024w&quot;
        sizes=&quot;(max-width: 690px) 100vw, 690px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 690px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/91653041e747a77150d6cb57c4e174f7/6905a/communist-manifesto.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 53.75722543352601%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAMEAf/EABYBAQEBAAAAAAAAAAAAAAAAAAQDBf/aAAwDAQACEAMQAAABRRBpNFpEVN//xAAZEAACAwEAAAAAAAAAAAAAAAAAAQIREiL/2gAIAQEAAQUChRySzaGxn//EABgRAAIDAAAAAAAAAAAAAAAAAAACAUFR/9oACAEDAQE/AaJZcP/EABYRAQEBAAAAAAAAAAAAAAAAAAABEf/aAAgBAgEBPwFlf//EABQQAQAAAAAAAAAAAAAAAAAAACD/2gAIAQEABj8CX//EABgQAAMBAQAAAAAAAAAAAAAAAAABESEx/9oACAEBAAE/IQ50rgdwdOjOn//aAAwDAQACAAMAAAAQez//xAAVEQEBAAAAAAAAAAAAAAAAAAABAP/aAAgBAwEBPxBRgVGf/8QAFxEAAwEAAAAAAAAAAAAAAAAAAAERMf/aAAgBAgEBPxCOilp//8QAGhABAAIDAQAAAAAAAAAAAAAAAQARMUFRgf/aAAgBAQABPxAGriDf5BcSFdhsmbJEZM//2Q==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;共产党宣言&quot;
        title=&quot;共产党宣言&quot;
        src=&quot;/static/91653041e747a77150d6cb57c4e174f7/15ec7/communist-manifesto.jpg&quot;
        srcset=&quot;/static/91653041e747a77150d6cb57c4e174f7/9ac50/communist-manifesto.jpg 173w,
/static/91653041e747a77150d6cb57c4e174f7/8d48c/communist-manifesto.jpg 345w,
/static/91653041e747a77150d6cb57c4e174f7/15ec7/communist-manifesto.jpg 690w,
/static/91653041e747a77150d6cb57c4e174f7/af659/communist-manifesto.jpg 1035w,
/static/91653041e747a77150d6cb57c4e174f7/89b2d/communist-manifesto.jpg 1380w,
/static/91653041e747a77150d6cb57c4e174f7/6905a/communist-manifesto.jpg 3269w&quot;
        sizes=&quot;(max-width: 690px) 100vw, 690px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 690px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/0a45e37f0f0b7651a1c8c930c34d2f8d/9568a/chenduxiu.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 133.52601156069366%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAbABQDASIAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAAAAMEAgH/xAAWAQEBAQAAAAAAAAAAAAAAAAAAAgP/2gAMAwEAAhADEAAAAcVL7npSTkJxDqNMkv/EAB0QAAICAQUAAAAAAAAAAAAAAAECAAMhEBIiMkH/2gAIAQEAAQUCrTcFUBg2KOitgGIeHkEGn//EABQRAQAAAAAAAAAAAAAAAAAAACD/2gAIAQMBAT8BH//EABQRAQAAAAAAAAAAAAAAAAAAACD/2gAIAQIBAT8BH//EABoQAAIDAQEAAAAAAAAAAAAAAAERAAIQIDH/2gAIAQEABj8CJfkTy0BYywUXP//EABwQAQADAAIDAAAAAAAAAAAAAAEAESEQQVFhgf/aAAgBAQABPyE1KHpDC0+NlfB3v+eXMIoS19zoDAogx8v/2gAMAwEAAgADAAAAEGMxP//EABQRAQAAAAAAAAAAAAAAAAAAACD/2gAIAQMBAT8QH//EABYRAQEBAAAAAAAAAAAAAAAAAAEQEf/aAAgBAgEBPxANmpP/xAAcEAEBAAMBAQEBAAAAAAAAAAABEQAhMUFhccH/2gAIAQEAAT8QefJZVxasFGBqU+OzEAHEFfYcvj5jRB7Gzn8yp3j6oxohqYRkRjeff3NGtF1iHHOMHWf/2Q==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;陈独秀&quot;
        title=&quot;陈独秀&quot;
        src=&quot;/static/0a45e37f0f0b7651a1c8c930c34d2f8d/15ec7/chenduxiu.jpg&quot;
        srcset=&quot;/static/0a45e37f0f0b7651a1c8c930c34d2f8d/9ac50/chenduxiu.jpg 173w,
/static/0a45e37f0f0b7651a1c8c930c34d2f8d/8d48c/chenduxiu.jpg 345w,
/static/0a45e37f0f0b7651a1c8c930c34d2f8d/15ec7/chenduxiu.jpg 690w,
/static/0a45e37f0f0b7651a1c8c930c34d2f8d/af659/chenduxiu.jpg 1035w,
/static/0a45e37f0f0b7651a1c8c930c34d2f8d/89b2d/chenduxiu.jpg 1380w,
/static/0a45e37f0f0b7651a1c8c930c34d2f8d/9568a/chenduxiu.jpg 3024w&quot;
        sizes=&quot;(max-width: 690px) 100vw, 690px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 690px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/99d0903c873c584bcd7786cbc1353604/9568a/lidazhao.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 133.52601156069366%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAbABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAIEA//EABcBAAMBAAAAAAAAAAAAAAAAAAABAgP/2gAMAwEAAhADEAAAAXqmzzu4mJcOVbMUYR//xAAcEAEAAgIDAQAAAAAAAAAAAAACAAEDERATISL/2gAIAQEAAQUCxncEtehEDFnO1f1kFudSgrR5/8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAwEBPwEf/8QAFREBAQAAAAAAAAAAAAAAAAAAEBH/2gAIAQIBAT8BKf/EAB4QAAICAAcAAAAAAAAAAAAAAAABAhEQEiAhMUFh/9oACAEBAAY/An4cSWE8xuqGKjorR//EABsQAQACAwEBAAAAAAAAAAAAAAEAETFBURBh/9oACAEBAAE/ISuWoyLI7ajiORSRVY7DgI9NQFBsvM+Mw7whrUGvf//aAAwDAQACAAMAAAAQhOAy/8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAwEBPxAf/8QAFhEBAQEAAAAAAAAAAAAAAAAAARAR/9oACAECAQE/EA0mif/EABwQAQEBAAIDAQAAAAAAAAAAAAERACFhEDFRof/aAAgBAQABPxA9MCsLjCUIJH46hHlMQUpE8uPBqLYFlgsuF0qQNE1MCXbidnboK34zejjx/9k=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;李大钊&quot;
        title=&quot;李大钊&quot;
        src=&quot;/static/99d0903c873c584bcd7786cbc1353604/15ec7/lidazhao.jpg&quot;
        srcset=&quot;/static/99d0903c873c584bcd7786cbc1353604/9ac50/lidazhao.jpg 173w,
/static/99d0903c873c584bcd7786cbc1353604/8d48c/lidazhao.jpg 345w,
/static/99d0903c873c584bcd7786cbc1353604/15ec7/lidazhao.jpg 690w,
/static/99d0903c873c584bcd7786cbc1353604/af659/lidazhao.jpg 1035w,
/static/99d0903c873c584bcd7786cbc1353604/89b2d/lidazhao.jpg 1380w,
/static/99d0903c873c584bcd7786cbc1353604/9568a/lidazhao.jpg 3024w&quot;
        sizes=&quot;(max-width: 690px) 100vw, 690px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;h2 id=&quot;上海路名&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E4%B8%8A%E6%B5%B7%E8%B7%AF%E5%90%8D&quot; aria-label=&quot;上海路名 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;上海路名&lt;/h2&gt;
&lt;p&gt;上海的路名是以各省市乃至县名来命名的，其历史也伴随着中国近代历史，从民国开始推广的，不过是伪政权汪精卫推广的，后来新中国成立后保留了大部分以省市命名的道路，再然后因为名字不够用了就开始用县的名称了。&lt;/p&gt;
&lt;h2 id=&quot;总结&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E6%80%BB%E7%BB%93&quot; aria-label=&quot;总结 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;总结&lt;/h2&gt;
&lt;p&gt;因为行程时间有限，所以只是简单看下上面的几个景点，还有陆家嘴、东方明珠、武康路历史文化名街、上海迪斯尼、杜莎夫人蜡像馆、美术馆等留着下次去上海参观吧。&lt;/p&gt;</content:encoded></item><item><title><![CDATA[使用 Sentry 监控浏览器异常]]></title><description><![CDATA[一个典型的功能迭代周期，开发尽量按时交付功能，测试尽量测出多的 bug，然后开发修完发现的 bug…]]></description><link>https://xiaocaoge.com//monitoring-browser-exception-with-sentry/</link><guid isPermaLink="false">https://xiaocaoge.com//monitoring-browser-exception-with-sentry/</guid><category><![CDATA[异常]]></category><category><![CDATA[错误]]></category><category><![CDATA[监控]]></category><category><![CDATA[Sentry]]></category><dc:creator><![CDATA[Alex]]></dc:creator><pubDate>Thu, 23 Apr 2020 16:00:00 GMT</pubDate><content:encoded>&lt;p&gt;一个典型的功能迭代周期，开发尽量按时交付功能，测试尽量测出多的 bug，然后开发修完发现的 bug，再然后，这个功能就上线了。但是，突然某一天用户通过客服反馈使用产品时遇到问题了，而你作为前端开发能从用户得到的信息非常有限，可能包括非常不精确的问题描述以及一张问题截图，然后你需要根据这些信息以及自己对相关代码的了解来复现用户遇到的问题。在这个过程中，你经常需要多次向用户获取更详细的问题，比如用户操作流程、用户的操作系统、浏览器、用户账号、页面地址等等信息。这些都大大浪费了时间，也浪费了用户的耐心。更糟糕的是有时候这些信息还是不够，你恨不得冲到用户那里，使用他的电脑来操作，当然也可以通过远程控制软件 TeamViewer 或者向日葵来完成。&lt;strong&gt;在日复一日这样的过程当中，你非常渴望在用户反馈问题时能一次性获取尽量多的信息，甚至在用户反馈问题之前就主动发现问题，然后顺手解决&lt;/strong&gt;。&lt;/p&gt;
&lt;p&gt;好消息是已经有这么一个&lt;strong&gt;开源免费&lt;/strong&gt;、&lt;strong&gt;可私有部署&lt;/strong&gt;的异常监控系统——&lt;a href=&quot;https://github.com/getsentry/sentry&quot;&gt;Sentry&lt;/a&gt;，可解决你遇到的烦恼。&lt;/p&gt;
&lt;h2 id=&quot;sentry-是什么？&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#sentry-%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F&quot; aria-label=&quot;sentry 是什么？ permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Sentry 是什么？&lt;/h2&gt;
&lt;p&gt;官方介绍如下&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Sentry fundamentally is a service that helps you monitor and fix crashes in realtime. The server is in Python, but it contains a full API for sending events from any language, in any application.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;strong&gt;译&lt;/strong&gt;：本质上，Sentry 是一个服务，可帮助你实时监控和修复崩溃。服务端使用 Python 书写，但是包含了一套完成的接口，可用于从任何语言、任何应用发送事件。&lt;/p&gt;
&lt;p&gt;Sentry 主要用于错误上报、监控、分析、报警，错误信息包含错误描述、调用栈、程序运行环境、网络请求、用户 Id 等信息，官方支持下面语言或框架：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;JavaScript&lt;/li&gt;
&lt;li&gt;React-Native&lt;/li&gt;
&lt;li&gt;Python&lt;/li&gt;
&lt;li&gt;Ruby&lt;/li&gt;
&lt;li&gt;PHP&lt;/li&gt;
&lt;li&gt;Go&lt;/li&gt;
&lt;li&gt;Rust&lt;/li&gt;
&lt;li&gt;Java&lt;/li&gt;
&lt;li&gt;Objective-C/Swift&lt;/li&gt;
&lt;li&gt;C#&lt;/li&gt;
&lt;li&gt;Perl&lt;/li&gt;
&lt;li&gt;Elixir&lt;/li&gt;
&lt;li&gt;Laravel&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;更多信息可以查看官方文档：&lt;a href=&quot;https://docs.sentry.io/&quot;&gt;Sentry Documentation&lt;/a&gt;。&lt;/p&gt;
&lt;h2 id=&quot;为什么选择-sentry？&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E4%B8%BA%E4%BB%80%E4%B9%88%E9%80%89%E6%8B%A9-sentry%EF%BC%9F&quot; aria-label=&quot;为什么选择 sentry？ permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;为什么选择 Sentry？&lt;/h2&gt;
&lt;p&gt;当然，除了 Sentry 还有其他商用的错误监控系统，比如&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://www.fundebug.com/&quot;&gt;FunDebug&lt;/a&gt;：国产收费服务，主要支持前端生态，功能比较全面。&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.bugsnag.com/&quot;&gt;bugsnag&lt;/a&gt;：支持主流语言与平台。&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://rollbar.com/&quot;&gt;rollbar&lt;/a&gt;：支持主流语言与平台。&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://airbrake.io/&quot;&gt;airbrake&lt;/a&gt;：支持主流语言与平台。&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://raygun.com/&quot;&gt;raygun&lt;/a&gt;：支持主流语言与平台。&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://logrocket.com/&quot;&gt;LogRocket&lt;/a&gt;：主要用于 JS，可录制播放用户操作。&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://trackjs.com/&quot;&gt;trackjs&lt;/a&gt;：仅限于 JS。&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://catchjs.com/&quot;&gt;CatchJS&lt;/a&gt;：仅限于 JS。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;相比较而言，Sentry 具有以下优势：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;开源&lt;/li&gt;
&lt;li&gt;免费私有部署&lt;/li&gt;
&lt;li&gt;支持语言或框架全面&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;sentry-入门&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#sentry-%E5%85%A5%E9%97%A8&quot; aria-label=&quot;sentry 入门 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Sentry 入门&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;引入 SDK 可以查看 &lt;a href=&quot;https://docs.sentry.io/error-reporting/quickstart/?platform=node&quot;&gt;Getting Started&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;私有部署可以查看 &lt;a href=&quot;https://docs.sentry.io/server/installation/&quot;&gt;Installation&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;下面操作假设已经有一个私有部署的系统和对应的账号，且以 Sentry JavaScript 为主。&lt;/strong&gt;&lt;/p&gt;
&lt;h3 id=&quot;创建项目（project）&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E5%88%9B%E5%BB%BA%E9%A1%B9%E7%9B%AE%EF%BC%88project%EF%BC%89&quot; aria-label=&quot;创建项目（project） permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;创建项目（Project）&lt;/h3&gt;
&lt;p&gt;进入 Sentry 系统按照指示，选择合适的语言或框架，并填写项目所属团队，项目名称信息，成功创建一个项目。&lt;/p&gt;
&lt;h3 id=&quot;sentry-sdk&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#sentry-sdk&quot; aria-label=&quot;sentry sdk permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Sentry SDK&lt;/h3&gt;
&lt;p&gt;每个项目都有唯一的 &lt;strong&gt;DSN&lt;/strong&gt;，然后根据不同的语言或框架 SDK 教程来引入 SDK，并配置 dsn 或其他参数。&lt;/p&gt;
&lt;p&gt;至此，项目部署之后，就可以进行错误收集了，当然你也可以本地测试时手动触发错误。&lt;/p&gt;
&lt;h3 id=&quot;查看错误信息&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E6%9F%A5%E7%9C%8B%E9%94%99%E8%AF%AF%E4%BF%A1%E6%81%AF&quot; aria-label=&quot;查看错误信息 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;查看错误信息&lt;/h3&gt;
&lt;p&gt;Sentry 会对相似的错误进行聚合，成为一个问题（Issue），每次错误上报称为一个事件（Event）。&lt;/p&gt;
&lt;h4 id=&quot;问题列表&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E9%97%AE%E9%A2%98%E5%88%97%E8%A1%A8&quot; aria-label=&quot;问题列表 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;问题列表&lt;/h4&gt;
&lt;p&gt;进入项目页面，默认展示最新上报的未解决的 问题列表，包含错误名称、文件路径、事件数量、用户数量等，并可以分配问题给某个成员。&lt;/p&gt;
&lt;h4 id=&quot;事件详情页面&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E4%BA%8B%E4%BB%B6%E8%AF%A6%E6%83%85%E9%A1%B5%E9%9D%A2&quot; aria-label=&quot;事件详情页面 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;事件详情页面&lt;/h4&gt;
&lt;p&gt;点击某个问题，进入事件详情页面，页面包含丰富的运行环境、错误描述、调用栈、DOM、网络请求、时间相关信息，可以根据调用栈来定位问题发生的文件、行列。&lt;/p&gt;
&lt;h3 id=&quot;修复错误&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E4%BF%AE%E5%A4%8D%E9%94%99%E8%AF%AF&quot; aria-label=&quot;修复错误 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;修复错误&lt;/h3&gt;
&lt;p&gt;根据问题的时间数量、用户数量以及问题可能影响来决定修复的先后顺序。根据事件详情页面的调用栈、运行环境等复现、定位问题，然后修复问题。&lt;/p&gt;
&lt;h2 id=&quot;sentry-实践&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#sentry-%E5%AE%9E%E8%B7%B5&quot; aria-label=&quot;sentry 实践 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Sentry 实践&lt;/h2&gt;
&lt;p&gt;除了按照入门教程来配置和操作之外，经过实际项目体验，列举下面一些对于实践有帮助的经验。&lt;/p&gt;
&lt;h3 id=&quot;配置钉钉通知&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E9%85%8D%E7%BD%AE%E9%92%89%E9%92%89%E9%80%9A%E7%9F%A5&quot; aria-label=&quot;配置钉钉通知 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;配置钉钉通知&lt;/h3&gt;
&lt;p&gt;Sentry 默认有邮件通知，但是很多人不会安装邮件客户端或者打开网页版邮件，而配置钉钉通知可以更及时收到警告通知，需要安装 &lt;a href=&quot;https://github.com/anshengme/sentry-dingding&quot;&gt;Sentry 钉钉通知插件&lt;/a&gt;才可以配置钉钉通知。除了可以配置钉钉之外还可以 &lt;a href=&quot;https://docs.sentry.io/webhook-plugin/&quot;&gt;Webhook Plugin&lt;/a&gt; 来或者 &lt;a href=&quot;https://docs.sentry.io/workflow/integrations/integration-platform/&quot;&gt;Integration&lt;/a&gt; 实现其他方式通知。&lt;/p&gt;
&lt;h3 id=&quot;sdk-cdn&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#sdk-cdn&quot; aria-label=&quot;sdk cdn permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;SDK CDN&lt;/h3&gt;
&lt;p&gt;默认的 Sentry CDN 对于国内来说比较慢，可以直接下载 &lt;a href=&quot;https://www.npmjs.com/package/@sentry/browser&quot;&gt;@sentry/browser&lt;/a&gt; 并上传到自有 CDN 上面来引入。&lt;/p&gt;
&lt;h3 id=&quot;区分不同环境&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E5%8C%BA%E5%88%86%E4%B8%8D%E5%90%8C%E7%8E%AF%E5%A2%83&quot; aria-label=&quot;区分不同环境 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;区分不同环境&lt;/h3&gt;
&lt;p&gt;通常项目会存在测试环境、预发布环境、正式环境，不同环境应该对于 Sentry 不同的 Project，因为不同环境对于异常处理不同的。&lt;/p&gt;
&lt;h3 id=&quot;跟踪用户-id&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E8%B7%9F%E8%B8%AA%E7%94%A8%E6%88%B7-id&quot; aria-label=&quot;跟踪用户 id permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;跟踪用户 ID&lt;/h3&gt;
&lt;p&gt;将错误与用户 ID 进行关联可以了解更多和用户相关信息，比如错误影响用户数量、具体影响了哪些用户。下面代码是进行关联的配置：&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;Sentry&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;configureScope&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;scope&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; uid &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;getCookie&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;uid&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;
    scope&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setUser&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; id&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; uid &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id=&quot;采样频率&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E9%87%87%E6%A0%B7%E9%A2%91%E7%8E%87&quot; aria-label=&quot;采样频率 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;采样频率&lt;/h3&gt;
&lt;p&gt;如果能收集所有错误当然最好，但是对于老旧项目可能存在相当多的对功能无关紧要的报错，另外，也要考虑到服务器的成本和压力，因此降低采样频率在某些情况下是很有必要的。可以通过参数&lt;code class=&quot;language-text&quot;&gt;sampleRate&lt;/code&gt;来设置，比如&lt;code class=&quot;language-text&quot;&gt;sampleRate: 0.2&lt;/code&gt;表示采样率为 20%。&lt;/p&gt;
&lt;h3 id=&quot;过滤错误&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E8%BF%87%E6%BB%A4%E9%94%99%E8%AF%AF&quot; aria-label=&quot;过滤错误 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;过滤错误&lt;/h3&gt;
&lt;p&gt;在实际应用 Sentry 过程中，发现一些错误是因为页面运行环境存在问题或者恶意用户产生的错误，这时可以通过&lt;code class=&quot;language-text&quot;&gt;beforeSend&lt;/code&gt;参数来对上报事件进行过滤，比如：&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; ignoreRules &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
  &lt;span class=&quot;token string&quot;&gt;&apos;Blocked a frame with origin&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token string&quot;&gt;&apos;vivoNewsDetailPage.getNewsReadStatus4Vivo&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token string&quot;&gt;&apos;cefQuery is not defined&apos;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;isMatchedIgnoreRules&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;value&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; i &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; i &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt; ignoreRules&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;length&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; i&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;value&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;indexOf&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;ignoreRules&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;i&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token function-variable function&quot;&gt;beforeSend&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;event&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; values &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; event&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;exception&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;values
  &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; shouldIgnore &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; values&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;some&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;isMatchedIgnoreRules&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;value&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;value&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;shouldIgnore&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; event
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id=&quot;解决问题优先级&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E8%A7%A3%E5%86%B3%E9%97%AE%E9%A2%98%E4%BC%98%E5%85%88%E7%BA%A7&quot; aria-label=&quot;解决问题优先级 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;解决问题优先级&lt;/h3&gt;
&lt;p&gt;默认是按照最近发生的来排序的，解决需要按照错误数量、影响人数来从高到底更合理些，另外更关注最近一天或一周的范围要比所有时间段更合理，因为可能过去的错误已经解决了，只是 Sentry 上面还没有标记已解决。Sentry 本身提供了相对比较强大的排序和筛选功能，比如最近7天未解决的可以搜索框输入&lt;code class=&quot;language-text&quot;&gt;is:unresolved lastSeen:-7d&lt;/code&gt;。&lt;/p&gt;
&lt;h3 id=&quot;错误数据报表&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E9%94%99%E8%AF%AF%E6%95%B0%E6%8D%AE%E6%8A%A5%E8%A1%A8&quot; aria-label=&quot;错误数据报表 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;错误数据报表&lt;/h3&gt;
&lt;p&gt;有时我们需要通过数据来分析我们解决问题的成果，来分析错误事件数量变化趋势，Sentry 本身只提供了非常简单的柱状图，阅读体验并不好。幸好，我们可以通过爬取它接口的数据来自己生成表格或者图表，比如一个生成命令行表格的工具示例 &lt;a href=&quot;https://github.com/Alex1990/sentry-overview&quot;&gt;sentry-overview&lt;/a&gt;。&lt;/p&gt;
&lt;h2 id=&quot;javascript-异常上报基本原理&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#javascript-%E5%BC%82%E5%B8%B8%E4%B8%8A%E6%8A%A5%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86&quot; aria-label=&quot;javascript 异常上报基本原理 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;JavaScript 异常上报基本原理&lt;/h2&gt;
&lt;p&gt;在浏览器中，可以通过浏览器提供的一些接口来获取信息，比如 &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/API/Navigator&quot;&gt;Navigator&lt;/a&gt;、&lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/API/Screen&quot;&gt;Screen&lt;/a&gt;、&lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/API/Document/cookie&quot;&gt;document.cookie&lt;/a&gt; 等等。还可以通过&lt;strong&gt;全局监听&lt;/strong&gt;或者&lt;strong&gt;接口重写&lt;/strong&gt;两种方式来获取错误或者其他页面相关信息，下面分别举一些基本的示例来说明如何使用这两种方式。&lt;/p&gt;
&lt;h3 id=&quot;全局监听&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E5%85%A8%E5%B1%80%E7%9B%91%E5%90%AC&quot; aria-label=&quot;全局监听 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;全局监听&lt;/h3&gt;
&lt;h4 id=&quot;error-event&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#error-event&quot; aria-label=&quot;error event permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;error event&lt;/h4&gt;
&lt;p&gt;通过在&lt;code class=&quot;language-text&quot;&gt;window&lt;/code&gt;上面绑定&lt;code class=&quot;language-text&quot;&gt;error&lt;/code&gt;事件来监听代码错误、&lt;code class=&quot;language-text&quot;&gt;&amp;lt;link&amp;gt;&lt;/code&gt;或&lt;code class=&quot;language-text&quot;&gt;&amp;lt;script&amp;gt;&lt;/code&gt;资源加载错误等。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;查看在线示例：&lt;/strong&gt;&lt;a href=&quot;https://alex1990.github.io/javascript-exception-monitor/error.html&quot;&gt;error.html&lt;/a&gt; 和 &lt;a href=&quot;https://alex1990.github.io/javascript-exception-monitor/link.html&quot;&gt;link.html&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;script&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token script&quot;&gt;&lt;span class=&quot;token language-javascript&quot;&gt;
  window&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;addEventListener&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;error&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;event&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;error message: &apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; event&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;message&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;error source: &apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; event&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;filename&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;error lineno: &apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; event&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;lineno&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;error colno: &apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; event&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;colno&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;error stack:\n&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; event&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;error&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;stack&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;script&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;script&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token script&quot;&gt;&lt;span class=&quot;token language-javascript&quot;&gt;
  &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; n &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;
    n&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;split&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;script&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h4 id=&quot;unhandledrejection-event&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#unhandledrejection-event&quot; aria-label=&quot;unhandledrejection event permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;unhandledrejection event&lt;/h4&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;error&lt;/code&gt;事件无法监听到 Promise 异常，可以通过&lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/API/Window/unhandledrejection_event&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;unhandledrejection&lt;/code&gt;&lt;/a&gt;事件来实现。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;查看在线示例：&lt;/strong&gt;&lt;a href=&quot;https://alex1990.github.io/javascript-exception-monitor/unhandledrejection.html&quot;&gt;unhandledrejection.html&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;script&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token script&quot;&gt;&lt;span class=&quot;token language-javascript&quot;&gt;
  window&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function-variable function&quot;&gt;onunhandledrejection&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;event&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; reason &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; event&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;reason
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;error message: &apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; reason&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;message&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;error stack:\n&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; reason&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;stack&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;script&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;script&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token script&quot;&gt;&lt;span class=&quot;token language-javascript&quot;&gt;
  &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Promise&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;resolve&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; reject&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token function&quot;&gt;reject&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Error&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;some error&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;script&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h4 id=&quot;dom-events&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#dom-events&quot; aria-label=&quot;dom events permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;DOM Events&lt;/h4&gt;
&lt;p&gt;通过监听&lt;code class=&quot;language-text&quot;&gt;window&lt;/code&gt;上面的常见&lt;code class=&quot;language-text&quot;&gt;DOM&lt;/code&gt;事件，可以获取事件相关信息，比如事件类型、发生时间、事件触发元素路径等。需要注意，最好在捕获阶段监听，因为通常 Web 开发监听在冒泡阶段，而且有可能阻止事件冒泡。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;查看在线示例：&lt;/strong&gt;&lt;a href=&quot;https://alex1990.github.io/javascript-exception-monitor/dom-events.html&quot;&gt;dom-events.html&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;page container&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;button&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;btn&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;Trigger Click Event&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;button&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;script&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token script&quot;&gt;&lt;span class=&quot;token language-javascript&quot;&gt;
  &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; toString &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Object&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;prototype&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;toString
  &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; btn &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getElementById&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;btn&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  btn&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;addEventListener&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;click&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;event&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    event&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;stopPropagation&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;button clicked&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  window&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;addEventListener&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;click&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;event&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;event type: &apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; event&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;type&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; path &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
    event&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;path&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;forEach&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;elem&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; tag &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;&apos;&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;elem&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;nodeType&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;elem&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;nodeType &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          tag &lt;span class=&quot;token operator&quot;&gt;+=&lt;/span&gt; elem&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;tagName&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;toLowerCase&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
          &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;elem&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;id&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            tag &lt;span class=&quot;token operator&quot;&gt;+=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;#&apos;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; elem&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;id
          &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;elem&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;className&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            tag &lt;span class=&quot;token operator&quot;&gt;+=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;.&apos;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; elem&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;className&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;replace&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token regex&quot;&gt;/\s+/g&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;.&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
          &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;elem&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;nodeType &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;9&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          tag &lt;span class=&quot;token operator&quot;&gt;+=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;document&apos;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;toString&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;call&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;elem&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;[object Window]&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        tag &lt;span class=&quot;token operator&quot;&gt;+=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;window&apos;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
      path&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;tag&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;event path: &apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; path&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;event&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; event&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;script&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id=&quot;接口重写&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E6%8E%A5%E5%8F%A3%E9%87%8D%E5%86%99&quot; aria-label=&quot;接口重写 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;接口重写&lt;/h3&gt;
&lt;h4 id=&quot;ajax&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#ajax&quot; aria-label=&quot;ajax permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Ajax&lt;/h4&gt;
&lt;p&gt;可以通过重写&lt;code class=&quot;language-text&quot;&gt;XMLHttpRequest&lt;/code&gt;或者其原型方法来收集请求信息。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;查看在线示例：&lt;/strong&gt;&lt;a href=&quot;https://alex1990.github.io/javascript-exception-monitor/ajax.html&quot;&gt;ajax.html&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;script&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token script&quot;&gt;&lt;span class=&quot;token language-javascript&quot;&gt;
  &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; originalOpen &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;XMLHttpRequest&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;prototype&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;open
  &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; originalSend &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;XMLHttpRequest&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;prototype&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;send
  &lt;span class=&quot;token class-name&quot;&gt;XMLHttpRequest&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;prototype&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function-variable function&quot;&gt;open&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;method&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; url&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; async&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; username&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; password&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;request method: &apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; method&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;request url: &apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; url&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;originalOpen&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;call&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; method&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; url&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; async&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; username&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; password&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token class-name&quot;&gt;XMLHttpRequest&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;prototype&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function-variable function&quot;&gt;send&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; _this &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;listener&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;event&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;_this&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;readyState &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;response status&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; _this&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;status&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;response statusText&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; _this&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;statusText&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
      _this&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;removeEventListener&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;readystatechange&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; listener&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;addEventListener&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;readystatechange&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; listener&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;originalSend&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;call&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; data&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; xhr &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;XMLHttpRequest&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  xhr&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;open&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;get&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;/&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  xhr&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;send&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;script&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h4 id=&quot;consolelog&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#consolelog&quot; aria-label=&quot;consolelog permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;console.log&lt;/h4&gt;
&lt;p&gt;通过重写&lt;code class=&quot;language-text&quot;&gt;console.log&lt;/code&gt;方法可以收集&lt;code class=&quot;language-text&quot;&gt;console.log&lt;/code&gt;输出。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;查看在线示例：&lt;/strong&gt;&lt;a href=&quot;https://alex1990.github.io/javascript-exception-monitor/console.html&quot;&gt;console.html&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;script&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token script&quot;&gt;&lt;span class=&quot;token language-javascript&quot;&gt;
    &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;LOG_MAX&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;100&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; logs &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; originalLog &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;log
    window&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function-variable function&quot;&gt;log&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; args &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Array&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;prototype&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;slice&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;call&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;arguments&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; log &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
      args&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;forEach&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;arg&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;typeof&lt;/span&gt; arg &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;undefined&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          log&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;undefined&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;typeof&lt;/span&gt; arg &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;function&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          log&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;arg&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;toString&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          &lt;span class=&quot;token comment&quot;&gt;// Set, Map, ... need to be handled exceptionally&lt;/span&gt;
          log&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;JSON&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;stringify&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;arg&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;logs&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;length &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;LOG_MAX&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        logs&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;shift&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
      logs&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;log&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;token function&quot;&gt;originalLog&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;JSON&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;stringify&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;logs&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;hello world&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;undefined&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;script&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content:encoded></item><item><title><![CDATA[npm 包安全缺陷]]></title><description><![CDATA[自从 npm 在执行命令时自动开启安全审计（）之后，很多前端或 Node.js 项目都报出几个或者一堆安全缺陷问题，尤其对于庞大的旧项目，数百乃至上万个安全缺陷问题。后来，Github 添加了 Security…]]></description><link>https://xiaocaoge.com//npm-package-security-vulnerability/</link><guid isPermaLink="false">https://xiaocaoge.com//npm-package-security-vulnerability/</guid><category><![CDATA[安全]]></category><category><![CDATA[npm]]></category><category><![CDATA[npm package]]></category><dc:creator><![CDATA[Alex]]></dc:creator><pubDate>Fri, 10 Apr 2020 16:00:00 GMT</pubDate><content:encoded>&lt;p&gt;自从 npm 在执行&lt;code class=&quot;language-text&quot;&gt;npm install&lt;/code&gt;命令时自动开启安全审计（&lt;code class=&quot;language-text&quot;&gt;npm audit&lt;/code&gt;）之后，很多前端或 Node.js 项目都报出几个或者一堆安全缺陷问题，尤其对于庞大的旧项目，数百乃至上万个安全缺陷问题。后来，Github 添加了 Security 功能，对项目开启依赖自动审计后，就不断接收到依赖存在安全缺陷的消息。之前只是简单的通过&lt;code class=&quot;language-text&quot;&gt;npm audit fix&lt;/code&gt;或者升级依赖来解决，这通常能解决绝大部分问题，然后并没有仔细研究过这方面，现在是时候了。&lt;/p&gt;
&lt;h2 id=&quot;何为安全缺陷（security-vulnerability）？&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E4%BD%95%E4%B8%BA%E5%AE%89%E5%85%A8%E7%BC%BA%E9%99%B7%EF%BC%88security-vulnerability%EF%BC%89%EF%BC%9F&quot; aria-label=&quot;何为安全缺陷（security vulnerability）？ permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;何为安全缺陷（Security Vulnerability）？&lt;/h2&gt;
&lt;p&gt;根据维基百科 &lt;a href=&quot;https://en.wikipedia.org/wiki/Vulnerability_(computing)&quot;&gt;Vulnerability&lt;/a&gt; 定义：&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;In computer security, a vulnerability is a weakness which can be exploited by a threat actor, such as an attacker, to perform unauthorized actions within a computer system.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;即，在电脑安全领域，缺陷是指可以被攻击者来利用的弱点，攻击者可以用来在电脑系统当中执行一些未授许可的操作。比如，访问一些没有权限的数据，修改没有权限的数据，使系统正常的服务出现问题等等。因此，作为开发者需要关注应用的安全缺陷，作为开源维护者更需要关注安全问题，也即项目&lt;strong&gt;缺陷管理（Vulnerability Management）&lt;/strong&gt;。&lt;/p&gt;
&lt;p&gt;我们可以经常接触到的前端代码安全缺陷管理主要是&lt;code class=&quot;language-text&quot;&gt;npm audit&lt;/code&gt;命令以及 Github Security 功能。另外，还有很多免费或商业的代码安全审计服务。&lt;/p&gt;
&lt;h2 id=&quot;npm-audit&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#npm-audit&quot; aria-label=&quot;npm audit permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;npm audit&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;注意：&lt;code class=&quot;language-text&quot;&gt;npm audit&lt;/code&gt;命令在 npm@6 当中添加。&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;执行&lt;code class=&quot;language-text&quot;&gt;npm audit&lt;/code&gt;命令需要存在&lt;code class=&quot;language-text&quot;&gt;package.json&lt;/code&gt;和&lt;code class=&quot;language-text&quot;&gt;package-lock.json&lt;/code&gt;文件，否则会报错。&lt;/p&gt;
&lt;p&gt;执行&lt;code class=&quot;language-text&quot;&gt;npm audit&lt;/code&gt;之后，会输出类似于下面的安全报告表格以及不同严重级别的总数。&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;txt&quot;&gt;&lt;pre class=&quot;language-txt&quot;&gt;&lt;code class=&quot;language-txt&quot;&gt;# Run  npm update handlebars --depth 7 to resolve 1 vulnerability
┌───────────────┬──────────────────────────────────────────────────────────────┐
│ High          │ Prototype Pollution                                          │
├───────────────┼──────────────────────────────────────────────────────────────┤
│ Package       │ handlebars                                                   │
├───────────────┼──────────────────────────────────────────────────────────────┤
│ Dependency of │ jest [dev]                                                   │
├───────────────┼──────────────────────────────────────────────────────────────┤
│ Path          │ jest &amp;gt; jest-cli &amp;gt; @jest/core &amp;gt; @jest/reporters &amp;gt;             │
│               │ istanbul-reports &amp;gt; handlebars                                │
├───────────────┼──────────────────────────────────────────────────────────────┤
│ More info     │ https://npmjs.com/advisories/1325                            │
└───────────────┴──────────────────────────────────────────────────────────────┘
found 38015 vulnerabilities (37997 low, 15 moderate, 3 high) in 877392 scanned packages
  run `npm audit fix` to fix 37905 of them.
  104 vulnerabilities require semver-major dependency updates.
  6 vulnerabilities require manual review. See the full report for details.&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id=&quot;审计报告（audit-report）&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E5%AE%A1%E8%AE%A1%E6%8A%A5%E5%91%8A%EF%BC%88audit-report%EF%BC%89&quot; aria-label=&quot;审计报告（audit report） permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;审计报告（Audit Report）&lt;/h3&gt;
&lt;p&gt;上面的表格是审计报告，包含严重性（Severity）、缺陷描述、缺陷来源包、依赖缺陷包的包、依赖路径、更多信息链接。详细解读查看 &lt;a href=&quot;https://docs.npmjs.com/about-audit-reports&quot;&gt;About audit reports&lt;/a&gt;。&lt;/p&gt;
&lt;h3 id=&quot;修复缺陷&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E4%BF%AE%E5%A4%8D%E7%BC%BA%E9%99%B7&quot; aria-label=&quot;修复缺陷 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;修复缺陷&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;使用&lt;code class=&quot;language-text&quot;&gt;npm audit fix&lt;/code&gt;修复所有可修复的缺陷。&lt;/li&gt;
&lt;li&gt;使用审计报告提示的命令&lt;code class=&quot;language-text&quot;&gt;npm update handlebars --depth 7&lt;/code&gt;来升级存在缺陷的 handlebars 包，该命令会修改&lt;code class=&quot;language-text&quot;&gt;package-lock.json&lt;/code&gt;，也需要把该文件添加到源码仓库里面。&lt;/li&gt;
&lt;li&gt;直接升级项目&lt;code class=&quot;language-text&quot;&gt;package.json&lt;/code&gt;里面的依赖。&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;github-security&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#github-security&quot; aria-label=&quot;github security permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Github Security&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;Github Security&lt;/strong&gt; 功能如果发现了依赖当中的安全缺陷会在仓库展示警告信息（只有仓库拥有者才能看到），另外也有通过发送消息来提醒。&lt;strong&gt;Security Alerts&lt;/strong&gt; 页面可以查看具体哪些依赖存在问题，可以生成自动更新 Pull Request。具体的使用文档可以查看 &lt;a href=&quot;https://help.github.com/en/github/managing-security-vulnerabilities/managing-vulnerabilities-in-your-projects-dependencies&quot;&gt;Managing vulnerabilities in your project&apos;s dependencies&lt;/a&gt;。&lt;/p&gt;
&lt;p&gt;当然，使用 Github Security 来作为提醒，使用 npm audit 来解决是一种不错的结合。另外，Github Security 有 &lt;a href=&quot;https://nvd.nist.gov/&quot;&gt;CVE&lt;/a&gt; 链接，npm 审计报告有更多信息链接，这些链接可以查看更详细的关于缺陷的描述、分析、资源等。&lt;/p&gt;
&lt;h2 id=&quot;代码审计服务&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1%E6%9C%8D%E5%8A%A1&quot; aria-label=&quot;代码审计服务 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;代码审计服务&lt;/h2&gt;
&lt;p&gt;下面这些都是对开源项目免费的代码审计服务：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://lgtm.com/&quot;&gt;lgtm&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://snyk.io/&quot;&gt;snyk&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;另外，在 &lt;a href=&quot;https://github.com/marketplace?category=security&quot;&gt;Github Marketplace&lt;/a&gt; 可以发现不少免费的代码审计服务。&lt;/p&gt;
&lt;h2 id=&quot;总结&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E6%80%BB%E7%BB%93&quot; aria-label=&quot;总结 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;总结&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;使用 Github Security 或者免费的代码审计服务来监控安全缺陷。&lt;/li&gt;
&lt;li&gt;使用 npm audit 来修复。&lt;/li&gt;
&lt;li&gt;参考相关链接进一步了解缺陷相关问题。&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;参考&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E5%8F%82%E8%80%83&quot; aria-label=&quot;参考 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;参考&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://docs.npmjs.com/auditing-package-dependencies-for-security-vulnerabilities&quot;&gt;Auditing package dependencies for security vulnerabilities&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://help.github.com/en/github/managing-security-vulnerabilities&quot;&gt;Managing security vulnerabilities&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[如何写一个 Babel 插件]]></title><description><![CDATA[Babel 是一个 JavaScript 语言的源码到源码（source to source）编译器，也可以进行源码静态分析，比如分析源码的依赖树。 本文只是记录一下自己学习写一个简单的 Babel Plugin babel-plugin-log…]]></description><link>https://xiaocaoge.com//how-to-writing-a-babel-plugin/</link><guid isPermaLink="false">https://xiaocaoge.com//how-to-writing-a-babel-plugin/</guid><category><![CDATA[Babel]]></category><category><![CDATA[Babel Plugin]]></category><category><![CDATA[Babel 插件]]></category><dc:creator><![CDATA[Alex]]></dc:creator><pubDate>Fri, 01 Nov 2019 16:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Babel 是一个 JavaScript 语言的源码到源码（source to source）编译器，也可以进行源码静态分析，比如分析源码的依赖树。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;本文只是记录一下自己学习写一个简单的 Babel Plugin &lt;a href=&quot;https://www.npmjs.com/package/babel-plugin-log&quot;&gt;babel-plugin-log&lt;/a&gt; 总结，更详细更好的入门教程可以看 &lt;a href=&quot;https://github.com/jamiebuilds/babel-handbook&quot;&gt;babel-handbook&lt;/a&gt;。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;一个使用-consolelog-的小问题&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E4%B8%80%E4%B8%AA%E4%BD%BF%E7%94%A8-consolelog-%E7%9A%84%E5%B0%8F%E9%97%AE%E9%A2%98&quot; aria-label=&quot;一个使用 consolelog 的小问题 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;一个使用 console.log 的小问题&lt;/h2&gt;
&lt;p&gt;在调试 JavaScript 时，经常需要使用&lt;code class=&quot;language-text&quot;&gt;console.log&lt;/code&gt;打印应用执行到某行代码时，某些变量或表达式的值，也经常会在多个地方打印。这样会导致浏览器或者终端一次性输出很多，有时候难以区分到底是哪里打印出来的，浏览器调试工具会给出代码文件及行列信息，但是我们不会去记写&lt;code class=&quot;language-text&quot;&gt;console.log&lt;/code&gt;的行列信息。所以经常会使用下面这种写法来标识：&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;data&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; data&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;1&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; data&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;当然，使用断点调试工具也可以非常方便观察某些变量或表达式运行过程中的值，但是有点儿大材小用，稍显麻烦，所以很多人还是习惯使用&lt;code class=&quot;language-text&quot;&gt;console.log&lt;/code&gt;。&lt;/p&gt;
&lt;p&gt;所以如果能有一个工具自动将&lt;code class=&quot;language-text&quot;&gt;console.log(a)&lt;/code&gt;转换成&lt;code class=&quot;language-text&quot;&gt;console.log(&amp;quot;a&amp;quot;, a)&lt;/code&gt;就好了，很容想到写一个 Babel 插件来解决这个问题。&lt;/p&gt;
&lt;h2 id=&quot;babel-插件快速上手&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#babel-%E6%8F%92%E4%BB%B6%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B&quot; aria-label=&quot;babel 插件快速上手 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Babel 插件快速上手&lt;/h2&gt;
&lt;p&gt;一些简单的代码转换插件是比较简单的，写 Babel 插件也是非常好上手的，并不需要惧怕。&lt;/p&gt;
&lt;h3 id=&quot;抽象语法树（ast）&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E6%8A%BD%E8%B1%A1%E8%AF%AD%E6%B3%95%E6%A0%91%EF%BC%88ast%EF%BC%89&quot; aria-label=&quot;抽象语法树（ast） permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;抽象语法树（AST）&lt;/h3&gt;
&lt;p&gt;&lt;a href=&quot;https://en.wikipedia.org/wiki/Abstract_syntax_tree&quot;&gt;抽象语法树&lt;/a&gt;（Abstract syntax tree，简写 AST）是用来描述源码抽象语法结构的树。&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;@babel/parser&lt;/code&gt;包，之前称为 babylon，用来完成将源码解析为 AST 的过程，遵循 &lt;a href=&quot;https://github.com/babel/babel/blob/master/packages/babel-parser/ast/spec.md&quot;&gt;Babel AST Spec&lt;/a&gt;。可以使用在线工具 &lt;a href=&quot;https://astexplorer.net/&quot;&gt;ASTExplorer&lt;/a&gt; 感受一下抽象语法树，这个工具在写插件时会经常用到。&lt;/p&gt;
&lt;h3 id=&quot;babel-编译过程&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#babel-%E7%BC%96%E8%AF%91%E8%BF%87%E7%A8%8B&quot; aria-label=&quot;babel 编译过程 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Babel 编译过程&lt;/h3&gt;
&lt;p&gt;Babel 编译的过程大致：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;解析（Parse）&lt;/strong&gt;：解析源码为一个抽象语法树，涉及到&lt;a href=&quot;https://en.wikipedia.org/wiki/Lexical_analysis&quot;&gt;静态分析（Lexical Analysis）&lt;/a&gt;和&lt;a href=&quot;https://en.wikipedia.org/wiki/Parsing&quot;&gt;语法分析（Syntactic Analysis）&lt;/a&gt;;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;转换（Transform）&lt;/strong&gt;：对抽象语法树进行各种操作；&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;生成（Generate&lt;/strong&gt;：将转换后的抽象语法树生成代码；&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Babel 插件只是在转换过程当中运行。&lt;/p&gt;
&lt;h3 id=&quot;遍历&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E9%81%8D%E5%8E%86&quot; aria-label=&quot;遍历 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;遍历&lt;/h3&gt;
&lt;p&gt;要对抽象语法树进行各种操作就涉及到抽象语法树的遍历，访问某一个节点，对节点进行各种操作。&lt;/p&gt;
&lt;h4 id=&quot;visitor&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#visitor&quot; aria-label=&quot;visitor permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Visitor&lt;/h4&gt;
&lt;p&gt;&lt;a href=&quot;https://en.wikipedia.org/wiki/Visitor_pattern&quot;&gt;Visitor pattern&lt;/a&gt; 是抽象语法树的遍历模式。&lt;/p&gt;
&lt;p&gt;比如下面定义：&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; visitor &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;Identifier&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;called&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;只会对&lt;code class=&quot;language-text&quot;&gt;Identifier&lt;/code&gt;类型的节点起作用。&lt;/p&gt;
&lt;h4 id=&quot;paths&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#paths&quot; aria-label=&quot;paths permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Paths&lt;/h4&gt;
&lt;p&gt;路径是一个对象用来定位树当中的节点，Visitor 方法的第一个参数就是一个 Path：&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; visitor &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;Identifier&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;path&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;path&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;path&lt;/code&gt;对象包含节点信息、各种节点的操作方法等。&lt;/p&gt;
&lt;h3 id=&quot;babeltypes&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#babeltypes&quot; aria-label=&quot;babeltypes permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;@babel/types&lt;/h3&gt;
&lt;p&gt;&lt;a href=&quot;https://babeljs.io/docs/en/next/babel-types&quot;&gt;@babel/types&lt;/a&gt; 包包含各种类型节点的判断与构建方法。&lt;/p&gt;
&lt;h3 id=&quot;babel-plugin-log&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#babel-plugin-log&quot; aria-label=&quot;babel plugin log permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;babel-plugin-log&lt;/h3&gt;
&lt;p&gt;这里仅仅完成将&lt;code class=&quot;language-text&quot;&gt;console.log(a)&lt;/code&gt;转换为&lt;code class=&quot;language-text&quot;&gt;console.log(&amp;quot;a&amp;quot;, a)&lt;/code&gt;的操作，完整源码可以查看代码仓库 &lt;a href=&quot;https://github.com/Alex1990/babel-plugin-log&quot;&gt;babel-plugin-log&lt;/a&gt;。&lt;/p&gt;
&lt;p&gt;在写 babel 插件时出来阅读 babel-handbook 教程之外，参考其他 babel 插件的源码是一个很好的方法，比如我就参考了 &lt;a href=&quot;https://github.com/lodash/babel-plugin-lodash&quot;&gt;babel-plugin-lodash&lt;/a&gt;，尤其是测试的方法。&lt;/p&gt;
&lt;h4 id=&quot;源码&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E6%BA%90%E7%A0%81&quot; aria-label=&quot;源码 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;源码&lt;/h4&gt;
&lt;p&gt;&lt;strong&gt;src/index.js&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// console.log(a) 是一个 CallExpression 节点，但是 CallExpression 不仅仅包含 console.log(a)&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// 所以这里需要一个方法来判断节点是否是 console.log(a) 调用，使用在线工具 astexplorer.net 可以&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// 观察分析出使用下面代码来判断&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;isConsoleLogCall&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;path&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; callee &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; path&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;node
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    type&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    object&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    property
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; callee
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; type &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;MemberExpression&apos;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;object&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;type &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;Identifier&apos;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; object&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;name &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;console&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;property&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;type &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;Identifier&apos;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; property&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;name &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;log&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// 1. types 是 @babel/types&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// 2. 返回值是一个 visitor 对象&lt;/span&gt;
module&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function-variable function&quot;&gt;exports&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; types&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; t &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;CallExpression&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;path&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token comment&quot;&gt;// 我们要进行的转换就是为每个调用参数前插入参数名字符串&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; args &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; path&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;node&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;arguments
      &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; newArgs &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
      args&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;forEach&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;arg&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        newArgs&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;t&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;stringLiteral&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;arg&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;name&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; arg&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      path&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;node&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;arguments &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; newArgs
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h4 id=&quot;测试&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E6%B5%8B%E8%AF%95&quot; aria-label=&quot;测试 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;测试&lt;/h4&gt;
&lt;p&gt;测试主要就是测试生成的代码与期望的代码是否匹配，这里参考了 &lt;a href=&quot;https://github.com/lodash/babel-plugin-lodash&quot;&gt;babel-plugin-lodash&lt;/a&gt; 的测试写法，使用 Jest 框架。&lt;/p&gt;
&lt;p&gt;文件如下：&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;txt&quot;&gt;&lt;pre class=&quot;language-txt&quot;&gt;&lt;code class=&quot;language-txt&quot;&gt;test/
  fixtures/
    one-identifier
      actual.js
      expected.js
    multiple-identifiers
      actaul.js
      expected.js
  index.spec.js&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;主要就是比对&lt;code class=&quot;language-text&quot;&gt;actual.js&lt;/code&gt;转换后的代码与&lt;code class=&quot;language-text&quot;&gt;expected.js&lt;/code&gt;文件内容是否相同，需要注意两点：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;babel 生成的代码包含句尾分号&lt;code class=&quot;language-text&quot;&gt;;&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;比对之前去除代码前后空白符&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;strong&gt;index.spec.js&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;/* global describe, test, expect */&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; _ &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;lodash&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; fs &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;fs&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; glob &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;glob&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; path &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;path&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; transformFileSync &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;@babel/core&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; plugin &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;../src&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;getTestName&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;testPath&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; path&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;basename&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;testPath&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;split&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;-&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;join&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos; &apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token function&quot;&gt;describe&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;babel-plugin-log&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; testPaths &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; glob&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;sync&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;path&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;join&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;__dirname&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;fixtures/*/&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; testPath &lt;span class=&quot;token keyword&quot;&gt;of&lt;/span&gt; testPaths&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; testName &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;getTestName&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;testPath&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; actualPath &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; path&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;join&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;testPath&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;actual.js&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; expectedPath &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; path&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;join&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;testPath&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;expected.js&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;should work with &lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;testName&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; expected &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; fs&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;readFileSync&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;expectedPath&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;utf8&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; actual &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;transformFileSync&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;actualPath&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        plugins&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;plugin&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;code

      &lt;span class=&quot;token function&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;_&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;trim&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;actual&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;toBe&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;_&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;trim&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;expected&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id=&quot;总结&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E6%80%BB%E7%BB%93&quot; aria-label=&quot;总结 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;总结&lt;/h3&gt;
&lt;p&gt;上面只是包含最入门的东西，实际写插件之前还需要了解 babel-handbook 当中 Scope、State 等概念和最佳实践，另外可以参考其他 babel 插件的源码。&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Koa 源码介绍]]></title><description><![CDATA[Koa 号称为 Node.js 的下一代 Web 框架。从多年以前的 Express 一枝独秀来看，确实如此，相比 Express 的函数回调写法，使用异步函数（或生成器函数）逻辑更符合人的思维，也避免回调嵌套。另外，虽然叫“框架”，但是与其他语言大而全的框架明显不同，Koa…]]></description><link>https://xiaocaoge.com//read-koa-source/</link><guid isPermaLink="false">https://xiaocaoge.com//read-koa-source/</guid><category><![CDATA[源码]]></category><category><![CDATA[Koa]]></category><category><![CDATA[HTTP]]></category><dc:creator><![CDATA[Alex]]></dc:creator><pubDate>Tue, 10 Sep 2019 16:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Koa 号称为 Node.js 的下一代 Web 框架。从多年以前的 Express 一枝独秀来看，确实如此，相比 Express 的函数回调写法，使用异步函数（或生成器函数）逻辑更符合人的思维，也避免回调嵌套。另外，虽然叫“框架”，但是与其他语言大而全的框架明显不同，Koa 相当轻量，大概提供了两个核心功能：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;简化 HTTP 请求行、状态行、请求与响应头部处理&lt;/li&gt;
&lt;li&gt;中间件机制，处理与控制数据流&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;其他 Web 开发常用的模块都需要通过中间件方式来实现，比如请求内容解析、路由、缓存、压缩等，当然数据库的访问也需要单独的包。&lt;/p&gt;
&lt;h2 id=&quot;一个简单的-http-server&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E4%B8%80%E4%B8%AA%E7%AE%80%E5%8D%95%E7%9A%84-http-server&quot; aria-label=&quot;一个简单的 http server permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;一个简单的 HTTP Server&lt;/h2&gt;
&lt;p&gt;不使用任何框架也可以写 Web 应用，Web 框架只是集成了 Web 开发当中常用的模式、功能，提供了友好的使用方式。下面是使用 Node.js http 模块创建的一个简单的 HTTP Server。&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; http &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;http&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; server &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; http&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;createServer&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;req&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; res&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  res&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;end&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;hello world&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

server&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;listen&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;8000&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;其中&lt;code class=&quot;language-text&quot;&gt;req&lt;/code&gt;是一个 &lt;a href=&quot;https://nodejs.org/dist/latest-v12.x/docs/api/http.html#http_class_http_incomingmessage&quot;&gt;http.IncomingMessage&lt;/a&gt; 对象，包含 HTTP 请求相关信息。&lt;code class=&quot;language-text&quot;&gt;res&lt;/code&gt;是一个 &lt;a href=&quot;https://nodejs.org/dist/latest-v12.x/docs/api/http.html#http_class_http_serverresponse&quot;&gt;http.ServerResponse&lt;/a&gt; 对象，包含 HTTP 响应相关信息以及操作方法。&lt;/p&gt;
&lt;p&gt;Koa 的核心之一是简化了我们对 HTTP 请求与响应的访问与操作，比如：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;请求行信息：请求方法、请求路径（path）的解析、查询参数（querystring）解析&lt;/li&gt;
&lt;li&gt;请求状态信息获取与响应状态信息设置&lt;/li&gt;
&lt;li&gt;Cookie 解析与设置&lt;/li&gt;
&lt;li&gt;Accept-* 相关头部解析&lt;/li&gt;
&lt;li&gt;Content-Type 头部解析与设置&lt;/li&gt;
&lt;li&gt;缓存相关头部判断与设置&lt;/li&gt;
&lt;li&gt;HTTP 头部获取与设置&lt;/li&gt;
&lt;li&gt;HTTP 响应内容设置&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;而上面的所有事情都是围绕 hello world 示例当中&lt;code class=&quot;language-text&quot;&gt;req&lt;/code&gt;和&lt;code class=&quot;language-text&quot;&gt;res&lt;/code&gt;两个对象。另外，Koa 当中的中间件（Middleware）也并不神奇，就是函数的层层调用，只不过每个函数都可以选择是否调用下一层函数，具体实现细节下面再讲。&lt;/p&gt;
&lt;h2 id=&quot;koa-当中用到的一些-javascript-语法&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#koa-%E5%BD%93%E4%B8%AD%E7%94%A8%E5%88%B0%E7%9A%84%E4%B8%80%E4%BA%9B-javascript-%E8%AF%AD%E6%B3%95&quot; aria-label=&quot;koa 当中用到的一些 javascript 语法 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Koa 当中用到的一些 JavaScript 语法&lt;/h2&gt;
&lt;p&gt;如果对下面几个语法不太熟悉，可以查看链接相关内容。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;对象 &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/get&quot;&gt;getter&lt;/a&gt; 和 &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/set&quot;&gt;setter&lt;/a&gt;。&lt;/li&gt;
&lt;li&gt;原型继承的使用方式之一 &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/create&quot;&gt;Object.create()&lt;/a&gt;。&lt;/li&gt;
&lt;li&gt;异步处理 &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise&quot;&gt;Promise&lt;/a&gt; 与&lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/async_function&quot;&gt;异步函数&lt;/a&gt;。&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;核心模块&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E6%A0%B8%E5%BF%83%E6%A8%A1%E5%9D%97&quot; aria-label=&quot;核心模块 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;核心模块&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/koajs/koa/tree/817b49830571b45a8aec6b1fc1525434f5798c58/lib/request.js&quot;&gt;request&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/koajs/koa/tree/817b49830571b45a8aec6b1fc1525434f5798c58/lib/response.js&quot;&gt;response&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/koajs/koa/tree/817b49830571b45a8aec6b1fc1525434f5798c58/lib/context.js&quot;&gt;context&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/koajs/koa/tree/817b49830571b45a8aec6b1fc1525434f5798c58/lib/application.js&quot;&gt;application&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;request&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#request&quot; aria-label=&quot;request permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;request&lt;/h3&gt;
&lt;p&gt;request 模块主要是对 HTTP 请求信息获取与设置方法封装：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;HTTP 请求行：请求方法、请求协议、请求路径、请求 URL、请求查询参数&lt;/li&gt;
&lt;li&gt;HTTP 请求头部&lt;/li&gt;
&lt;li&gt;主机名&lt;/li&gt;
&lt;li&gt;IP&lt;/li&gt;
&lt;li&gt;缓存新鲜度判断&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;Accept&lt;/code&gt;/&lt;code class=&quot;language-text&quot;&gt;Accept-Encoding&lt;/code&gt;/&lt;code class=&quot;language-text&quot;&gt;Accept-Language&lt;/code&gt;头部解析&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;Content-Type&lt;/code&gt;头部解析&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;response&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#response&quot; aria-label=&quot;response permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;response&lt;/h3&gt;
&lt;p&gt;response 模块主要是对 HTTP 响应信息获取与设置方法封装：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;HTTP 状态码及状态信息&lt;/li&gt;
&lt;li&gt;HTTP 响应头部&lt;/li&gt;
&lt;li&gt;HTTP 响应内容&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;Content-Length&lt;/code&gt;计算&lt;/li&gt;
&lt;li&gt;重定向方法&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;Content-Type&lt;/code&gt;设置&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;Content-Disposition&lt;/code&gt;设置&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;Vary&lt;/code&gt;设置&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;context&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#context&quot; aria-label=&quot;context permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;context&lt;/h3&gt;
&lt;p&gt;Koa 的 middleware 是一个函数，其第一个参数为 context 对象，context 模块定义了一个 context 原型对象，其上面挂载 request 与 response 对象，另外通过 &lt;a href=&quot;https://www.npmjs.com/package/delegates&quot;&gt;delegates&lt;/a&gt; 模块将 request 与 response 对象上面的方法代理到了 context 对象上面，便于使用。&lt;/p&gt;
&lt;p&gt;除了代理 request 与 response 对象方法，也提供了一些错误处理、异常响应、Cookie 处理等方法。&lt;/p&gt;
&lt;h3 id=&quot;application&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#application&quot; aria-label=&quot;application permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;application&lt;/h3&gt;
&lt;p&gt;application 模块用于创建 koa 应用，&lt;code class=&quot;language-text&quot;&gt;const Koa = require(&amp;#39;koa&amp;#39;)&lt;/code&gt;当中的&lt;code class=&quot;language-text&quot;&gt;Koa&lt;/code&gt;即为&lt;code class=&quot;language-text&quot;&gt;application&lt;/code&gt;模块。&lt;/p&gt;
&lt;h2 id=&quot;中间件-middleware&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E4%B8%AD%E9%97%B4%E4%BB%B6-middleware&quot; aria-label=&quot;中间件 middleware permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;中间件 middleware&lt;/h2&gt;
&lt;p&gt;中间件通过 &lt;a href=&quot;https://github.com/koajs/compose&quot;&gt;koa-compose&lt;/a&gt; 模块实现。Koa middleware 就是一个异步函数，或者说其返回值为 Promise 对象的函数，如下形式：&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;middleware&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;ctx&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; next&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;condition1&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;next&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;其中&lt;code class=&quot;language-text&quot;&gt;ctx&lt;/code&gt;为&lt;code class=&quot;language-text&quot;&gt;context&lt;/code&gt;对象，&lt;code class=&quot;language-text&quot;&gt;next&lt;/code&gt;为下一个中间件函数。&lt;/p&gt;
&lt;p&gt;HTTP 请求（context 对象）的流向如下图所示，每一个中间件当中都可以选择是否将执行控制交给下一个中间件，直到最后一个中间执行完毕之后会执行 controller（异步函数）。&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;txt&quot;&gt;&lt;pre class=&quot;language-txt&quot;&gt;&lt;code class=&quot;language-txt&quot;&gt;receive request
    |
middleware1
    |
    |--------|
    |   middleware2
    |        |
    |        |---------|
    |        |         |
    |        |    middleware3
    |        |         |
    |        |---------|
    |--------|
    |
controller
    |
send response&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=&quot;依赖模块&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E4%BE%9D%E8%B5%96%E6%A8%A1%E5%9D%97&quot; aria-label=&quot;依赖模块 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;依赖模块&lt;/h2&gt;
&lt;p&gt;Koa 项目本身代码没有多少，依赖了不少三方模块，比如&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://www.npmjs.com/package/accepts&quot;&gt;accepts&lt;/a&gt;：主要对 HTTP 头部&lt;code class=&quot;language-text&quot;&gt;Accept&lt;/code&gt;/&lt;code class=&quot;language-text&quot;&gt;Accept-Encoding&lt;/code&gt;/&lt;code class=&quot;language-text&quot;&gt;Accept-Language&lt;/code&gt;/&lt;code class=&quot;language-text&quot;&gt;Content-Type&lt;/code&gt;解析处理。&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.npmjs.com/package/content-disposition&quot;&gt;content-disposition&lt;/a&gt;：对&lt;code class=&quot;language-text&quot;&gt;Content-Disposition&lt;/code&gt;头部解析处理。&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.npmjs.com/package/content-type&quot;&gt;content-type&lt;/a&gt;：对&lt;code class=&quot;language-text&quot;&gt;Content-Type&lt;/code&gt;头部解析处理。&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.npmjs.com/package/cookies&quot;&gt;cookies&lt;/a&gt;：对&lt;code class=&quot;language-text&quot;&gt;Cookie&lt;/code&gt;和&lt;code class=&quot;language-text&quot;&gt;Set-Cookie&lt;/code&gt;头部解析与处理。&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.npmjs.com/package/fresh&quot;&gt;fresh&lt;/a&gt;：响应新鲜度判断。&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.npmjs.com/package/parseurl&quot;&gt;parseurl&lt;/a&gt;：解析 URL，并具有 memoization 功能。&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.npmjs.com/package/statuses&quot;&gt;statues&lt;/a&gt;：HTTP 状态码与状态信息处理。&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.npmjs.com/package/vary&quot;&gt;vary&lt;/a&gt;：&lt;code class=&quot;language-text&quot;&gt;Vary&lt;/code&gt;头部处理。&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;总结&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E6%80%BB%E7%BB%93&quot; aria-label=&quot;总结 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;总结&lt;/h2&gt;
&lt;p&gt;个人认为 Koa 两个核心的亮点是：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;异步函数&lt;/strong&gt;形式中间件&lt;/li&gt;
&lt;li&gt;挂载在 context 对象上面的&lt;strong&gt;统一的 getter 与 setter&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;当然了，要想开发实际的 Web 应用，Koa 本身还欠缺很多，需要使用中间件来弥补，另外 Koa 及 Koa 中间件的维护状态近一两年不太活跃，中间件也没有 express 丰富。&lt;/p&gt;</content:encoded></item><item><title><![CDATA[使用 dnsmasq 设置一个本地 DNS 服务器]]></title><description><![CDATA[在程序开发过程当中，有时会碰到需要自定义子域名解析，比如把的所有请求转发到本地开发服务器。由于配置并不支持通配符（），所以需要自己设置一个本地 DNS 服务器。 dnsmasq 是一个轻量级的，支持 DNS 转发、DHCP 等功能的 DNS 服务器软件，可以运行在 Linux…]]></description><link>https://xiaocaoge.com//setup-a-local-dns-server-with-dnsmasq/</link><guid isPermaLink="false">https://xiaocaoge.com//setup-a-local-dns-server-with-dnsmasq/</guid><category><![CDATA[DNS]]></category><category><![CDATA[DNS Server]]></category><category><![CDATA[dnsmasq]]></category><dc:creator><![CDATA[Alex]]></dc:creator><pubDate>Sat, 23 Mar 2019 16:00:00 GMT</pubDate><content:encoded>&lt;p&gt;在程序开发过程当中，有时会碰到需要自定义子域名解析，比如把&lt;code class=&quot;language-text&quot;&gt;*.example.com&lt;/code&gt;的所有请求转发到本地开发服务器。由于&lt;code class=&quot;language-text&quot;&gt;/etc/hosts&lt;/code&gt;配置并不支持通配符（&lt;code class=&quot;language-text&quot;&gt;*&lt;/code&gt;），所以需要自己设置一个本地 DNS 服务器。&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://en.wikipedia.org/wiki/Dnsmasq&quot;&gt;dnsmasq&lt;/a&gt; 是一个轻量级的，支持 DNS 转发、DHCP 等功能的 DNS 服务器软件，可以运行在 Linux、macOS 平台。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;下面内容以 macOS 平台为例，Linux 版本使用“dnsmasq ubuntu”之类关键词搜索可以得到很多相关文章。&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id=&quot;安装&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E5%AE%89%E8%A3%85&quot; aria-label=&quot;安装 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;安装&lt;/h2&gt;
&lt;p&gt;使用 &lt;a href=&quot;https://brew.sh/&quot;&gt;Homebrew&lt;/a&gt; 安装：&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sh&quot;&gt;&lt;pre class=&quot;language-sh&quot;&gt;&lt;code class=&quot;language-sh&quot;&gt;brew install dnsmasq&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=&quot;配置&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E9%85%8D%E7%BD%AE&quot; aria-label=&quot;配置 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;配置&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;在目录&lt;code class=&quot;language-text&quot;&gt;$(brew --prefix)/etc&lt;/code&gt;当中创建一个&lt;code class=&quot;language-text&quot;&gt;dnsmasq.conf&lt;/code&gt;文件（如果已存在就不用创建）。&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sh&quot;&gt;&lt;pre class=&quot;language-sh&quot;&gt;&lt;code class=&quot;language-sh&quot;&gt;mkdir -p $(brew --prefix)/etc/
touch $(brew --prefix)/etc/dnsmasq.conf&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;在&lt;code class=&quot;language-text&quot;&gt;dnsmasq.conf&lt;/code&gt;文件中追加以下内容：&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;# 下面配置表示所有以`example.com`为后缀的域名（包括`example.com`）都解析到`127.0.0.1`
# 你还可以解析其他任意后缀，比如`address=/dev/127.0.0.1`将所有`dev`域名解析到`127.0.0.1`
address=/example.com/127.0.0.1
# 使用 DNS 默认端口号 53
port=53&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;创建一个 &lt;a href=&quot;https://icannwiki.org/Domain_Name_Resolvers&quot;&gt;DNS 解析器（dns resolver）&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sh&quot;&gt;&lt;pre class=&quot;language-sh&quot;&gt;&lt;code class=&quot;language-sh&quot;&gt;sudo mkdir /etc/resolver
sudo bash -c &amp;#39;echo &amp;quot;nameserver 127.0.0.1&amp;quot; &amp;gt; /etc/resolver/example.com&amp;#39;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;启动&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sh&quot;&gt;&lt;pre class=&quot;language-sh&quot;&gt;&lt;code class=&quot;language-sh&quot;&gt;sudo /usr/local/opt/dnsmasq/sbin/dnsmasq -C /usr/local/etc/dnsmasq.conf&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;也可以设置为开机启动&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sh&quot;&gt;&lt;pre class=&quot;language-sh&quot;&gt;&lt;code class=&quot;language-sh&quot;&gt;sudo brew services start dnsmasq&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;使用&lt;code class=&quot;language-text&quot;&gt;ping&lt;/code&gt;测试&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sh&quot;&gt;&lt;pre class=&quot;language-sh&quot;&gt;&lt;code class=&quot;language-sh&quot;&gt;ping example.com
ping 1.example.com&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;可以看到类似下面的结果（来源于地址&lt;code class=&quot;language-text&quot;&gt;127.0.0.1&lt;/code&gt;）：&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;64 bytes from 127.0.0.1: icmp_seq=0 ttl=64 time=0.016 ms
64 bytes from 127.0.0.1: icmp_seq=1 ttl=64 time=0.031 ms
64 bytes from 127.0.0.1: icmp_seq=2 ttl=64 time=0.087 ms
...&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=&quot;相关资源&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E7%9B%B8%E5%85%B3%E8%B5%84%E6%BA%90&quot; aria-label=&quot;相关资源 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;相关资源&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://medium.com/@kharysharpe/automatic-local-domains-setting-up-dnsmasq-for-macos-high-sierra-using-homebrew-caf767157e43&quot;&gt;/usr/local/opt/dnsmasq/sbin/dnsmasq --keep-in-foreground -C /usr/local/etc/dnsmasq.con&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.thekelleys.org.uk/dnsmasq/docs/dnsmasq-man.html&quot;&gt;dnsmasq man page&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[React 事件系统解析]]></title><description><![CDATA[准备工作 如何阅读源码 如果之前没有读过类似框架（代码规模、技术栈等方面相似）的源码，第一次阅读难免不知所措，毕竟代码量不小，几个小时或一天只能了解大概有哪些东西。我第一次尝试阅读 React…]]></description><link>https://xiaocaoge.com//react-event-system-resolving/</link><guid isPermaLink="false">https://xiaocaoge.com//react-event-system-resolving/</guid><category><![CDATA[React]]></category><category><![CDATA[事件系统]]></category><dc:creator><![CDATA[Alex]]></dc:creator><pubDate>Mon, 11 Feb 2019 16:00:00 GMT</pubDate><content:encoded>&lt;h2 id=&quot;准备工作&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E5%87%86%E5%A4%87%E5%B7%A5%E4%BD%9C&quot; aria-label=&quot;准备工作 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;准备工作&lt;/h2&gt;
&lt;h3 id=&quot;如何阅读源码&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E5%A6%82%E4%BD%95%E9%98%85%E8%AF%BB%E6%BA%90%E7%A0%81&quot; aria-label=&quot;如何阅读源码 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;如何阅读源码&lt;/h3&gt;
&lt;p&gt;如果之前没有读过类似框架（代码规模、技术栈等方面相似）的源码，第一次阅读难免不知所措，毕竟代码量不小，几个小时或一天只能了解大概有哪些东西。我第一次尝试阅读 React 源码就是懵逼的，第二次还是懵逼，所以放弃了好多次，直到第三次有了一些阅读源码的经验积累才突然感觉有所顿悟。当然，之前的放弃也不是无用之功，起码熟悉了哪些包，一些包大概哪些文件，另外还阅读了一些 React Fiber 之类的讲解文章。&lt;/p&gt;
&lt;p&gt;我目前感悟的阅读源码方法是：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;熟悉相关技术栈与依赖&lt;/strong&gt;：当然，并非需要全部熟悉，看需要研究源码哪些方面以及研究深度而定。仅对于 React 事件相关的源码来说，可能需要熟悉 DOM 事件相关规范与接口、事件兼容性处理、&lt;a href=&quot;https://flow.org/&quot;&gt;flow&lt;/a&gt;，另外对于移动端原生应用及 React Native 事件相关熟悉更好，这一方面我也不熟悉，所以有一点儿相关的代码暂时略过。如果需要看测试代码，就需要对测试以及 Jest 有一定了解了。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;通读相关源码&lt;/strong&gt;：就是熟悉源码文件组织结构，相关模块与函数，关键的数据结构等，通读一两遍相关源码，不需要关注细节实现，实际上裸读代码，有些逻辑与细节就是很难理解。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;构建最简可运行示例与断点调试&lt;/strong&gt;：经过简单了解源码之后，还是感觉云里雾里，由于写代码伴随着抽象思考的过程，所以直接阅读抽象之后的代码不容易理解。这时候就需要一个或多个简单具体的示例来帮助理解代码的运行过程，熟悉代码的&lt;strong&gt;调用栈&lt;/strong&gt;、&lt;strong&gt;变量（数据）的含义&lt;/strong&gt;等。这时候使用浏览器开发者工具的断点调试工具就非常方便，可以查看 &lt;a href=&quot;https://developers.google.com/web/tools/chrome-devtools/javascript/&quot;&gt;Chrome 开发者调试入门&lt;/a&gt;，其他浏览器开发者工具调试功能大同小异。我是逐行代码阅读，搞不明白的可能需要反复运行与阅读才行。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;总结核心要点&lt;/strong&gt;：经过前面几步对于代码的实现细节已经熟悉，这时候可以通过抽象与归类来将源码划分几个核心要点，然后总结，流程图之类可能有助于此。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;另外，在阅读源码时，编辑器的搜索功能经常使用，尤其是指定目录下高性能搜索。&lt;/p&gt;
&lt;h3 id=&quot;dom-事件&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#dom-%E4%BA%8B%E4%BB%B6&quot; aria-label=&quot;dom 事件 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;DOM 事件&lt;/h3&gt;
&lt;p&gt;React 事件系统是对 DOM 事件的抽象与封装，不过核心还是一样，比如事件流（捕获与冒泡）、事件对象接口等类似。完整的 DOM 事件有非常多，React 只是支持了部分常用的，另外，说是 DOM 事件，其实是个模糊的统称，很多事件并不归属于 DOM，可以参考 &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/Events&quot;&gt;MDN Event reference&lt;/a&gt;。React 主要支持的事件类型有：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://html.spec.whatwg.org/multipage/indices.html#events-2&quot;&gt;HTML Standard - events&lt;/a&gt;：主要是文档与元素相关事件，比如表单元素相关事件&lt;code class=&quot;language-text&quot;&gt;submit&lt;/code&gt;、&lt;code class=&quot;language-text&quot;&gt;reset&lt;/code&gt;。&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.w3.org/TR/DOM-Level-3-Events/&quot;&gt;UI Events&lt;/a&gt;：常用的鼠标事件、键盘事件、输入事件等都在该规范中定义。&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.w3.org/TR/clipboard-apis/&quot;&gt;Clipboard API and events&lt;/a&gt;：粘贴板相关事件。&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.w3.org/TR/touch-events/&quot;&gt;Touch Events&lt;/a&gt;：触摸事件。&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.w3.org/TR/pointerevents&quot;&gt;Pointer Events&lt;/a&gt;：指针事件。&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.w3.org/TR/css-animations-1/#events&quot;&gt;CSS Animations&lt;/a&gt;：CSS 动画事件。&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://drafts.csswg.org/css-transitions/#transition-events&quot;&gt;CSS Transitions&lt;/a&gt;：CSS 过渡事件。&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://html.spec.whatwg.org/multipage/dnd.html&quot;&gt;Drag and Drop&lt;/a&gt;：拖动事件。&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://html.spec.whatwg.org/multipage/media.html&quot;&gt;Media elements&lt;/a&gt;：媒体元素（&lt;code class=&quot;language-text&quot;&gt;video&lt;/code&gt;/&lt;code class=&quot;language-text&quot;&gt;audio&lt;/code&gt;)相关事件。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;上面规范定义了相关事件类型接口，事件对象基础属性（是否可冒泡，是否可以被取消等），所有的事件类型接口都直接或间接扩展自&lt;code class=&quot;language-text&quot;&gt;Event&lt;/code&gt;接口。&lt;/p&gt;
&lt;h3 id=&quot;dom-事件兼容性处理&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#dom-%E4%BA%8B%E4%BB%B6%E5%85%BC%E5%AE%B9%E6%80%A7%E5%A4%84%E7%90%86&quot; aria-label=&quot;dom 事件兼容性处理 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;DOM 事件兼容性处理&lt;/h3&gt;
&lt;p&gt;作为浏览器当中的框架，对于跨浏览器处理是重要的一部分，DOM 事件兼容性处理主要有：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;事件对象属性：比如键盘事件的&lt;code class=&quot;language-text&quot;&gt;keyCode&lt;/code&gt;。&lt;/li&gt;
&lt;li&gt;事件类型：比如&lt;code class=&quot;language-text&quot;&gt;mouseenter&lt;/code&gt;和&lt;code class=&quot;language-text&quot;&gt;mouseleave&lt;/code&gt;事件。&lt;/li&gt;
&lt;li&gt;事件代理：比如&lt;code class=&quot;language-text&quot;&gt;blur&lt;/code&gt;/&lt;code class=&quot;language-text&quot;&gt;focus&lt;/code&gt;事件，因为不冒泡，所以采用了捕获和&lt;code class=&quot;language-text&quot;&gt;focusin&lt;/code&gt;/&lt;code class=&quot;language-text&quot;&gt;focusout&lt;/code&gt;事件来实现事件代理，参见 &lt;a href=&quot;https://www.quirksmode.org/blog/archives/2008/04/delegating_the.html&quot;&gt;Delegating the focus and blur events&lt;/a&gt;。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;关于 DOM 事件兼容性的处理已经比较成熟，有很多资源参考：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;jQuery 处理；&lt;/li&gt;
&lt;li&gt;《JavaScript 忍者秘籍》：jQuery 作者写的书，里面有事件处理相关内容；&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;www.quirksmode.org&quot;&gt;quirksmode&lt;/a&gt;：&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://help.dottoro.com/ljtdqwlx.php&quot;&gt;Dottoro Web Reference&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/Events&quot;&gt;MDN Event reference&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;上面一些资源包含了不少 IE8/9 相关兼容性处理，而现在 IE8/9 也几乎退出历史舞台了。但是，无论参考哪些，最终都需要在实际的运行环境当中测试兼容性方案才行。&lt;/p&gt;
&lt;h3 id=&quot;flow&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#flow&quot; aria-label=&quot;flow permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Flow&lt;/h3&gt;
&lt;p&gt;&lt;a href=&quot;https://flow.org/&quot;&gt;Flow&lt;/a&gt; 是使得 JavaScript 可以使用静态类型，便于写接口，与 TypeScript 类似。具有静态语言学习背景的话，很容易理解，即使不懂 flow 也不太影响阅读 React 源码。&lt;/p&gt;
&lt;h2 id=&quot;react-事件系统&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#react-%E4%BA%8B%E4%BB%B6%E7%B3%BB%E7%BB%9F&quot; aria-label=&quot;react 事件系统 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;React 事件系统&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;下面均以 react@v16.7.0 版本源码为基准&lt;/strong&gt;。&lt;/p&gt;
&lt;h3 id=&quot;源码文件结构&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E6%BA%90%E7%A0%81%E6%96%87%E4%BB%B6%E7%BB%93%E6%9E%84&quot; aria-label=&quot;源码文件结构 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;源码文件结构&lt;/h3&gt;
&lt;p&gt;React 源码采用了一种称为 &lt;a href=&quot;http://danluu.com/monorepo/&quot;&gt;monorepo&lt;/a&gt; 的组织方式，通过 yarn 的 &lt;a href=&quot;https://yarnpkg.com/en/docs/workspaces&quot;&gt;workspaces&lt;/a&gt; 功能来实现。简单来说就是一个代码仓库里面包含多个 npm 包，可以查看 &lt;a href=&quot;https://github.com/facebook/react/tree/master/packages&quot;&gt;react/packages&lt;/a&gt; 目录，React 事件相关的主要有 &lt;a href=&quot;https://github.com/facebook/react/tree/v16.7.0/packages/events&quot;&gt;packages/events&lt;/a&gt; 和 &lt;a href=&quot;https://github.com/facebook/react/tree/v16.7.0/packages/react-dom&quot;&gt;packages/react-dom&lt;/a&gt;。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;https://github.com/facebook/react/tree/v16.7.0/packages/events&quot;&gt;packages/events&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;该模块主要包含：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;相关类型定义&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;PluginModuleType.js&lt;/code&gt;：事件模块类型；&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;ReactSyntheticEventType.js&lt;/code&gt;：合成事件（&lt;code class=&quot;language-text&quot;&gt;SyntheticEvent&lt;/code&gt;）相关类型；&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;ResponderTopLevelEventTypes.js&lt;/code&gt;：Responder 相关事件类型；&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;TopLevelEventTypes.js&lt;/code&gt;：事件类型的静态类型；&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;事件插件机制&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;EventPluginHub.js&lt;/code&gt;：事件插件注入、事件对象提取与派发等；&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;EventPluginRegistry.js&lt;/code&gt;：事件插件注册、已注册 React 事件名称列表等；&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;EventPluginUtils.js&lt;/code&gt;：事件派发及一些辅助函数；&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;事件流&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;EventPropagators.js&lt;/code&gt;：事件（派发）流相关；&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;辅助函数：下面三个文件各定义了一个函数，兼顾了数据为单个对象和数组情况。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;accumulate.js&lt;/code&gt;：合并两个数据成为一个数组；&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;accumulateInto.js&lt;/code&gt;：将一个数据合并到另一个数组数据当中;&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;forEachAccumulated.js&lt;/code&gt;：对一组数据遍历执行指定回调函数；&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;React Native Responder System 相关：对 React Native 不熟悉，暂不考虑这部分代码。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;ResponderEventPlugin.js&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;ResponderSyntheticEvent.js&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;ResponderTopLevelEventTypes.js&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;ResponderTouchHistoryStore.js&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;react-dom 模块当中与事件系统相关的代码主要有&lt;code class=&quot;language-text&quot;&gt;react-dom/src/events&lt;/code&gt;目录和&lt;code class=&quot;language-text&quot;&gt;react-dom/src/client&lt;/code&gt;目录当中的部分文件。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;https://github.com/facebook/react/tree/v16.7.0/packages/react-dom/src/events&quot;&gt;packages/react-dom/src/events&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;不同类型的合成事件接口&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;SyntheticAnimationEvent.js&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;SyntheticClipboardEvent.js&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;SyntheticCompositionEvent.js&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;SyntheticDragEvent.js&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;SyntheticFocusEvent.js&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;SyntheticInputEvent.js&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;SyntheticKeyboardEvent.js&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;SyntheticMouseEvent.js&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;SyntheticPointerEvent.js&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;SyntheticTouchEvent.js&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;SyntheticTransitionEvent.js&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;SyntheticUIEvent.js&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;SyntheticWheelEvent.js&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;事件插件：每一个事件插件都包含支持的事件类型列表&lt;code class=&quot;language-text&quot;&gt;eventTypes&lt;/code&gt;和提取合成事件对象的方法&lt;code class=&quot;language-text&quot;&gt;extractEvents&lt;/code&gt;。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;BeforeInputEventPlugin.js&lt;/code&gt;：输入相关事件；&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;ChangeEventPlugin.js&lt;/code&gt;：表单元素&lt;code class=&quot;language-text&quot;&gt;onChange&lt;/code&gt;事件；&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;DOMEventPluginOrder.js&lt;/code&gt;：事件插件排序列表，用于控制不同类型事件触发顺序；&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;EnterLeaveEventPlugin.js&lt;/code&gt;：&lt;code class=&quot;language-text&quot;&gt;mouseenter&lt;/code&gt;/&lt;code class=&quot;language-text&quot;&gt;mouseleave&lt;/code&gt;事件；&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;SelectEventPlugin.js&lt;/code&gt;：选区相关事件；&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;SimpleEventPlugin.js&lt;/code&gt;：大部分的事件类型都位于这里，比如键盘事件、鼠标事件、触摸事件、媒体事件等；&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;事件兼容性处理：兼容性处理代码不限于下面代码，实际上事件插件包含不少兼容性相关处理。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;FallbackCompositionState.js&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;getEventCharCode.js&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;getEventKey.js&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;getEventModifierState.js&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;getEventTarget.js&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;getVendorPrefixedEventName.js&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;isEventSupported.js&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;事件绑定与触发&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;EventListener.js&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;ReactBrowserEventEmitter.js&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;ReactDOMEventListener.js&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;https://github.com/facebook/react/tree/v16.7.0/packages/react-dom/src/client&quot;&gt;packages/react-dom/src/client&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;ReactDOMClientInjection.js&lt;/code&gt;：事件注入及一些辅助方法注入。&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;ReactDOMComponent.js&lt;/code&gt;：事件绑定。&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;ReactDOMComponentTree.js&lt;/code&gt;：一些相关方法定义。&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;事件流程&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E4%BA%8B%E4%BB%B6%E6%B5%81%E7%A8%8B&quot; aria-label=&quot;事件流程 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;事件流程&lt;/h3&gt;
&lt;p&gt;React 整个事件流程按时间顺序可以分为三个环节：&lt;/p&gt;
&lt;h4 id=&quot;事件系统初始化&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E4%BA%8B%E4%BB%B6%E7%B3%BB%E7%BB%9F%E5%88%9D%E5%A7%8B%E5%8C%96&quot; aria-label=&quot;事件系统初始化 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;事件系统初始化&lt;/h4&gt;
&lt;p&gt;该环节主要是注入事件插件与辅助函数。&lt;/p&gt;
&lt;p&gt;应用开始执行时，首先加载&lt;code class=&quot;language-text&quot;&gt;react-dom/src/client/ReactDOM.js&lt;/code&gt;里面的代码，其执行过程中执行&lt;code class=&quot;language-text&quot;&gt;react-dom/src/client/ReactDOMClientInjection.js&lt;/code&gt;文件，该文件调用事件插件注入代码和辅助函数注入代码。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;事件插件类型&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;可以查看&lt;code class=&quot;language-text&quot;&gt;events/PluginModuleType.js&lt;/code&gt;来了解事件插件类型定义，主要包括一个&lt;code class=&quot;language-text&quot;&gt;eventTypes&lt;/code&gt;列表和&lt;code class=&quot;language-text&quot;&gt;extractEvents&lt;/code&gt;方法。&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; type PluginModule&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;NativeEvent&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
eventTypes&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; EventTypes&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token function-variable function&quot;&gt;extractEvents&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
  &lt;span class=&quot;token parameter&quot;&gt;topLevelType&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; TopLevelType&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  targetInst&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; Fiber&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  nativeTarget&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; NativeEvent&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  nativeEventTarget&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; EventTarget&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt;ReactSyntheticEvent&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
tapMoveThreshold&lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; number&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;然后，&lt;code class=&quot;language-text&quot;&gt;react-dom/src/events&lt;/code&gt;目录下的&lt;code class=&quot;language-text&quot;&gt;*Plugin.js&lt;/code&gt;类文件是具体的插件实现，比如&lt;code class=&quot;language-text&quot;&gt;SimpleEventPlugin.js&lt;/code&gt;。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;事件插件注入&lt;/strong&gt;：通过引入，最终是调用&lt;code class=&quot;language-text&quot;&gt;events/EventPluginRegistry.js&lt;/code&gt;文件里面的&lt;code class=&quot;language-text&quot;&gt;injectEventPluginOrder&lt;/code&gt;与&lt;code class=&quot;language-text&quot;&gt;injectEventPluginsByName&lt;/code&gt;两个函数完成的。这两个函数执行完成之后，主要处理了事件插件数据（可以把事件插件当做数据），初始化了下面几个对外变量，用于后面的事件派发：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;eventPluginOrder&lt;/code&gt;：事件插件顺序定义；&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;plugins&lt;/code&gt;：事件插件；&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;eventNameDispatchConfigs&lt;/code&gt;：React 事件名称（比如&lt;code class=&quot;language-text&quot;&gt;click&lt;/code&gt;）到 React 事件派发配置映射；&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;registrationNameModules&lt;/code&gt;：React 事件注册名称（比如&lt;code class=&quot;language-text&quot;&gt;onClick&lt;/code&gt;/&lt;code class=&quot;language-text&quot;&gt;onClickCapture&lt;/code&gt;）到事件插件映射；&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;registrationNameDependencies&lt;/code&gt;：React 事件注册名称到依赖的原生 DOM 事件名称映射。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;辅助函数注入&lt;/strong&gt;：主要定义了三个事件处理过程当中使用的三个辅助函数。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;getFiberCurrentPropsFromNode&lt;/code&gt;：获取指定 DOM 节点对应的事件监听器数据；&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;getInstanceFromNode&lt;/code&gt;：获取指定 DOM 节点对应 Virtual DOM 当中的节点；&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;getNodeFromInstance&lt;/code&gt;：获取指定 Virtual DOM 节点对应的 DOM 节点。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&quot;事件监听器处理&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E4%BA%8B%E4%BB%B6%E7%9B%91%E5%90%AC%E5%99%A8%E5%A4%84%E7%90%86&quot; aria-label=&quot;事件监听器处理 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;事件监听器处理&lt;/h4&gt;
&lt;p&gt;应用初始化时，调用&lt;code class=&quot;language-text&quot;&gt;ReactDOM.render&lt;/code&gt;方法，然后会经过&lt;code class=&quot;language-text&quot;&gt;react-reconciler&lt;/code&gt;（React Fiber）里面的一系列函数调用，创建 Virtual DOM 节点（FiberNode），处理对应的节点属性（React props），也包括事件监听器的处理：存储事件监听器与绑定事件。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;事件监听器存储&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;通过调用&lt;code class=&quot;language-text&quot;&gt;react-dom/src/client/ReactDOMComponentTree.js&lt;/code&gt;的&lt;code class=&quot;language-text&quot;&gt;updateFiberProps&lt;/code&gt;函数将事件监听器存储到节点的某个属性当中：&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; randomKey &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; Math&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;random&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;toString&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;36&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;slice&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; internalEventHandlersKey &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;__reactEventHandlers$&apos;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; randomKey&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;updateFiberProps&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;node&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; props&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
node&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;internalEventHandlersKey&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; props&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;事件绑定&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;事件绑定处理通过&lt;code class=&quot;language-text&quot;&gt;react-dom/src/client/ReactDOMComponent.js&lt;/code&gt;的&lt;code class=&quot;language-text&quot;&gt;setInitialProperties&lt;/code&gt;方法来完成。对于不可冒泡的事件（比如&lt;code class=&quot;language-text&quot;&gt;img&lt;/code&gt;标签的&lt;code class=&quot;language-text&quot;&gt;load&lt;/code&gt;事件，&lt;code class=&quot;language-text&quot;&gt;video&lt;/code&gt;元素的媒体事件），React 会直接绑定到对应的 DOM 节点上；对于可冒泡的事件，React 会通过事件代理来处理，会监听&lt;code class=&quot;language-text&quot;&gt;rootContainerElement&lt;/code&gt;上面的事件，目前是&lt;code class=&quot;language-text&quot;&gt;document&lt;/code&gt;，以后可能会变成 React 应用挂载的根节点。&lt;/p&gt;
&lt;p&gt;事件绑定涉及到&lt;code class=&quot;language-text&quot;&gt;react-dom/src/events/ReactDOMEventListener.js&lt;/code&gt;文件里面的&lt;code class=&quot;language-text&quot;&gt;trapBubbledEvent&lt;/code&gt;/&lt;code class=&quot;language-text&quot;&gt;trapCapturedEvent&lt;/code&gt;以及&lt;code class=&quot;language-text&quot;&gt;react-dom/src/events/ReactBrowserEventEmitter.js&lt;/code&gt;里面的&lt;code class=&quot;language-text&quot;&gt;listenTo&lt;/code&gt;等函数。最终是通过&lt;code class=&quot;language-text&quot;&gt;react-dom/src/events/EventListener.js&lt;/code&gt;里面的两个函数，实际上就是调用 DOM 的&lt;code class=&quot;language-text&quot;&gt;addEventListener&lt;/code&gt;方法。但是第二个参数&lt;code class=&quot;language-text&quot;&gt;listener&lt;/code&gt;并不是 React props 的值，而是&lt;code class=&quot;language-text&quot;&gt;react-dom/src/events/ReactDOMEventListener.js&lt;/code&gt;里面的&lt;code class=&quot;language-text&quot;&gt;dispatchInteractiveEvent&lt;/code&gt;或&lt;code class=&quot;language-text&quot;&gt;dispatchEvent&lt;/code&gt;函数。&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&quot;事件派发&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E4%BA%8B%E4%BB%B6%E6%B4%BE%E5%8F%91&quot; aria-label=&quot;事件派发 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;事件派发&lt;/h4&gt;
&lt;p&gt;下面以简单的一个按钮元素&lt;code class=&quot;language-text&quot;&gt;&amp;lt;button&amp;gt;&lt;/code&gt;的&lt;code class=&quot;language-text&quot;&gt;click&lt;/code&gt;事件为例。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;合成事件创建&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;当&lt;code class=&quot;language-text&quot;&gt;click&lt;/code&gt;事件触发时，会冒泡到&lt;code class=&quot;language-text&quot;&gt;document&lt;/code&gt;，从而触发绑定在其上的监听器，就是&lt;code class=&quot;language-text&quot;&gt;react-dom/src/client/ReactDOMEventListener.js&lt;/code&gt;文件当中的&lt;code class=&quot;language-text&quot;&gt;dispatchInteractiveEvent&lt;/code&gt;函数，然后经过几个函数处理会依次调用该文件当中的&lt;code class=&quot;language-text&quot;&gt;dispatchEvent&lt;/code&gt;和&lt;code class=&quot;language-text&quot;&gt;handleTopLevel&lt;/code&gt;函数。&lt;/p&gt;
&lt;p&gt;紧接着依次调用&lt;code class=&quot;language-text&quot;&gt;events/EventPluginHub.js&lt;/code&gt;文件里面的&lt;code class=&quot;language-text&quot;&gt;runExtractEventsInBatch&lt;/code&gt;、&lt;code class=&quot;language-text&quot;&gt;extractEvents&lt;/code&gt;方法。在&lt;code class=&quot;language-text&quot;&gt;extractEvents&lt;/code&gt;方法当中，依次调用已注入插件的&lt;code class=&quot;language-text&quot;&gt;extractEvents&lt;/code&gt;方法，当然，对于&lt;code class=&quot;language-text&quot;&gt;click&lt;/code&gt;事件真正起作用的只有&lt;code class=&quot;language-text&quot;&gt;SimpleEventPlugin&lt;/code&gt;插件。在该插件当中会通过合成事件（SyntheticEvent）的相应构造器来创建合成事件，&lt;code class=&quot;language-text&quot;&gt;click&lt;/code&gt;事件对应&lt;code class=&quot;language-text&quot;&gt;SyntheticMouseEvent&lt;/code&gt;构造器。&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;SimpleEventPlugin&lt;/code&gt;插件包含 React 事件与 DOM 事件一一对应。而 React 事件与 DOM 事件不止一一对应关系，可以阅读其他事件插件代码了解更多。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;事件派发预处理&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;创建合成事件之后，大部分事件插件都会调用&lt;code class=&quot;language-text&quot;&gt;events/EventPropagators.js&lt;/code&gt;文件的&lt;code class=&quot;language-text&quot;&gt;accumulateTwoPhaseDispatches&lt;/code&gt;函数。调用该函数的作用是为了收集合成事件传播过程当中涉及到的节点和监听器，存放于合成事件对象的&lt;code class=&quot;language-text&quot;&gt;event._dispatchListeners&lt;/code&gt;和&lt;code class=&quot;language-text&quot;&gt;event._dispatchInstances&lt;/code&gt;属性当中。注意，该处理过程是按照事件流顺序来处理的，首先是捕获阶段（从应用的根节点到目标节点），然后是冒泡阶段（从目标节点到应用的根节点）。可以查看&lt;code class=&quot;language-text&quot;&gt;shared/ReactTreeTraversal.js&lt;/code&gt;的&lt;code class=&quot;language-text&quot;&gt;traverseTwoPhase&lt;/code&gt;方法。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;派发事件&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;经过上面的处理之后，会调用&lt;code class=&quot;language-text&quot;&gt;events/EventPluginHub.js&lt;/code&gt;文件中的&lt;code class=&quot;language-text&quot;&gt;runEventsInBatch&lt;/code&gt;函数，然后对事件队列当中的每个事件调用&lt;code class=&quot;language-text&quot;&gt;events/EventPluginUtils.js&lt;/code&gt;文件中的&lt;code class=&quot;language-text&quot;&gt;executeDispatchesInOrder&lt;/code&gt;函数来按照事件流顺序执行事件对应的监听器。&lt;/p&gt;
&lt;h3 id=&quot;开发者模式代码&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E5%BC%80%E5%8F%91%E8%80%85%E6%A8%A1%E5%BC%8F%E4%BB%A3%E7%A0%81&quot; aria-label=&quot;开发者模式代码 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;开发者模式代码&lt;/h3&gt;
&lt;p&gt;React 当中包含了大量的提升开发者体验的代码，比如输出在控制台的警告信息。这些代码大部分只在开发环境有效，打包到生产环境会被删除，是通过 Webpack 和 Uglify 来实现的。&lt;/p&gt;
&lt;p&gt;一些警告信息还会带网页地址，可以查看最新的更详细的说明，这种方式很不错，既不会太占源码体积，又可以查看到更详细的说明。&lt;/p&gt;
&lt;h3 id=&quot;合成事件&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E5%90%88%E6%88%90%E4%BA%8B%E4%BB%B6&quot; aria-label=&quot;合成事件 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;合成事件&lt;/h3&gt;
&lt;p&gt;合成事件（Synthetic events）对象通过一系列定义的合成事件类来创建，类比于 DOM 事件规范中定义的接口。最顶部是&lt;code class=&quot;language-text&quot;&gt;SyntheticEvent&lt;/code&gt;类，然后是其他子类，一直继承下来，比如&lt;code class=&quot;language-text&quot;&gt;SyntheticUIEvent&lt;/code&gt;继承自&lt;code class=&quot;language-text&quot;&gt;SyntheticEvent&lt;/code&gt;，&lt;code class=&quot;language-text&quot;&gt;SyntheticMouseEvent&lt;/code&gt;继承自&lt;code class=&quot;language-text&quot;&gt;SyntheticUIEvent&lt;/code&gt;。继承是通过类的静态方法&lt;code class=&quot;language-text&quot;&gt;extend&lt;/code&gt;来显示的，下面为&lt;code class=&quot;language-text&quot;&gt;extend&lt;/code&gt;方法定义：&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;SyntheticEvent&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function-variable function&quot;&gt;extend&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;Interface&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; Super &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;E&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token class-name&quot;&gt;E&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;prototype &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Super&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;prototype&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; prototype &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;E&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;Class&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;Super&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;apply&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; arguments&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  Object&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;assign&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;prototype&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Class&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;prototype&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token class-name&quot;&gt;Class&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;prototype &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; prototype&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token class-name&quot;&gt;Class&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;prototype&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;constructor &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; Class&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  Class&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Interface &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; Object&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;assign&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; Super&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Interface&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; Interface&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  Class&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;extend &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; Super&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;extend&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;addEventPoolingTo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Class&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; Class&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;上面的代码还实现了类的静态属性&lt;code class=&quot;language-text&quot;&gt;Interface&lt;/code&gt;的继承，通过类似于&lt;code class=&quot;language-text&quot;&gt;mixins&lt;/code&gt;的机制。&lt;code class=&quot;language-text&quot;&gt;Interface&lt;/code&gt;属性是个对象，包含了该类实例包含哪些属性和方法。&lt;/p&gt;
&lt;h2 id=&quot;后记&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E5%90%8E%E8%AE%B0&quot; aria-label=&quot;后记 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;后记&lt;/h2&gt;
&lt;p&gt;在一开始阅读代码时，我试图搜索过一些相关的源码解读文章，发现要么是简单地通过注释形式说明一下每行代码做什么的，要么就是画个流程图，然后说明下每个核心部分如何工作的，有些文章会加上几张图片。但是，我总觉得单纯的文本和图片形式不能很好地传递源码运行信息，我这篇文章同样如此，毕竟我们都是通过阅读代码、调试工具等结合理解代码的运行。假如有一种可以&lt;strong&gt;交互式&lt;/strong&gt;展现代码运行过程的工具可能有助于更好地理解，次一点儿动画也可以。&lt;/p&gt;
&lt;p&gt;PS. 写完此文发现一篇不错的文章&lt;a href=&quot;https://www.lzane.com/tech/react-event-system-and-source-code/&quot;&gt;REACT事件系统和源码浅析&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&quot;实例代码运行过程录制工具&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E5%AE%9E%E4%BE%8B%E4%BB%A3%E7%A0%81%E8%BF%90%E8%A1%8C%E8%BF%87%E7%A8%8B%E5%BD%95%E5%88%B6%E5%B7%A5%E5%85%B7&quot; aria-label=&quot;实例代码运行过程录制工具 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;实例代码运行过程录制工具&lt;/h3&gt;
&lt;p&gt;通过构建最简化可运行示例，并结合浏览器开发者工具的断点调试来理解代码运行过程是一个最实用有效的方法。其中关键的信息有：函数调用栈、参数值、变量值、代码具体逻辑等，但是文本与图片形式并不适合展现该过程。另外，目前的浏览器调试工具，假如选择逐行运行，会不断在源文件里面跳来跳去，并不是按顺序一样连贯的。&lt;/p&gt;
&lt;p&gt;Chrome 开发者工具是根据 &lt;a href=&quot;https://chromedevtools.github.io/devtools-protocol/tot/Debugger&quot;&gt;Chrome DevTools Protocol&lt;/a&gt; 来开发的，我们可以通过 &lt;a href=&quot;https://github.com/GoogleChrome/puppeteer&quot;&gt;puppeteer&lt;/a&gt; 和该协议规范做一些有用的工具。自动化逐行运行代码，并把调用栈与变量值等信息保存下来，然后在写一个工具播放这些信息。这个我还没有尝试过，但是大致看了一下，可行性很大。&lt;/p&gt;
&lt;h3 id=&quot;模块及模块依赖关系可视化工具&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E6%A8%A1%E5%9D%97%E5%8F%8A%E6%A8%A1%E5%9D%97%E4%BE%9D%E8%B5%96%E5%85%B3%E7%B3%BB%E5%8F%AF%E8%A7%86%E5%8C%96%E5%B7%A5%E5%85%B7&quot; aria-label=&quot;模块及模块依赖关系可视化工具 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;模块及模块依赖关系可视化工具&lt;/h3&gt;
&lt;p&gt;React 包含了几十上百个模块（文件），之间的依赖关系需要花一段时间才能理清。可以通过 &lt;a href=&quot;https://babeljs.io/docs/en/next/babel-parser.html&quot;&gt;@babel/parser&lt;/a&gt; 工具来静态将源码解析为 AST（抽象语法树），然后通过处理分析该 AST 获取各模块的依赖关系、每个模块定义的函数等信息，并通过可视化工具（如 D3.js）来可视化展示。依赖关系是一个网络，从可视化的网络图可以直观地看出哪些是关键模块（依赖或被依赖关系最多）、哪些是最底层的模块（不依赖任何其他模块）等信息。&lt;/p&gt;
&lt;h2 id=&quot;更多资源&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E6%9B%B4%E5%A4%9A%E8%B5%84%E6%BA%90&quot; aria-label=&quot;更多资源 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;更多资源&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://www.youtube.com/watch?v=dRo_egw7tBc&amp;#x26;t=8s&quot;&gt;React events in depth w/ Kent C. Dodds, Ben Alpert, &amp;#x26; Dan Abramov&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[移动端 Web 开发远程调试指南]]></title><description><![CDATA[这里移动端 Web 既包括在浏览器里面运行的网页，也包括使用 WebView 访问的网页。另外，远程调试既包括调试真机上面的网页，也包括使用 iOS/Android 模拟器里面运行的网页。 调试 iOS Safari 和 iOS WebViews 通常使用 macOS…]]></description><link>https://xiaocaoge.com//mobile-web-debugging/</link><guid isPermaLink="false">https://xiaocaoge.com//mobile-web-debugging/</guid><category><![CDATA[调试]]></category><category><![CDATA[移动端]]></category><category><![CDATA[远程调试]]></category><dc:creator><![CDATA[Alex]]></dc:creator><pubDate>Sun, 03 Feb 2019 16:00:00 GMT</pubDate><content:encoded>&lt;p&gt;这里移动端 Web 既包括在浏览器里面运行的网页，也包括使用 WebView 访问的网页。另外，远程调试既包括调试真机上面的网页，也包括使用 iOS/Android 模拟器里面运行的网页。&lt;/p&gt;
&lt;h2 id=&quot;调试-ios-safari-和-ios-webviews&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E8%B0%83%E8%AF%95-ios-safari-%E5%92%8C-ios-webviews&quot; aria-label=&quot;调试 ios safari 和 ios webviews permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;调试 iOS Safari 和 iOS WebViews&lt;/h2&gt;
&lt;p&gt;通常使用 macOS 的 Safari 远程调试 iOS Safari 网页和 iOS WebViews。此外，也可以使用 Chrome、Firefox 等来远程调试 iOS 网页，这样可以实现在 Windows、Linux 平台上面远程调试 iOS 网页。&lt;/p&gt;
&lt;h3 id=&quot;使用-macos-safari-远程调试-ios&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E4%BD%BF%E7%94%A8-macos-safari-%E8%BF%9C%E7%A8%8B%E8%B0%83%E8%AF%95-ios&quot; aria-label=&quot;使用 macos safari 远程调试 ios permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;使用 macOS Safari 远程调试 iOS&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;首先打开 macOS Safari 开发者菜单：打开 Safari【偏好设置】-【高级】面板，然后勾选底部“在菜单栏显示开发者”选项；&lt;/li&gt;
&lt;li&gt;然后，依次点击 iOS 【设置】- 往下面滑动【Safari 浏览器】- 滑动到底部【高级】，启动“Web 检查器”；&lt;/li&gt;
&lt;li&gt;使用 USB 将手机连接到电脑，如果弹出“是否信任此电脑”对话框，就选择信任此电脑；&lt;/li&gt;
&lt;li&gt;使用 iOS Safari 打开一个网页，然后在 macOS Safari 开发者菜单里面出现“XXX 的 iPhone”（XXX 是你手机的名称），下一级菜单出现你 iOS Safari 正在打开的网页，然后选择，就可以启动 macOS Safari 的开发者工具了。可以如同调试桌面端网页一样，查看控制台输出、页面元素查看、网络请求、断点调试等。关于 macOS Safari 开发者工具的使用可以参考：&lt;a href=&quot;https://support.apple.com/zh-cn/guide/safari-developer/welcome/mac&quot;&gt;Safari Web Inspector Guide&lt;/a&gt;。&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&quot;使用-wifi-连接电脑与手机&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E4%BD%BF%E7%94%A8-wifi-%E8%BF%9E%E6%8E%A5%E7%94%B5%E8%84%91%E4%B8%8E%E6%89%8B%E6%9C%BA&quot; aria-label=&quot;使用 wifi 连接电脑与手机 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;使用 WiFi 连接电脑与手机&lt;/h4&gt;
&lt;p&gt;和上面步骤一样，只不过可以勾选【XXX 的 iPhone】下一级菜单里面的【通过网络连接】选项（该选项需要特定 Safari 版本以上才可以），并且保证电脑与手机处于同一局域网内，然后就可以断开 USB 连接，可以看到【XXX 的 iPhone】仍然存在，如同 USB 连接那样，可以正常调试。&lt;/p&gt;
&lt;h4 id=&quot;调试-ios-模拟器里面的网页&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E8%B0%83%E8%AF%95-ios-%E6%A8%A1%E6%8B%9F%E5%99%A8%E9%87%8C%E9%9D%A2%E7%9A%84%E7%BD%91%E9%A1%B5&quot; aria-label=&quot;调试 ios 模拟器里面的网页 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;调试 iOS 模拟器里面的网页&lt;/h4&gt;
&lt;p&gt;如果是调试 iOS 模拟器里面的网页，则先打开 iOS 模拟器里面的网页，然后 macOS Safari 开发者菜单里面会出现你当前运行的模拟器，然后选择正在打开的网页就可以启动 Safari 开发者工具了。&lt;/p&gt;
&lt;h3 id=&quot;使用-chrome-远程调试-ios&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E4%BD%BF%E7%94%A8-chrome-%E8%BF%9C%E7%A8%8B%E8%B0%83%E8%AF%95-ios&quot; aria-label=&quot;使用 chrome 远程调试 ios permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;使用 Chrome 远程调试 iOS&lt;/h3&gt;
&lt;p&gt;现在前端开发者使用 Chrome 开发者工具来调试网页已成主流，虽然各浏览器的开发者工具核心功能大同小异，但是细节方面体验会有差异，有些人可能偏好 Chrome 开发者工具。通过使用 &lt;a href=&quot;https://github.com/RemoteDebug/remotedebug-ios-webkit-adapter&quot;&gt;remotedebug-ios-webkit-adapter&lt;/a&gt; 工具可以实现 Chrome、Firefox、VS Code 等工具来远程调试 iOS 上面的网页。具体安装与配置可以参考 remotedebug-ios-webkit-adapter 的文档。另外，该工具不仅仅可以在 macOS 上面使用，还可以在 Windows 和 Linux 上面使用。&lt;/p&gt;
&lt;h2 id=&quot;调试-android-浏览器和-android-webviews&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E8%B0%83%E8%AF%95-android-%E6%B5%8F%E8%A7%88%E5%99%A8%E5%92%8C-android-webviews&quot; aria-label=&quot;调试 android 浏览器和 android webviews permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;调试 Android 浏览器和 Android WebViews&lt;/h2&gt;
&lt;p&gt;通常就是使用 Chrome 来调试 Android 上面的页面，而且 Chrome 是跨平台的，因此在各个平台上面都可以调试 Android。&lt;/p&gt;
&lt;h3 id=&quot;使用-chrome-远程调试-android&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E4%BD%BF%E7%94%A8-chrome-%E8%BF%9C%E7%A8%8B%E8%B0%83%E8%AF%95-android&quot; aria-label=&quot;使用 chrome 远程调试 android permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;使用 Chrome 远程调试 Android&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;首先启用开发者选项和调试：【设置】-【关于本机】-【开发者选项】，并启用里面的“USB 调试”;&lt;/li&gt;
&lt;li&gt;打开桌面 Chrome 开发者工具，点击右上角的菜单按钮（竖着三个点图标），然后【更多工具】-【远程设备】，打开远程设备标签页，或者在一个单独的标签页地址栏输入&lt;code class=&quot;language-text&quot;&gt;chrome://inspect&lt;/code&gt;；&lt;/li&gt;
&lt;li&gt;勾选“远程设备”标签页里面的“发现 USB 设备”；&lt;/li&gt;
&lt;li&gt;通过 USB 将手机与电脑连接，可能需要在手机上确认“允许 USB 调试”；&lt;/li&gt;
&lt;li&gt;此时可以在“远程设备”标签页看到已连接的手机；&lt;/li&gt;
&lt;li&gt;使用浏览器访问任一页面，“远程设备”标签页对应的手机会出现正在访问的页面标题与地址，点击其后面的“Inspect”按钮，启动该页面对应的开发者工具，就可以开始调试了。&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;调试 Android 模拟器里面的页面同理，只是不需要 USB 连接与手机上面的设置就可以直接在“远程设备”里面查看正在运行的模拟器及页面。&lt;/p&gt;
&lt;h2 id=&quot;tbs-studio&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#tbs-studio&quot; aria-label=&quot;tbs studio permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;TBS Studio&lt;/h2&gt;
&lt;p&gt;&lt;a href=&quot;https://x5.tencent.com/tbs/index.html&quot;&gt;TBS&lt;/a&gt; 是 Tencent Browser Service 简称，是腾讯开发的浏览服务，主要用于微信、QQ、QQ 浏览器等腾讯系应用。而 &lt;a href=&quot;https://x5.tencent.com/guide/debug.html&quot;&gt;TBS Studio&lt;/a&gt; 是专门用于远程调试基于 TBS 应用内页面的的工具。&lt;/p&gt;
&lt;p&gt;其主要功能特性有：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;自动检测手机与 PC 的连接；&lt;/li&gt;
&lt;li&gt;自动检测网页是否可进行 Inspect 调试；&lt;/li&gt;
&lt;li&gt;自动引导开发者打开 Inspector 调试开关；&lt;/li&gt;
&lt;li&gt;一键开启 Inspector 调试，无需打开浏览器输入 URL，方便快捷；&lt;/li&gt;
&lt;li&gt;扩展X5内核独有 Inspect 选项，方便页面分析和优化；&lt;/li&gt;
&lt;li&gt;真机远程 Inspector 调试。&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;该工具只能调试 Android 上面的应用。&lt;/p&gt;
&lt;h2 id=&quot;spy-debugger&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#spy-debugger&quot; aria-label=&quot;spy debugger permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;spy-debugger&lt;/h2&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/wuchangming/spy-debugger&quot;&gt;spy-debugger&lt;/a&gt; 是一款基于 &lt;a href=&quot;http://people.apache.org/~pmuellr/weinre/docs/latest/&quot;&gt;weinre&lt;/a&gt;、AnyProxy 等开发的移动端页面调试工具，可以调试 iOS 和 Android，浏览器和 WebViews。所以优势就是使用简单，使用范围广。但是 weinre 是早期使用的一款调试工具，已经停止开发和维护了。&lt;/p&gt;
&lt;h2 id=&quot;网页内置调试工具&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E7%BD%91%E9%A1%B5%E5%86%85%E7%BD%AE%E8%B0%83%E8%AF%95%E5%B7%A5%E5%85%B7&quot; aria-label=&quot;网页内置调试工具 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;网页内置调试工具&lt;/h2&gt;
&lt;p&gt;有时需要调试 WebView 里面的页面，但是使用桌面浏览器远程调试 WebView 里面的页面需要手机应用配置，假如该应用是第三方开发，可能并不可以使用桌面浏览器来调试。这时候，可以使用最简单的&lt;code class=&quot;language-text&quot;&gt;alert&lt;/code&gt;查看输出或者将输出写入的页面的某个元素里面，但是这种方法比较繁琐，降低调试效率。还可以借助一些网页内置调试工具，比如 &lt;a href=&quot;https://github.com/Tencent/vConsole&quot;&gt;vConsole&lt;/a&gt; 或 &lt;a href=&quot;https://github.com/liriliri/eruda&quot;&gt;eruda&lt;/a&gt;。这两款工具功能类似，支持查看页面元素、控制台、网络请求、查看网络存储等功能，其引入与基本功能使用可以参考官方文档。&lt;/p&gt;
&lt;p&gt;与上面使用桌面端浏览器远程调试相比，这些工具存在一些劣势：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;并不能查看所有网络请求，比如 WebSocket；&lt;/li&gt;
&lt;li&gt;网络请求信息不丰富，比如请求大小、请求速度等；&lt;/li&gt;
&lt;li&gt;不能断点调试。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;因此，优先使用桌面端浏览器来远程调试，这些工具主要用来查看页面元素和控制台输出，网络请求可以使用专门的网络抓包代理工具。&lt;/p&gt;
&lt;h2 id=&quot;网络抓包代理工具&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E7%BD%91%E7%BB%9C%E6%8A%93%E5%8C%85%E4%BB%A3%E7%90%86%E5%B7%A5%E5%85%B7&quot; aria-label=&quot;网络抓包代理工具 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;网络抓包代理工具&lt;/h2&gt;
&lt;p&gt;虽然浏览器开发者工具通常都具有查看网络请求的功能，但是缺少一些更高级的功能，比如请求或响应内容替换、请求重定向到本地等。这时候可以使用专业的网络抓包代理工具，主要有 &lt;a href=&quot;https://www.charlesproxy.com/&quot;&gt;Charles&lt;/a&gt; 和 &lt;a href=&quot;https://www.telerik.com/fiddler&quot;&gt;Fiddler&lt;/a&gt;，两个工具目前都是跨平台的，支持 Windows、macOS 和 Linux。关于 Charles 的使用可以查看官网文档或我之前写的一篇文章&lt;a href=&quot;https://xiaocaoge.com/getting-started-charles/&quot;&gt;Charles 入门&lt;/a&gt;，而 Fiddler 我并没有使用过，可以查看其官方使用文档或自行搜索教程。&lt;/p&gt;
&lt;h2 id=&quot;调试技巧&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E8%B0%83%E8%AF%95%E6%8A%80%E5%B7%A7&quot; aria-label=&quot;调试技巧 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;调试技巧&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;早期的 Android WebView 与自带浏览器渲染引擎版本是一样或接近的，可以通过自带浏览器调试；&lt;/li&gt;
&lt;li&gt;使用 WebView 开发时，最好应用能提供开发者版本，并且提供打开任一页面的快捷功能，便于在应用内测试一些兼容性问题；&lt;/li&gt;
&lt;li&gt;尽量使用桌面浏览器来调试，在解决一些 bug 时，依照代码执行流程来一步一步断点调试，二分法打断点来快速缩小排查范围；&lt;/li&gt;
&lt;li&gt;搜索：自己经验、他人经验、搜索引擎、开源项目 issues 等。&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;参考&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E5%8F%82%E8%80%83&quot; aria-label=&quot;参考 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;参考&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://developers.google.com/web/tools/chrome-devtools/&quot;&gt;Chrome DevTools&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://developers.google.com/web/tools/chrome-devtools/remote-debugging/&quot;&gt;Get Started with Remote Debugging Android Devices&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://developers.google.com/web/tools/chrome-devtools/remote-debugging/webviews&quot;&gt;Remote Debugging WebViews&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://remysharp.com/2016/12/17/chrome-remote-debugging-over-wifi&quot;&gt;Chrome remote debugging over wifi&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://support.apple.com/zh-cn/guide/safari-developer/welcome/mac&quot;&gt;Safari Web Inspector Guide&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://silvantroxler.ch/2018/wireless-remote-debugging-with-safari-on-ios/&quot;&gt;(Wireless) Remote Debugging with Safari on iOS&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/google/ios-webkit-debug-proxy&quot;&gt;ios-webkit-debug-proxy&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/RemoteDebug/remotedebug-ios-webkit-adapter&quot;&gt;remotedebug-ios-webkit-adapter&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[JavaScript 异步模式]]></title><description><![CDATA[无论是开发前端应用还是 Node 应用，都会涉及到很多异步操作，常见的异步操作有： 网络操作：Ajax、fetch、Node HTTP 请求、WebSocket、TCP/UDP 等 文件操作：读取、写入等 Timers：setTimeout、setInterval…]]></description><link>https://xiaocaoge.com//asynchronous-javascript-patterns/</link><guid isPermaLink="false">https://xiaocaoge.com//asynchronous-javascript-patterns/</guid><category><![CDATA[异步]]></category><category><![CDATA[Asynchronous]]></category><category><![CDATA[Callback]]></category><category><![CDATA[Promise]]></category><category><![CDATA[Generator]]></category><category><![CDATA[async]]></category><category><![CDATA[await]]></category><dc:creator><![CDATA[Alex]]></dc:creator><pubDate>Wed, 16 Jan 2019 16:00:00 GMT</pubDate><content:encoded>&lt;p&gt;无论是开发前端应用还是 Node 应用，都会涉及到很多异步操作，常见的异步操作有：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;网络操作：Ajax、fetch、Node HTTP 请求、WebSocket、TCP/UDP 等&lt;/li&gt;
&lt;li&gt;文件操作：读取、写入等&lt;/li&gt;
&lt;li&gt;Timers：setTimeout、setInterval、setImmediate&lt;/li&gt;
&lt;li&gt;process.nextTick&lt;/li&gt;
&lt;li&gt;等等&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;JavaScript 处理异步操作的语法也在逐步发展，从最初的&lt;strong&gt;回调（Callbacks）&lt;/strong&gt;到&lt;strong&gt;Promise&lt;/strong&gt;，再到&lt;strong&gt;生成器（Generators）&lt;/strong&gt;，最后到&lt;strong&gt;异步函数（async functions）&lt;/strong&gt;。&lt;/p&gt;
&lt;p&gt;先不考虑不同的写法，从更抽象层次分析一下异步操作。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;任务&lt;/strong&gt;：每个异步操作都是在执行一个异步任务。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;状态&lt;/strong&gt;：异步任务涉及到一些状态：&lt;strong&gt;未执行&lt;/strong&gt;、&lt;strong&gt;执行中&lt;/strong&gt;、&lt;strong&gt;执行成功&lt;/strong&gt;、&lt;strong&gt;执行失败&lt;/strong&gt;，其中&lt;strong&gt;执行成功&lt;/strong&gt;和&lt;strong&gt;执行失败&lt;/strong&gt;都是&lt;strong&gt;执行完成&lt;/strong&gt;状态。可能还涉及到&lt;strong&gt;执行进度信息&lt;/strong&gt;，异步操作可以处于&lt;strong&gt;暂停&lt;/strong&gt;状态，也可以处于&lt;strong&gt;被取消&lt;/strong&gt;状态。&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;常见异步任务流程&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;执行一个异步任务，执行完成之后，使用其处理后的数据执行其他任务，或执行失败之后，使用其错误信息执行其他任务&lt;/li&gt;
&lt;li&gt;按顺序执行一组任务，前一个任务完成之后执行下一个任务，如果有任何一个任务报错，在中止执行后面的任务&lt;/li&gt;
&lt;li&gt;并发执行一组任务，所有任务执行完成之后执行其他任务&lt;/li&gt;
&lt;li&gt;并发执行一组任务，有任何一个任务完成，则执行其他任务&lt;/li&gt;
&lt;li&gt;并发执行一组任务，所有任务执行完成之后执行其他任务，但是限制同时执行的任务数量上限&lt;/li&gt;
&lt;li&gt;取消执行&lt;/li&gt;
&lt;li&gt;暂停执行&lt;/li&gt;
&lt;li&gt;恢复执行&lt;/li&gt;
&lt;li&gt;获取任务执行进度信息&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;常见异步任务示例&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E5%B8%B8%E8%A7%81%E5%BC%82%E6%AD%A5%E4%BB%BB%E5%8A%A1%E7%A4%BA%E4%BE%8B&quot; aria-label=&quot;常见异步任务示例 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;常见异步任务示例&lt;/h2&gt;
&lt;p&gt;下面使用不同的语法来完成常见异步任务&lt;/p&gt;
&lt;h3 id=&quot;执行一个异步任务，执行完成之后，使用其处理后的数据执行其他任务，或执行失败之后，使用其错误信息执行其他任务&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E6%89%A7%E8%A1%8C%E4%B8%80%E4%B8%AA%E5%BC%82%E6%AD%A5%E4%BB%BB%E5%8A%A1%EF%BC%8C%E6%89%A7%E8%A1%8C%E5%AE%8C%E6%88%90%E4%B9%8B%E5%90%8E%EF%BC%8C%E4%BD%BF%E7%94%A8%E5%85%B6%E5%A4%84%E7%90%86%E5%90%8E%E7%9A%84%E6%95%B0%E6%8D%AE%E6%89%A7%E8%A1%8C%E5%85%B6%E4%BB%96%E4%BB%BB%E5%8A%A1%EF%BC%8C%E6%88%96%E6%89%A7%E8%A1%8C%E5%A4%B1%E8%B4%A5%E4%B9%8B%E5%90%8E%EF%BC%8C%E4%BD%BF%E7%94%A8%E5%85%B6%E9%94%99%E8%AF%AF%E4%BF%A1%E6%81%AF%E6%89%A7%E8%A1%8C%E5%85%B6%E4%BB%96%E4%BB%BB%E5%8A%A1&quot; aria-label=&quot;执行一个异步任务，执行完成之后，使用其处理后的数据执行其他任务，或执行失败之后，使用其错误信息执行其他任务 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;执行一个异步任务，执行完成之后，使用其处理后的数据执行其他任务，或执行失败之后，使用其错误信息执行其他任务&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;回调&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; fs &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;fs&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

fs&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;readFile&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;./data/item.json&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;err&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; data&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;err&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;throw&lt;/span&gt; err&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;toString&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;utf8&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Node.js 使用 &lt;a href=&quot;https://en.wikipedia.org/wiki/Continuation-passing_style&quot;&gt;CPS&lt;/a&gt; 风格回调，回调的第一个参数为异常信息，之后的参数为返回值。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Promise&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; fs &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;fs&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// 从 Node v10.0.0 开始支持&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// v10.0.0 之前版本可以使用 util.promisify() 或方法来将回调接口转换成 Promise 接口&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; filehandle &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; fs&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;promises&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

filehandle&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;readFile&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;./data/item.json&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;data&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;toString&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;utf8&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;catch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;err&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;err&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Promise 使用&lt;code class=&quot;language-text&quot;&gt;catch&lt;/code&gt;来捕获异常。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;生成器&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; fs &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;fs&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; filehandle &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; fs&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;promises&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;readFile&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;file&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; filehandle&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;readFile&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;file&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;runGen&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;genFn&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; iterator &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;genFn&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Promise&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;resolve&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; reject&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;parse&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;result&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; item &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; iterator&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;next&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;result&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;item&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;done&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token function&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;result&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        Promise&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;item&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;value&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;parse&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; reject&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;parse&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token function&quot;&gt;runGen&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;gen&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;try&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; data &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;yield&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;readFile&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;./data/item.json&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;toString&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;utf8&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;catch&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;err&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;err&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;单纯使用 Generator 来写异步代码并不友好，类似于上面基于 Promise 的&lt;code class=&quot;language-text&quot;&gt;runGen&lt;/code&gt;辅助函数可以让写法更类似于我们写同步代码一样。这里的&lt;code class=&quot;language-text&quot;&gt;runGen&lt;/code&gt;只是示例性质，实际上可以使用 &lt;a href=&quot;https://github.com/tj/co&quot;&gt;co&lt;/a&gt;，co 也支持更多功能，具体使用可以查看文档。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;异步函数&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; fs &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;fs&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; filehandle &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; fs&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;promises&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;try&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; data &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; filehandle&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;readFile&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;./data/item.json&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;toString&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;utf8&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;catch&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;err&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;err&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;异步函数也是基于 Promise，就像我们写同步代码一样，可以直接使用&lt;code class=&quot;language-text&quot;&gt;try...catch&lt;/code&gt;捕获异常。可以发现异步函数写法与上面的生成器写法很类似，可以认为异步函数是上面生成器写法的语法糖。&lt;/p&gt;
&lt;h3 id=&quot;按顺序执行一组任务，前一个任务完成之后执行下一个任务，如果有任何一个任务报错，在中止执行后面的任务&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E6%8C%89%E9%A1%BA%E5%BA%8F%E6%89%A7%E8%A1%8C%E4%B8%80%E7%BB%84%E4%BB%BB%E5%8A%A1%EF%BC%8C%E5%89%8D%E4%B8%80%E4%B8%AA%E4%BB%BB%E5%8A%A1%E5%AE%8C%E6%88%90%E4%B9%8B%E5%90%8E%E6%89%A7%E8%A1%8C%E4%B8%8B%E4%B8%80%E4%B8%AA%E4%BB%BB%E5%8A%A1%EF%BC%8C%E5%A6%82%E6%9E%9C%E6%9C%89%E4%BB%BB%E4%BD%95%E4%B8%80%E4%B8%AA%E4%BB%BB%E5%8A%A1%E6%8A%A5%E9%94%99%EF%BC%8C%E5%9C%A8%E4%B8%AD%E6%AD%A2%E6%89%A7%E8%A1%8C%E5%90%8E%E9%9D%A2%E7%9A%84%E4%BB%BB%E5%8A%A1&quot; aria-label=&quot;按顺序执行一组任务，前一个任务完成之后执行下一个任务，如果有任何一个任务报错，在中止执行后面的任务 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;按顺序执行一组任务，前一个任务完成之后执行下一个任务，如果有任何一个任务报错，在中止执行后面的任务&lt;/h3&gt;
&lt;p&gt;假设&lt;code class=&quot;language-text&quot;&gt;./data/item.json&lt;/code&gt;文件内容如下：&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;json&quot;&gt;&lt;pre class=&quot;language-json&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;count&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;现在我们首先检查&lt;code class=&quot;language-text&quot;&gt;./data/item.json&lt;/code&gt;是否可以读取；然后，读取文件内容；然后增加&lt;code class=&quot;language-text&quot;&gt;count&lt;/code&gt;值，并写入到&lt;code class=&quot;language-text&quot;&gt;./data/item.json&lt;/code&gt;文件。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;回调&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; fs &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;fs&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;increment&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;file&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; callback&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  fs&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;access&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;file&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;err&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;err&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token function&quot;&gt;callback&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;err&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      fs&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;readFile&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;file&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;utf8&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;err1&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; data&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;err1&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          &lt;span class=&quot;token function&quot;&gt;callback&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;err1&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          &lt;span class=&quot;token keyword&quot;&gt;try&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; json &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;JSON&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;parse&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
            json&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;count&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
            fs&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;writeFile&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;file&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;JSON&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;stringify&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;json&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; callback&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
          &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;catch&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;err2&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token function&quot;&gt;callback&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;err2&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
          &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token function&quot;&gt;increment&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;./data/item.json&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;err&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;err&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;err&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;incremented&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;上面是比较直观的写法，但是存在&lt;strong&gt;回调地狱（callback hell）&lt;/strong&gt;问题，层层嵌套回调不利于理解代码逻辑，另外回调第一个参数变量命名也是问题。当然可以通过 Promise、生成器或异步函数来解决。不过即使只使用回调方法也是可以避免回调地狱的，比如使用 &lt;a href=&quot;http://caolan.github.io/async/index.html&quot;&gt;Async&lt;/a&gt; 函数库当中的&lt;code class=&quot;language-text&quot;&gt;series&lt;/code&gt;或&lt;code class=&quot;language-text&quot;&gt;waterfall&lt;/code&gt;方法，这里使用 &lt;a href=&quot;http://caolan.github.io/async/docs.html#waterfall&quot;&gt;waterfall&lt;/a&gt; 方法。&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; fs &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;fs&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; waterfall &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;async/waterfall&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;increment&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;file&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; callback&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;waterfall&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;cb&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      fs&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;access&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;file&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; cb&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;cb&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      fs&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;readFile&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;file&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;utf8&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; cb&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;data&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; cb&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;try&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; json &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;JSON&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;parse&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        json&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;count&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        fs&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;writeFile&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;file&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;JSON&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;stringify&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;json&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; cb&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;catch&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;err&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token function&quot;&gt;cb&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;err&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; callback&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token function&quot;&gt;increment&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;./data/item.json&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;err&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;err&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;err&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;incremented&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;Promise&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; fs &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;fs&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; filehandle &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; fs&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;promises&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;increment&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;file&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; filehandle&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;access&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;file&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; filehandle&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;readFile&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;file&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;utf8&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;data&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; json &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;JSON&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;parse&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      json&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;count&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; filehandle&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;writeFile&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;file&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;JSON&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;stringify&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;json&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token function&quot;&gt;increment&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;./data/item.json&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;incremented&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;catch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;err&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;err&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;生成器&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; fs &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;fs&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; co &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;co&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; filehandle &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; fs&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;promises&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;increment&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;file&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;co&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;yield&lt;/span&gt; filehandle&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;access&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;file&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; data &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;yield&lt;/span&gt; filehandle&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;readFile&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;file&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;utf8&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; json &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;JSON&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;parse&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    json&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;count&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;yield&lt;/span&gt; filehandle&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;writeFile&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;file&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;JSON&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;stringify&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;json&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token function&quot;&gt;increment&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;./data/item.json&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;incremented&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;catch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;err&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;err&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;异步函数&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; fs &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;fs&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; filehandle &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; fs&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;promises&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;increment&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;file&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; filehandle&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;access&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;file&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; data &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; filehandle&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;readFile&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;file&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;utf8&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; json &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;JSON&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;parse&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  json&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;count&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; filehandle&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;writeFile&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;file&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;JSON&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;stringify&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;json&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token function&quot;&gt;increment&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;./data/item.json&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;incremented&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;catch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;err&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;err&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id=&quot;并发执行一组任务，所有任务执行完成之后执行其他任务&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E5%B9%B6%E5%8F%91%E6%89%A7%E8%A1%8C%E4%B8%80%E7%BB%84%E4%BB%BB%E5%8A%A1%EF%BC%8C%E6%89%80%E6%9C%89%E4%BB%BB%E5%8A%A1%E6%89%A7%E8%A1%8C%E5%AE%8C%E6%88%90%E4%B9%8B%E5%90%8E%E6%89%A7%E8%A1%8C%E5%85%B6%E4%BB%96%E4%BB%BB%E5%8A%A1&quot; aria-label=&quot;并发执行一组任务，所有任务执行完成之后执行其他任务 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;并发执行一组任务，所有任务执行完成之后执行其他任务&lt;/h3&gt;
&lt;p&gt;假设&lt;code class=&quot;language-text&quot;&gt;./data&lt;/code&gt;目录下所有的 json 文件都是类似于之前&lt;code class=&quot;language-text&quot;&gt;./data/item.json&lt;/code&gt;数据结构，我们要读取所有的 json 文件，并使字段&lt;code class=&quot;language-text&quot;&gt;count&lt;/code&gt;增加 1。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;回调函数&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; fs &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;fs&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; path &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;path&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; waterfall &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;async/waterfall&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; parallel &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;async/parallel&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token function&quot;&gt;waterfall&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;callback&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    fs&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;readdir&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;./data&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; callback&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;files&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; callback&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; jsonFiles &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; files&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;file&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; path&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;join&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;./data&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; file&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; tasks &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; jsonFiles&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;jsonFile&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;callback&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token comment&quot;&gt;// increment 为上一节回调函数当中定义的 increment 函数&lt;/span&gt;
        &lt;span class=&quot;token function&quot;&gt;increment&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;jsonFile&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; callback&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;parallel&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;tasks&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; callback&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;err&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; results&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;err&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;err&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;incremented&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;Promise&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; fs &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;fs&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; path &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;path&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; filehandle &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; fs&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;promises&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

filehandle&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;readdir&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;./data&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;files&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; jsonFiles &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; files&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;file&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; path&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;join&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;./data&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; file&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// increment 为上一节 Promise 当中定义的 increment 函数&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; tasks &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; jsonFiles&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;jsonFile&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;increment&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;jsonFile&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; Promise&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;all&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;tasks&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;incremented&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;catch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;err&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;err&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;生成器&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; fs &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;fs&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; path &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;path&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; co &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;co&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; filehandle &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; fs&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;promises&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token function&quot;&gt;co&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; files &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;yield&lt;/span&gt; filehandle&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;readdir&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;./data&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; jsonFiles &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; files&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;file&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; path&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;join&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;./data&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; file&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// increment 为上一节生成器当中定义的 increment 函数&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; tasks &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; jsonFiles&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;jsonFile&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;increment&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;jsonFile&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;yield&lt;/span&gt; tasks&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;incremented&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;catch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;err&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;err&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;异步函数&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; fs &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;fs&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; path &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;path&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; co &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;co&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; filehandle &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; fs&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;promises&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;try&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; files &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; filehandle&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;readdir&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;./data&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; jsonFiles &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; files&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;file&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; path&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;join&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;./data&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; file&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// increment 为上一节异步函数当中定义的 increment 函数&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; tasks &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; jsonFiles&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;jsonFile&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;increment&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;jsonFile&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; tasks&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;incremented&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;catch&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;err&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;err&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id=&quot;并发执行一组任务，有任何一个任务完成，则执行其他任务&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E5%B9%B6%E5%8F%91%E6%89%A7%E8%A1%8C%E4%B8%80%E7%BB%84%E4%BB%BB%E5%8A%A1%EF%BC%8C%E6%9C%89%E4%BB%BB%E4%BD%95%E4%B8%80%E4%B8%AA%E4%BB%BB%E5%8A%A1%E5%AE%8C%E6%88%90%EF%BC%8C%E5%88%99%E6%89%A7%E8%A1%8C%E5%85%B6%E4%BB%96%E4%BB%BB%E5%8A%A1&quot; aria-label=&quot;并发执行一组任务，有任何一个任务完成，则执行其他任务 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;并发执行一组任务，有任何一个任务完成，则执行其他任务&lt;/h3&gt;
&lt;p&gt;假设&lt;code class=&quot;language-text&quot;&gt;./data&lt;/code&gt;目录下面有一组 json 文件，现在读取这些文件，只要有一个文件读取完成，就打印出该文件内容。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;回调函数&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; fs &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;fs&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; path &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;path&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; waterfall &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;async/waterfall&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; race &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;async/race&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token function&quot;&gt;waterfall&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;callback&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    fs&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;readdir&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;./data&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; callback&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;files&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; callback&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; jsonFiles &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; files&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;file&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; path&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;join&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;./data&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; file&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; tasks &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; jsonFiles&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;jsonFile&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;cb&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        fs&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;readFile&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;jsonFile&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;utf8&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; cb&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;race&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;tasks&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; callback&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;err&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; result&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;err&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;err&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;result&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;Promise&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; fs &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;fs&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; path &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;path&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; filehandle &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; fs&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;promises&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

filehandle&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;readdir&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;./data&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;files&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; jsonFiles &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; files&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;file&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; path&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;join&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;./data&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; file&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; tasks &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; jsonFiles&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;jsonFile&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; filehandle&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;readFile&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;jsonFile&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;utf8&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; Promise&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;race&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;tasks&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;result&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;result&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;catch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;err&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;err&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;生成器&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; fs &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;fs&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; path &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;path&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; co &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;co&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; filehandle &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; fs&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;promises&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token function&quot;&gt;co&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; files &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;yield&lt;/span&gt; filehandle&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;readdir&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;./data&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; jsonFiles &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; files&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;file&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; path&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;join&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;./data&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; file&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; tasks &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; jsonFiles&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;jsonFile&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; filehandle&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;readFile&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;jsonFile&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;utf8&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;yield&lt;/span&gt; Promise&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;race&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;tasks&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;result&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;result&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;catch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;err&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;err&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;异步函数&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; fs &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;fs&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; path &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;path&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; filehandle &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; fs&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;promises&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; files &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; filehandle&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;readdir&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;./data&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; jsonFiles &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; files&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;file&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; path&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;join&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;./data&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; file&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; tasks &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; jsonFiles&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;jsonFile&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; filehandle&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;readFile&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;jsonFile&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;utf8&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; Promise&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;race&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;tasks&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;result&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;result&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;catch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;err&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;err&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id=&quot;并发执行一组任务，所有任务执行完成之后执行其他任务，但是限制同时执行的任务数量上限&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E5%B9%B6%E5%8F%91%E6%89%A7%E8%A1%8C%E4%B8%80%E7%BB%84%E4%BB%BB%E5%8A%A1%EF%BC%8C%E6%89%80%E6%9C%89%E4%BB%BB%E5%8A%A1%E6%89%A7%E8%A1%8C%E5%AE%8C%E6%88%90%E4%B9%8B%E5%90%8E%E6%89%A7%E8%A1%8C%E5%85%B6%E4%BB%96%E4%BB%BB%E5%8A%A1%EF%BC%8C%E4%BD%86%E6%98%AF%E9%99%90%E5%88%B6%E5%90%8C%E6%97%B6%E6%89%A7%E8%A1%8C%E7%9A%84%E4%BB%BB%E5%8A%A1%E6%95%B0%E9%87%8F%E4%B8%8A%E9%99%90&quot; aria-label=&quot;并发执行一组任务，所有任务执行完成之后执行其他任务，但是限制同时执行的任务数量上限 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;并发执行一组任务，所有任务执行完成之后执行其他任务，但是限制同时执行的任务数量上限&lt;/h3&gt;
&lt;p&gt;假设&lt;code class=&quot;language-text&quot;&gt;./data&lt;/code&gt;目录下有一组 json 文件，现在并发读取所有文件，读取完所有文件之后则该任务完成，但是限制同时读取的文件数量为 5。&lt;/p&gt;
&lt;p&gt;如何实现同时执行任务数量上限？假定上限为 N，所有待执行任务位于一个队列 Q 当中，初始化执行时，从队列 Q 当中取出 N 个任务执行，当且只当一个任务完成之后从队列 Q 当中取出新的任务执行。下面是一种实现，其中&lt;code class=&quot;language-text&quot;&gt;taskQueue&lt;/code&gt;是一个数组，其元素均为一个函数，表示一个任务，函数返回一个 Promise 对象。&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;limit&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;taskQueue&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; number&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Promise&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;resolve&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; reject&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; queueLength &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; taskQueue&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;length&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; results &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;Array&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;queueLength&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;fill&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; initNumber &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; Math&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;min&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;queueLength&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; number&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; runningNumber &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; isResolved &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; isRejected &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;runNext&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      runningNumber&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

      &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; id &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; queueLength &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; taskQueue&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;length&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; task &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; taskQueue&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;shift&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token function&quot;&gt;task&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;&lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;args&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          runningNumber&lt;span class=&quot;token operator&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
          results&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;id&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; args&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
          &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;taskQueue&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;length &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token function&quot;&gt;runNext&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
          &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
          &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;runningNumber &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;isResolved &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;isRejected&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token function&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;results&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
            isResolved &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
          &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;catch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;err&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          runningNumber&lt;span class=&quot;token operator&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
          &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;runningNumber &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;isResolved &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;isRejected&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token function&quot;&gt;reject&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;err&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
            isRejected &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
          &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;initNumber&lt;span class=&quot;token operator&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token function&quot;&gt;runNext&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;回调函数&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;这里不使用上面的&lt;code class=&quot;language-text&quot;&gt;limit&lt;/code&gt;函数，而是使用 Async 的&lt;code class=&quot;language-text&quot;&gt;parallelLimit&lt;/code&gt;函数。&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; fs &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;fs&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; path &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;path&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; waterfall &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;async/waterfall&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; parallelLimit &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;async/parallelLimit&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token function&quot;&gt;waterfall&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;callback&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    fs&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;readdir&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;./data&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; callback&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;files&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; callback&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; jsonFiles &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; files&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;file&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; path&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;join&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;./data&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; file&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; tasks &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; jsonFiles&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;jsonFile&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token parameter&quot;&gt;cb&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; fs&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;readFile&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;jsonFile&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;utf8&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; cb&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;parallelLimit&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;tasks&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; callback&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;err&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; results&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;err&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;err&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;results&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;Promise&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; fs &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;fs&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; path &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;path&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; filehandle &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; fs&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;promises&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

filehandle&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;readdir&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;./data&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;files&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; jsonFiles &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; files&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;file&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; path&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;join&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;./data&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; file&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; tasks &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; jsonFiles&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;jsonFile&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; filehandle&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;readFile&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;jsonFile&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;utf8&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;limit&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;tasks&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;results&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;results&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;catch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;err&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;err&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;生成器&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; fs &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;fs&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; path &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;path&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; co &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;co&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; filehandle &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; fs&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;promises&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token function&quot;&gt;co&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; files &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;yield&lt;/span&gt; filehandle&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;readdir&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;./data&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; jsonFiles &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; files&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;file&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; path&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;join&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;./data&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; file&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; tasks &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; jsonFiles&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;jsonFile&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; filehandle&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;readFile&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;jsonFile&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;utf8&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;yield&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;limit&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;tasks&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;results&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;results&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;catch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;err&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;err&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;异步函数&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; fs &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;fs&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; path &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;path&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; filehandle &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; fs&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;promises&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; files &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; filehandle&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;readdir&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;./data&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; jsonFiles &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; files&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;file&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; path&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;join&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;./data&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; file&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; tasks &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; jsonFiles&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;jsonFile&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; filehandle&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;readFile&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;jsonFile&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;utf8&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;limit&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;tasks&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;results&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;results&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;catch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;err&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;err&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Todo: 取消执行、暂停执行、恢复执行、获取执行进度信息&lt;/p&gt;
&lt;h2 id=&quot;相关连接&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E7%9B%B8%E5%85%B3%E8%BF%9E%E6%8E%A5&quot; aria-label=&quot;相关连接 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;相关连接&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://caolan.github.io/async/index.html&quot;&gt;async&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://bluebirdjs.com/docs/getting-started.html&quot;&gt;bluebird&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/tj/co&quot;&gt;co&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://developers.google.com/web/fundamentals/primers/async-functions&quot;&gt;Async functions - making promises friendly&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://ponyfoo.com/articles/understanding-javascript-async-await&quot;&gt;Understanding JavaScript’s async await&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[HTML 转 PDF 方案]]></title><description><![CDATA[在 Web 开发当中，HTML 转 PDF 是一个常见的需求，比如一些报告、证明等经常需要提供 PDF 格式文件，又或者一些内容需要转成 PDF 来供用户阅读。最简单的 HTML 转 PDF 的方式可能就是直接使用浏览器的打印功能来将整个页面转成 PDF…]]></description><link>https://xiaocaoge.com//html-to-pdf/</link><guid isPermaLink="false">https://xiaocaoge.com//html-to-pdf/</guid><category><![CDATA[HTML]]></category><category><![CDATA[PDF]]></category><category><![CDATA[HTML to PDF]]></category><dc:creator><![CDATA[Alex]]></dc:creator><pubDate>Sun, 13 Jan 2019 16:00:00 GMT</pubDate><content:encoded>&lt;p&gt;在 Web 开发当中，HTML 转 PDF 是一个常见的需求，比如一些报告、证明等经常需要提供 PDF 格式文件，又或者一些内容需要转成 PDF 来供用户阅读。最简单的 HTML 转 PDF 的方式可能就是直接使用浏览器的打印功能来将整个页面转成 PDF。但是这种方式有很多缺点：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;操作略繁琐，增加用户使用门槛&lt;/li&gt;
&lt;li&gt;移动端或者其他嵌入应用未必有打印功能&lt;/li&gt;
&lt;li&gt;样式在不同终端可能不一致&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;所以需要使用其他方式，通常有两类：服务端或客户端。&lt;/p&gt;
&lt;h2 id=&quot;服务端&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E6%9C%8D%E5%8A%A1%E7%AB%AF&quot; aria-label=&quot;服务端 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;服务端&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;优势&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;无需解决客户端兼容性问题。&lt;/li&gt;
&lt;li&gt;无需耗费客户端计算资源。&lt;/li&gt;
&lt;li&gt;可缓存：相同内容只需要转换一次，使用文件 hash 或者其他唯一性标识校验。不一定以文件作为最小单元，假如是幻灯片之类的应用可以每张幻灯片作为最小单元，从而实现文件级别增量转换。&lt;/li&gt;
&lt;li&gt;预渲染：可以提前转换好，用户可以即时下载。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;劣势&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;占用网络带宽。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;不同的语言有各自的解决方案（包/模块），如果是使用 Node.js 可以考虑使用 &lt;a href=&quot;https://github.com/GoogleChrome/puppeteer&quot;&gt;puppeteer&lt;/a&gt; 来开发。Puppeteer 是通过调用 Chrome 或者 Chromium 来实现 HTML 转 PDF，因此对于 HTML/CSS/JS 支持很好。也有基于 puppeteer 封装成的 URL 转 PDF 服务 &lt;a href=&quot;https://github.com/alvarcarto/url-to-pdf-api&quot;&gt;url-to-pdf-api&lt;/a&gt;。当然，puppeteer 在生成 PDF 时可能存在 bug，比如 &lt;a href=&quot;https://github.com/GoogleChrome/puppeteer/issues/683&quot;&gt;pdf size not completely equal to the page. （l can repeat）&lt;/a&gt;。&lt;/p&gt;
&lt;p&gt;除了使用 puppeteer，也可以使用基于 Webkit 内核的 &lt;a href=&quot;https://github.com/wkhtmltopdf/wkhtmltopdf&quot;&gt;wkhtmtopdf&lt;/a&gt;，这个工具提供命令行方式调用，在个人需要将一些文档等转成 PDF 时很实用。&lt;/p&gt;
&lt;h2 id=&quot;客户端&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E5%AE%A2%E6%88%B7%E7%AB%AF&quot; aria-label=&quot;客户端 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;客户端&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;优势&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;节省服务器计算与存储资源。&lt;/li&gt;
&lt;li&gt;节省网络带宽。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;劣势&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;耗费客户端计算资源，HTML 生成图片及图片添加到 PDF 当中都是比较耗时的任务，会阻塞 DOM，CSS 动画等渲染。&lt;/li&gt;
&lt;li&gt;基本上无法应用缓存，所以无法做到即时下载，用户需要等待。&lt;/li&gt;
&lt;li&gt;兼容性问题，通常 IE10+ 才可以，在低版本移动端操作系统也会有兼容性问题。&lt;/li&gt;
&lt;li&gt;CSS 支持问题&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;客户端有一些使用 JS 来生成 PDF 的库，比如 &lt;a href=&quot;https://github.com/MrRio/jsPDF&quot;&gt;jsPDF&lt;/a&gt;，可以创建 PDF 的基本单元：文本、图片等。然后如果我们能将 HTML 转成一页一页的图片，然后将这些图片添加到 PDF 当中，这样就可以实现 HTML 转 PDF 了。使用 &lt;a href=&quot;https://github.com/niklasvh/html2canvas&quot;&gt;html2canvas&lt;/a&gt; 可以实现 HTML 转图片，而且已经有封装好的包了 &lt;a href=&quot;https://github.com/eKoopmans/html2pdf&quot;&gt;html2pdf&lt;/a&gt;。&lt;/p&gt;
&lt;p&gt;html2canvas 对于某些 CSS 属性并不支持，比如&lt;code class=&quot;language-text&quot;&gt;box-shadow&lt;/code&gt;，支持列表可以查看&lt;a href=&quot;https://html2canvas.hertzen.com/features&quot;&gt;文档&lt;/a&gt;。另外，因为正确渲染 HTML 与 CSS 是一件复杂的事情，而 html2canvas 几乎只有一个人在开发，会有不少 bug，比如渲染 KaTeX 生成的公式就有问题 &lt;a href=&quot;https://github.com/niklasvh/html2canvas/issues/1418&quot;&gt;Rendering &amp;#x3C;svg&gt; with bug which is set with the css &quot;width&quot; style and svg &quot;width&quot; attribute&lt;/a&gt;。&lt;/p&gt;
&lt;p&gt;html2pdf 如果一次性渲染很多页比较复杂的 HTML 时会让用户明显感受到阻塞浏览器响应用户操作，可以一次 event loop 只渲染一页内容来解决这个问题，同时还可以支持渲染页数进度功能。这些我以前的工作当中实现过：&lt;a href=&quot;https://github.com/eKoopmans/html2pdf/compare/master...Alex1990:master&quot;&gt;Alex1990/html2canvas&lt;/a&gt;，虽然我现在已经看不大懂自己写的代码了。&lt;/p&gt;
&lt;p&gt;另外，因为是先转成图片，然后再生成 PDF，所以 PDF 当中的文本是无法选中的。&lt;/p&gt;
&lt;h2 id=&quot;html-转-图片&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#html-%E8%BD%AC-%E5%9B%BE%E7%89%87&quot; aria-label=&quot;html 转 图片 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;HTML 转 图片&lt;/h2&gt;
&lt;p&gt;与 HTML 转 PDF 类似，不仅是可以分为服务端与客户端，而且采用的技术也是类似的。服务端可以使用 puppeteer，客户端可以直接使用 html2canvas。&lt;/p&gt;
&lt;h2 id=&quot;总结&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E6%80%BB%E7%BB%93&quot; aria-label=&quot;总结 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;总结&lt;/h2&gt;
&lt;p&gt;相比于节省的服务器资源和网络带宽，生成的 PDF 质量以及用户体验更重要。对于简单少量的内容来说，使用客户端生成方案可以应对，但是对于复杂大量的内容来说使用服务端渲染方案更好。而且应该把服务端 HTML 转 PDF/图片 做成一个相对通用基础的服务，供各业务开发使用，甚至应该是云计算厂商的周边服务，供很多企业使用。&lt;/p&gt;</content:encoded></item><item><title><![CDATA[公式渲染方案]]></title><description><![CDATA[…]]></description><link>https://xiaocaoge.com//rendering-tex/</link><guid isPermaLink="false">https://xiaocaoge.com//rendering-tex/</guid><category><![CDATA[公式]]></category><category><![CDATA[TeX]]></category><dc:creator><![CDATA[Alex]]></dc:creator><pubDate>Sun, 30 Dec 2018 16:00:00 GMT</pubDate><content:encoded>&lt;p&gt;我在写博客主题时，经常会列出来可能会使用哪些信息表现形式，几乎所有内容发布平台都支持的有：文字、图片、超链接。但是，我作为编程人员，代码也应当支持。然后，还有很多其他形式要考虑：音频、视频、公式等等，不仅仅要支持，还要考虑支持到什么程度，用户体验会更好些。大体上，信息可能会有如下表现形式：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;文字&lt;/li&gt;
&lt;li&gt;图片&lt;/li&gt;
&lt;li&gt;表格&lt;/li&gt;
&lt;li&gt;音频&lt;/li&gt;
&lt;li&gt;视频&lt;/li&gt;
&lt;li&gt;公式&lt;/li&gt;
&lt;li&gt;代码&lt;/li&gt;
&lt;li&gt;等等&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;另外，还有可编辑代码、可交互式动画、VR 等表现形式，乃至游戏也算一种。不过有些几乎所有场景都需要的，有些特定场景才需要。&lt;/p&gt;
&lt;p&gt;公式作为知识的重要组成部分，很多场景也都需要，尤其数学和物理相关领域，比如百科网站、问答网站、在线教育网站、内容发布平台、论文、书籍等。而现在信息展现的媒介也是多种多样，有书籍、电脑、平板、手机等。一些与公式展示相关的指标有：网络传输速率、屏幕尺寸、像素密度、字体的支持等。&lt;/p&gt;
&lt;p&gt;公式通常使用特定的标记语言来书写，比如 TeX。&lt;a href=&quot;https://en.wikipedia.org/wiki/TeX&quot;&gt;TeX&lt;/a&gt; 是数学家和计算机科学家 &lt;a href=&quot;https://en.wikipedia.org/wiki/Donald_Knuth&quot;&gt;Donald Knuth&lt;/a&gt; 设计的一个排版系统，广泛用于数学、计算机科学等领域的公式排版。&lt;/p&gt;
&lt;p&gt;公式的渲染要考虑下面问题：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;屏幕尺寸：从手机到宽屏桌面显示器，也包括书籍。&lt;/li&gt;
&lt;li&gt;屏幕像素密度：有时公式可能以栅格图片展示，要考虑到高像素密度屏幕，随着技术发展也会越来越高。&lt;/li&gt;
&lt;li&gt;性能：我们可能会一次性渲染很多公式，也包括非常复杂的公式，我们期望能尽快高质量将渲染好的公式呈现给用户。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;按照渲染的设备划分可有三种方式：客户端渲染、服务端渲染、客户端与服务端混合渲染。&lt;/p&gt;
&lt;h2 id=&quot;客户端渲染&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E5%AE%A2%E6%88%B7%E7%AB%AF%E6%B8%B2%E6%9F%93&quot; aria-label=&quot;客户端渲染 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;客户端渲染&lt;/h2&gt;
&lt;p&gt;顾名思义，用户端渲染，有电脑、手机、平板等。应用类型主要是：原生应用与 Web 应用。当然，因为两类应用都支持图片，所以可以使用图片形式来展现公式。&lt;/p&gt;
&lt;p&gt;无论是桌面端还是移动端原生应用，因为无相关经验，不太了解，客户端渲染公式方式。Github 上面可以搜到一些渲染公式的包，但是对于可靠性不太了解。&lt;/p&gt;
&lt;p&gt;Web 应用主要使用 &lt;a href=&quot;https://www.mathjax.org/&quot;&gt;MathJax&lt;/a&gt; 与 &lt;a href=&quot;https://katex.org/&quot;&gt;KaTeX&lt;/a&gt; 两个包。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;MathJax&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;高质量：精确到像素的排版&lt;/li&gt;
&lt;li&gt;支持 LaTeX，MathML 等语言&lt;/li&gt;
&lt;li&gt;可扩展&lt;/li&gt;
&lt;li&gt;可靠性：无论是从开发者背景，还是使用者背景，都是经过多年检验的&lt;/li&gt;
&lt;li&gt;可访问性&lt;/li&gt;
&lt;li&gt;渲染速度慢：尤其遇到复杂的公式时&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;KaTeX&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;渲染速度极快：大约 10 倍于 MathJax&lt;/li&gt;
&lt;li&gt;可靠性：可汗学院开发与使用&lt;/li&gt;
&lt;li&gt;渲染质量：满足大部分需求&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;可以查看 &lt;a href=&quot;http://www.intmath.com/cg5/katex-mathjax-comparison.php&quot;&gt;compare the output of KaTeX with MathJax&lt;/a&gt; 两者的渲染速度与渲染效果。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;另外，在实际的使用当中，结合使用两者效果更好，优先使用 KaTeX 来渲染，如果渲染失败就是用 MathJax 来渲染。&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id=&quot;服务端渲染&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E6%9C%8D%E5%8A%A1%E7%AB%AF%E6%B8%B2%E6%9F%93&quot; aria-label=&quot;服务端渲染 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;服务端渲染&lt;/h2&gt;
&lt;p&gt;即使结合使用了 KaTeX 和 MathJax，有些时候仍然不能满足要求，用户不希望等三秒以上才能渲染好公式。通常，公式的数量也是有限度的，按照一亿用户，每人贡献 100 个公式，那就是大约 100 亿条公式，可能还有一些重复的。没有必要用户每次查看时都重复渲染一遍，也没有必要在用户的设备上面各自渲染。&lt;/p&gt;
&lt;p&gt;缩减计算时间的第一条规则就是&lt;strong&gt;空间换时间&lt;/strong&gt;，也称之为&lt;strong&gt;缓存&lt;/strong&gt;。&lt;/p&gt;
&lt;p&gt;公式通常使用 TeX 标记语言来书写，输出结果通常有：HTML、MathML、图片，其中图片又分栅格图片（png、jpg、webp）和矢量图片（svg）。输出结果自然是计算的结果，然后可以使用分布式缓存（如CDN）来分发这些输出结果。&lt;/p&gt;
&lt;h3 id=&quot;接口设计&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E6%8E%A5%E5%8F%A3%E8%AE%BE%E8%AE%A1&quot; aria-label=&quot;接口设计 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;接口设计&lt;/h3&gt;
&lt;h4 id=&quot;创建公式对象&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E5%88%9B%E5%BB%BA%E5%85%AC%E5%BC%8F%E5%AF%B9%E8%B1%A1&quot; aria-label=&quot;创建公式对象 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;创建公式对象&lt;/h4&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;POST /equations&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;请求参数：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;input：可选，输入格式，比如 tex，mathml, asciimath，默认 tex。&lt;/li&gt;
&lt;li&gt;output：可选，输出格式，可选值：svg, png, mathml, html 等，可以多个组合，默认 svg。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;请求内容：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;公式标记语言。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;返回值：公式对象 ID。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;接受公式标记语言，比如 TeX、MathML、AsciiMath 等，分配一个唯一标识 ID，然后渲染公式为指定的一个活多个输出格式，公式输入与渲染结果都存储起来，可能还包括自动分发 CDN。&lt;/p&gt;
&lt;h4 id=&quot;获取公式对象&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E8%8E%B7%E5%8F%96%E5%85%AC%E5%BC%8F%E5%AF%B9%E8%B1%A1&quot; aria-label=&quot;获取公式对象 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;获取公式对象&lt;/h4&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;GET /equations/:equationId&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;请求参数：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;output：输出格式。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;返回值：公式渲染结果&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;渲染服务&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E6%B8%B2%E6%9F%93%E6%9C%8D%E5%8A%A1&quot; aria-label=&quot;渲染服务 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;渲染服务&lt;/h3&gt;
&lt;p&gt;可以使用 Node 来运行 MathJax 或者 KaTeX，并结合 Puppeteer 来转成图片，当然这种方式性能不高，不过基本需求可以满足。如果对于渲染服务性能要求很高，可以考虑自己写 TeX 渲染组件或者考虑其他语言的 TeX 渲染组件，这方面不太了解，只知道维基百科就是自己写的 TeX 渲染组件。&lt;/p&gt;
&lt;h3 id=&quot;性能&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E6%80%A7%E8%83%BD&quot; aria-label=&quot;性能 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;性能&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;使用 CDN，可以多域名来突破浏览器同时请求数最大上限。&lt;/li&gt;
&lt;li&gt;图片延迟加载：即公式图片将要进入可视区域再加载。&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;栅格图片与矢量图片&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E6%A0%85%E6%A0%BC%E5%9B%BE%E7%89%87%E4%B8%8E%E7%9F%A2%E9%87%8F%E5%9B%BE%E7%89%87&quot; aria-label=&quot;栅格图片与矢量图片 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;栅格图片与矢量图片&lt;/h3&gt;
&lt;p&gt;因为屏幕的像素密度有高有低，而栅格图片放大与缩小通常采用插值算法，这样会造成模糊，可以针对不同像素密度生成不同的图片来解决。如果使用矢量图片（比如 SVG）就可以无限缩放。&lt;/p&gt;
&lt;h2 id=&quot;混合渲染&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E6%B7%B7%E5%90%88%E6%B8%B2%E6%9F%93&quot; aria-label=&quot;混合渲染 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;混合渲染&lt;/h2&gt;
&lt;p&gt;即时我们采用了服务端渲染，并且做了一些性能优化，如果一个页面有很多公式，可能几十上百个，有简单的，也有复杂的。如果每个简单的公式都发送一个单独的请求，对于网络环境较差的客户端可能会加载慢，降低用户体验。&lt;/p&gt;
&lt;p&gt;可以将简单的公式与复杂的公式区分开：简单的公式使用客户端渲染，复杂的公式使用服务端渲染。简单与复杂划分的界限可能是由&lt;code class=&quot;language-text&quot;&gt;公式标记语言字节数传输时间&lt;/code&gt;加上&lt;code class=&quot;language-text&quot;&gt;公式客户端渲染时间&lt;/code&gt;与&lt;code class=&quot;language-text&quot;&gt;公式单独一个请求传输时间&lt;/code&gt;比较来决定。&lt;/p&gt;
&lt;h2 id=&quot;可搜索性&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E5%8F%AF%E6%90%9C%E7%B4%A2%E6%80%A7&quot; aria-label=&quot;可搜索性 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;可搜索性&lt;/h2&gt;
&lt;p&gt;常见的搜索功能都是输入一些关键词，根据关键词匹配，也有搜索引擎支持图片搜索。简单的文本输入很难满足公式，而如果让用户使用 TeX 之类标记语言输入公式又才繁琐，可以通过手写公式，然后以图片形式传给搜索服务，可能会经过手写识别、公式识别等一系列解析，然后解析成某种格式，比如 TeX，然后使用 TeX 标记语言来匹配，至于匹配算法也会与常见的字符串匹配不同吧。&lt;/p&gt;
&lt;p&gt;公式渲染不仅仅输出图片，也要输出其他标记语言，比如 MathML，然后便于搜索爬虫抓取，然后用于识别匹配。&lt;/p&gt;
&lt;p&gt;目前一些国内拍题搜答案的移动应用比较类似，上传题目图片搜结果，这方面特别依赖人工智能相关技术，&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Event Loop 及相关概念]]></title><description><![CDATA[本文主要参考了下面文章或视频： Philip Roberts: What the heck is the event loop anyway? | JSConf EU Tasks, microtasks, queues and schedules Microtask and…]]></description><link>https://xiaocaoge.com//event-loop/</link><guid isPermaLink="false">https://xiaocaoge.com//event-loop/</guid><category><![CDATA[Event Loop]]></category><category><![CDATA[Microtask]]></category><category><![CDATA[Macrotask]]></category><dc:creator><![CDATA[Alex]]></dc:creator><pubDate>Sat, 29 Dec 2018 16:00:00 GMT</pubDate><content:encoded>&lt;p&gt;本文主要参考了下面文章或视频：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://www.youtube.com/watch?v=8aGhZQkoFbQ&quot;&gt;Philip Roberts: What the heck is the event loop anyway? | JSConf EU&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://jakearchibald.com/2015/tasks-microtasks-queues-and-schedules/&quot;&gt;Tasks, microtasks, queues and schedules&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://blog.bitsrc.io/microtask-and-macrotask-a-hands-on-approach-5d77050e2168&quot;&gt;Microtask and Macrotask: A Hands-on Approach&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://nodejs.org/en/docs/guides/event-loop-timers-and-nexttick/&quot;&gt;The Node.js Event Loop, Timers, and process.nextTick()&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;我目前也写不出更好的关于这方面的文章，所以仅仅记录下阅读其他文章的笔记，如果要学习这方面可以直接阅读上面的文章。上面这些文章讲解比较详细，借助图形、动画等演示非常有助于理解。&lt;/p&gt;
&lt;p&gt;另外，规范（HTML5，ECMAScript）等有相关介绍，但是比较晦涩难读，也需要系统阅读，可以作为深入了解的地方。还有浏览器引擎的实现源码，也许可靠，但是更加读不懂了。&lt;/p&gt;
&lt;p&gt;JS 是单线程，使用 Event Loop 来实现多任务异步运行。主要涉及到的概念有：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Call Stack（调用栈）&lt;/li&gt;
&lt;li&gt;Heap（堆）&lt;/li&gt;
&lt;li&gt;Task Queue（任务队列）&lt;/li&gt;
&lt;li&gt;Macrotask（宏任务）&lt;/li&gt;
&lt;li&gt;Microtask（微任务）&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Call Stack&lt;/strong&gt;：JS 代码执行是函数的层层调用，最里层的函数执行完成之后，将控制权转交给调用者。这些函数的调用使用一个调用栈（Call Stack）来管理，全局的 JS 代码会被包裹在一个回调函数当中。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Heap&lt;/strong&gt;：JS 代码执行过程中创建的对象，都分配在 heap 里面，或者说创建的对象都分配在内存中，特定的内存区域称为 heap。内存管理与此相关。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Task Queue&lt;/strong&gt;：将要执行的任务使用一个队列（Queue）来管理，先进先出，被称为任务队列（Task Queue）。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Event Loop&lt;/strong&gt;：是一个持续执行的进程，首先检测当前调用栈（Call Stack）是否为空，当前调用栈为空后，会进入下一个循环（Loop），从任务队列（Task Queue）里面取出下一个执行的任务，如果任务队列为空，则 Event Loop 处于悬停状态。&lt;/p&gt;
&lt;p&gt;可以使用下面代码简单表示：&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;eventLoop&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;waitForTask&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  eventLoop&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;processNextTask&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;任务队列的任务又分为&lt;strong&gt;宏任务（Macrotask）&lt;/strong&gt;与&lt;strong&gt;微任务（Microtask）&lt;/strong&gt;，两者使用独立的队列来管理。Event Loop 每次从宏任务队列（又是简称为任务队列）获取一个宏任务，然后处理，待处理当前宏任务后，处理下一个宏任务之前，会把当前微任务队列里面的所有微任务都处理完，而且微任务又可以派发新的微任务。&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;eventLoop&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;waitForTask&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; taskQueue &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; eventLoop&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;selectTaskQueue&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;taskQueue&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;hasNextTask&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    taskQueue&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;processNextTask&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; microtaskQueue &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; eventLoop&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;microTaskQueue
  &lt;span class=&quot;token keyword&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;microtaskQueue&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;hasNextMicrotask&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    microtaskQueue&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;processNextMicrotask&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;处理完当前宏任务及所有微任务之后，会进行 UI 的响应，DOM 渲染等，所以如果宏任务或者微任务执行时间过长，将会造成 UI 不响应、卡顿。&lt;/p&gt;
&lt;p&gt;宏任务有：&lt;code class=&quot;language-text&quot;&gt;setTimeout&lt;/code&gt;、&lt;code class=&quot;language-text&quot;&gt;setInterval&lt;/code&gt;、&lt;code class=&quot;language-text&quot;&gt;setImmediate&lt;/code&gt;、异步&lt;code class=&quot;language-text&quot;&gt;Ajax&lt;/code&gt;响应、UI 事件等。&lt;/p&gt;
&lt;p&gt;微任务有：&lt;code class=&quot;language-text&quot;&gt;Promise&lt;/code&gt;、&lt;code class=&quot;language-text&quot;&gt;process.nextTick&lt;/code&gt;、&lt;code class=&quot;language-text&quot;&gt;MutationObserver&lt;/code&gt;等。&lt;/p&gt;
&lt;p&gt;另外，记住&lt;code class=&quot;language-text&quot;&gt;setTimeout&lt;/code&gt;与&lt;code class=&quot;language-text&quot;&gt;setInterval&lt;/code&gt;的第二时间参数&lt;code class=&quot;language-text&quot;&gt;time&lt;/code&gt;，是指经过&lt;code class=&quot;language-text&quot;&gt;time&lt;/code&gt;时间之后，把第一个参数接受的回调函数安排到任务队列里面，假如此时正有任务被处理，则会延后执行。&lt;/p&gt;
&lt;p&gt;Node.js 使用 libuv 实现的 Event Loop，将不用类别任务分成了几个阶段来执行，每一个阶段都有自己的任务队列。&lt;/p&gt;</content:encoded></item><item><title><![CDATA[一个极简 React 路由实现]]></title><description><![CDATA[在 Web 前端开发领域内，路由是指通过 URL 来控制视图（View）的显示，可以看做是 URL 到 View 的映射。而 URL 可以认为
是状态（State），因此路由可以认为是的映射，这也符合 React 的理念，即应用看做是
的映射。在浏览器当中 window…]]></description><link>https://xiaocaoge.com//tiny-react-router/</link><guid isPermaLink="false">https://xiaocaoge.com//tiny-react-router/</guid><category><![CDATA[路由]]></category><category><![CDATA[React]]></category><category><![CDATA[Router]]></category><dc:creator><![CDATA[Alex]]></dc:creator><pubDate>Sat, 15 Dec 2018 16:00:00 GMT</pubDate><content:encoded>&lt;p&gt;在 Web 前端开发领域内，路由是指通过 URL 来控制视图（View）的显示，可以看做是 URL 到 View 的映射。而 URL 可以认为
是状态（State），因此路由可以认为是&lt;code class=&quot;language-text&quot;&gt;(URL) State =&amp;gt; View&lt;/code&gt;的映射，这也符合 React 的理念，即应用看做是
&lt;code class=&quot;language-text&quot;&gt;Application State =&amp;gt; View&lt;/code&gt;的映射。在浏览器当中 &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/API/Location&quot;&gt;window.location&lt;/a&gt;
接口包含当前 URL 信息。（浏览器地址栏显示的 URL 是一个字符串，而&lt;code class=&quot;language-text&quot;&gt;window.location&lt;/code&gt;是一个对象，两者包含相同的信息，
只是编码不同）。&lt;/p&gt;
&lt;p&gt;因此，我们要实现一个 React 路由的路径是：&lt;code class=&quot;language-text&quot;&gt;URL =&amp;gt; React (URL) State =&amp;gt; View&lt;/code&gt;，即 URL 更新导致 React State
更新，然后 View 更新。具体步骤如下：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;URL 需要实现三个功能&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;获取当前 URL 的状态&lt;/li&gt;
&lt;li&gt;URL 的更新&lt;/li&gt;
&lt;li&gt;发送更新通知&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;URL 发送更新通知后，获取当前 URL 的状态，并通过 React 实例的&lt;code class=&quot;language-text&quot;&gt;setState&lt;/code&gt;方法来更新 React State;&lt;/li&gt;
&lt;li&gt;根据当前的 React State 以及路由映射关系配置来决定视图（View）的显示，React 当中视图就是不同的 React 组件。&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&quot;简单-react-路由实现&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E7%AE%80%E5%8D%95-react-%E8%B7%AF%E7%94%B1%E5%AE%9E%E7%8E%B0&quot; aria-label=&quot;简单 react 路由实现 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;简单 React 路由实现&lt;/h2&gt;
&lt;p&gt;下面来根据上面的步骤实现一个简单的 React 路由。&lt;/p&gt;
&lt;h3 id=&quot;url-功能模块&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#url-%E5%8A%9F%E8%83%BD%E6%A8%A1%E5%9D%97&quot; aria-label=&quot;url 功能模块 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;URL 功能模块&lt;/h3&gt;
&lt;p&gt;浏览器提供了&lt;code class=&quot;language-text&quot;&gt;window.history&lt;/code&gt;接口用来控制 URL，而&lt;code class=&quot;language-text&quot;&gt;react-router&lt;/code&gt;组件也是用一个称为&lt;code class=&quot;language-text&quot;&gt;history&lt;/code&gt;的模块来实现 URL 模块的功能，因此我们这里就以&lt;code class=&quot;language-text&quot;&gt;tinyHistory&lt;/code&gt;命名。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;tiny-react-router/js/tiny-history.js&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;/**
 * 获取当前 URL，此处只考虑 pathname，先不考虑 search，hash 等信息
 */&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;getLocation&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; pathname &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;  window&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;location&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;pathname&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;pathname &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; pathname &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;/&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; pathname &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;/**
 * 更新 URL，并通知更新
 */&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;path&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; callback&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  window&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;history&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;pushState&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; path&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;callback&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;callback&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

window&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;tinyHistory &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  getLocation&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  push&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;可以看到上面使用了回调方式来发送通知更新，现在先不管其他的观察者模式或发布订阅模式实现。&lt;/p&gt;
&lt;h3 id=&quot;react-router-组件&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#react-router-%E7%BB%84%E4%BB%B6&quot; aria-label=&quot;react router 组件 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;React Router 组件&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;tiny-react-router/js/tiny-react-router.js&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; React &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; window&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;React&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Router&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;React&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Component&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;constructor&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;props&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;super&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;props&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;state &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token comment&quot;&gt;// 获取初始 URL 信息&lt;/span&gt;
      location&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; props&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;history&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getLocation&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;token function-variable function&quot;&gt;changeLocation&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// 更新 React State&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setState&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; location&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;props&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;history&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getLocation&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;token function&quot;&gt;render&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// routerMap 为 URL =&gt; View 映射关系配置&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; routerMap &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;props&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; currentComponent &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; routerMap&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;location&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;pathname&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; React&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;createElement&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;currentComponent&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      history&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;props&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;history&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      location&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;state&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;location&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      changeLocation&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;changeLocation&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

window&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;tinyReactRouter &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; Router &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;至此，一个简单的 React Router 组件已经实现。&lt;/p&gt;
&lt;h2 id=&quot;应用示例&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E5%BA%94%E7%94%A8%E7%A4%BA%E4%BE%8B&quot; aria-label=&quot;应用示例 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;应用示例&lt;/h2&gt;
&lt;p&gt;现在，我们构建一个简单的应用示例。&lt;/p&gt;
&lt;h3 id=&quot;浏览器端&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E6%B5%8F%E8%A7%88%E5%99%A8%E7%AB%AF&quot; aria-label=&quot;浏览器端 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;浏览器端&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;projectRoot/index.html&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token doctype&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;!&lt;/span&gt;&lt;span class=&quot;token doctype-tag&quot;&gt;DOCTYPE&lt;/span&gt; &lt;span class=&quot;token name&quot;&gt;html&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;html&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;lang&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;en&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;head&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;meta&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;charset&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;UTF-8&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;meta&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;viewport&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;content&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;width=device-width, initial-scale=1.0&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;meta&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;http-equiv&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;X-UA-Compatible&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;content&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;ie=edge&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;title&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;A Tiny React Router&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;title&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;head&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;body&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;root&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;script&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;src&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;https://unpkg.com/@babel/standalone/babel.min.js&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token script&quot;&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;script&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;script&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;src&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;https://unpkg.com/react/umd/react.production.min.js&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token script&quot;&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;script&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;script&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;src&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;https://unpkg.com/react-dom/umd/react-dom.production.min.js&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token script&quot;&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;script&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;script&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;text/babel&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;src&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;js/tiny-history.js&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token script&quot;&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;script&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;script&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;text/babel&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;src&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;js/tiny-react-router.js&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token script&quot;&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;script&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;script&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;text/babel&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;src&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;js/app.js&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token script&quot;&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;script&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;body&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;html&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;projectRoot/js/app.js&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; React &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; window&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;React&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; ReactDOM &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; window&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;ReactDOM&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; tinyHistory &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; window&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;tinyHistory&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; Router &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; window&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;tinyReactRouter&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// 首页&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Home&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;React&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Component&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;constructor&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;props&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;super&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;props&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;linkRef &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; React&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;createRef&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;home page location&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; props&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;location&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;token function-variable function&quot;&gt;handleClick&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    e&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;preventDefault&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// 更新 URL&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;props&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;history&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;linkRef&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;current&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getAttribute&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;href&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;props&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;changeLocation&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;token function&quot;&gt;render&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
        &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;h1&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;Home page&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;h1&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
        &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;p&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
          &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;a ref&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;linkRef&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; href&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;/about&quot;&lt;/span&gt; onClick&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;handleClick&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;About&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;a&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
        &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;p&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;div&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// 关于页&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;About&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;React&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Component&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;constructor&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;props&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;super&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;props&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;about page location&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; props&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;location&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;token function-variable function&quot;&gt;handleClick&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// 更新 URL&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;props&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;history&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;/&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;props&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;changeLocation&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;token function&quot;&gt;render&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
        &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;h1&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;About page&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;h1&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
        &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;p&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
          &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;button onClick&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;handleClick&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;Return home&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;button&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
        &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;p&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;div&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// URL =&gt; View 映射关系配置&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; routerMap &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token string&quot;&gt;&apos;/&apos;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; Home&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token string&quot;&gt;&apos;/about&apos;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; About&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;App&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;React&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Component&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;render&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Router
        history&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;tinyHistory&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
        routerMap&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;routerMap&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

ReactDOM&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;render&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;App &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getElementById&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;root&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id=&quot;服务端&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E6%9C%8D%E5%8A%A1%E7%AB%AF&quot; aria-label=&quot;服务端 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;服务端&lt;/h3&gt;
&lt;p&gt;我们的路由使用 History Api，因此需要所有页面请求 URL 都返回首页。我们通过 express 实现服务端。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;projectRoot/server.js&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; path &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;path&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; express &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;express&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; app &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;express&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; port &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;3000&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

app&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;use&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;/js&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; express&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;static&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;js&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

app&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;*&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;req&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; res&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  res&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;sendFile&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;path&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;./index.html&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token parameter&quot;&gt;err&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;err&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token function&quot;&gt;next&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;err&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

app&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;listen&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;port&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;Listening on 127.0.0.1:&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;port&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;一个完成的实现及实例可以查看 &lt;a href=&quot;https://github.com/Alex1990/tiny-react-router/tree/tiny&quot;&gt;alex1990/tiny-react-router&lt;/a&gt;&lt;/strong&gt;。&lt;/p&gt;
&lt;h2 id=&quot;功能迭代&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E5%8A%9F%E8%83%BD%E8%BF%AD%E4%BB%A3&quot; aria-label=&quot;功能迭代 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;功能迭代&lt;/h2&gt;
&lt;p&gt;上面我们仅仅是路由的概念实现，不能应用于实际的代码，还有很多不足&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;代码实现不精简&lt;/li&gt;
&lt;li&gt;不易用&lt;/li&gt;
&lt;li&gt;search、hash、state 等不支持&lt;/li&gt;
&lt;li&gt;没有考虑浏览器前进与后退按钮&lt;/li&gt;
&lt;li&gt;浏览器兼容性&lt;/li&gt;
&lt;li&gt;React 版本兼容性&lt;/li&gt;
&lt;li&gt;嵌套路由&lt;/li&gt;
&lt;li&gt;服务端渲染&lt;/li&gt;
&lt;li&gt;测试&lt;/li&gt;
&lt;li&gt;等等&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;当然，我们这里也不打算一一实现上面的所有功能，那样就是另一个 react-router 了。我们在上面的核心实现上面进行以下迭代：&lt;/p&gt;
&lt;h3 id=&quot;url-发送更新通知改善&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#url-%E5%8F%91%E9%80%81%E6%9B%B4%E6%96%B0%E9%80%9A%E7%9F%A5%E6%94%B9%E5%96%84&quot; aria-label=&quot;url 发送更新通知改善 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;URL 发送更新通知改善&lt;/h3&gt;
&lt;p&gt;上面的实现当中，每次更新 URL 时，都需要手动传入一个&lt;code class=&quot;language-text&quot;&gt;this.props.changeLocation&lt;/code&gt;回调，代码冗余，不易用。我们可以通过观察者模式来实现发送更新通知功能（通过发布订阅模式，或者说自定义事件，也可以实现）。&lt;/p&gt;
&lt;p&gt;传统的设计模式是针对面向对象方式的，方法的调用都是作为对象的成员的来调用，
代码稍显冗余，我们可以直接把一个函数作为观察者，更新时直接调用，而非间接调用观察者的&lt;code class=&quot;language-text&quot;&gt;update&lt;/code&gt;之类的方法。代码实现可以查看 &lt;a href=&quot;https://github.com/Alex1990/tiny-react-router/compare/tiny...observer&quot;&gt;alex1990/tiny-react-router observer 分支&lt;/a&gt;。
或许，有些人第一次就会写出类似的实现，但脑子里面从来都没有想过观察者模式，实际上我就是这样的人。我见过类似的代码，然后就记住了，会很自然而然地实现。&lt;/p&gt;
&lt;h3 id=&quot;更多-url-更新来源&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E6%9B%B4%E5%A4%9A-url-%E6%9B%B4%E6%96%B0%E6%9D%A5%E6%BA%90&quot; aria-label=&quot;更多 url 更新来源 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;更多 URL 更新来源&lt;/h3&gt;
&lt;p&gt;我们的路由还不能正确地响应浏览器的前进与后退按钮，在点击浏览器前进或后退按钮时，
会在&lt;code class=&quot;language-text&quot;&gt;window&lt;/code&gt;上面触发 &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/Events/popstate&quot;&gt;popstate&lt;/a&gt; 事件，我们可以监听该事件，然后该事件触发时,
发送 URL 更新通知。代码实现可以查看 &lt;a href=&quot;https://github.com/Alex1990/tiny-react-router/compare/observer...popstate&quot;&gt;alex1990/tiny-react-router popstate 分支&lt;/a&gt;。&lt;/p&gt;
&lt;h3 id=&quot;路由组件组合（composition）&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E8%B7%AF%E7%94%B1%E7%BB%84%E4%BB%B6%E7%BB%84%E5%90%88%EF%BC%88composition%EF%BC%89&quot; aria-label=&quot;路由组件组合（composition） permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;路由组件组合（Composition）&lt;/h3&gt;
&lt;p&gt;现在我们的路由映射关系是通过一个 JS 对象来配置的，我们可以更符合 React 的写法，
使用声明式的&lt;code class=&quot;language-text&quot;&gt;&amp;lt;Route&amp;gt;&lt;/code&gt;组件来书写。另外，react-router 从 4.x 版本开始，
&lt;code class=&quot;language-text&quot;&gt;&amp;lt;Route&amp;gt;&lt;/code&gt;组件可以写在&lt;code class=&quot;language-text&quot;&gt;&amp;lt;Router&amp;gt;&lt;/code&gt;下面的任一组件当中，也即&quot;Route as a component&quot;，
从而像其他 React 组件一样组合。该功能是基于 &lt;a href=&quot;https://reactjs.org/docs/context.html&quot;&gt;React Context&lt;/a&gt; 来实现的，代码实现可以查看
&lt;a href=&quot;https://github.com/Alex1990/tiny-react-router/compare/popstate...composition&quot;&gt;alex1990/tiny-react-router composition 分支&lt;/a&gt;。&lt;/p&gt;
&lt;h3 id=&quot;参考&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E5%8F%82%E8%80%83&quot; aria-label=&quot;参考 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;参考&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/ReactTraining/react-router&quot;&gt;react-router&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/ReactTraining/history/blob/master/modules/createBrowserHistory.js&quot;&gt;history&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[Charles 入门]]></title><description><![CDATA[Charles 是一款 HTTP 代理和调试工具，在 Web 开发过程便于查找问题，尤其是移动端方面。现在已经是跨平台的了，支持 Windows、MacOS 和 Linux 三大系统平台。另外，这是一款收费软件，50美刀，以前是3…]]></description><link>https://xiaocaoge.com//getting-started-charles/</link><guid isPermaLink="false">https://xiaocaoge.com//getting-started-charles/</guid><category><![CDATA[Charles]]></category><category><![CDATA[调试]]></category><category><![CDATA[代理]]></category><category><![CDATA[移动端]]></category><dc:creator><![CDATA[Alex]]></dc:creator><pubDate>Sat, 03 Nov 2018 16:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Charles 是一款 HTTP 代理和调试工具，在 Web 开发过程便于查找问题，尤其是移动端方面。现在已经是跨平台的了，支持 Windows、MacOS 和 Linux 三大系统平台。另外，这是一款收费软件，50美刀，以前是30美刀，可以多台电脑使用同一个证书，这点儿比 Sketch 好多了。&lt;/p&gt;
&lt;h2 id=&quot;下载与安装&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E4%B8%8B%E8%BD%BD%E4%B8%8E%E5%AE%89%E8%A3%85&quot; aria-label=&quot;下载与安装 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;下载与安装&lt;/h2&gt;
&lt;p&gt;访问官方&lt;a href=&quot;https://www.charlesproxy.com/download/&quot;&gt;下载页面&lt;/a&gt;，根据自己的操作系统选择合适的下载包，然后下载安装即可。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;下面的所有内容均按照 MacOS 版本书写&lt;/strong&gt;&lt;/p&gt;
&lt;h3 id=&quot;权限&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E6%9D%83%E9%99%90&quot; aria-label=&quot;权限 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;权限&lt;/h3&gt;
&lt;p&gt;因为 Charles 是通过修改系统代理配置来实现请求拦截的，所以需要系统权限。&lt;/p&gt;
&lt;p&gt;安装完成之后，打开即可使用，使用浏览器加载一个页面，Charles 界面大致如下显示：&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/getting-started-charles/charles-interface.png&quot; alt=&quot;Charles interface&quot;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/getting-started-charles/charles-squence.png&quot; alt=&quot;Charles interface&quot;&gt;&lt;/p&gt;
&lt;p&gt;前一张图将会把所有请求结果显示为如图中左侧的树状结构，右侧显示 HTTP 请求的具体头部、内容等信息。也可以切换成第二张图那样，将请求显示为按照请求发起时间排序的列表，便于查看最新的请求，底部显示请求的头部、内容等信息。&lt;/p&gt;
&lt;h2 id=&quot;代理设置&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E4%BB%A3%E7%90%86%E8%AE%BE%E7%BD%AE&quot; aria-label=&quot;代理设置 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;代理设置&lt;/h2&gt;
&lt;p&gt;通过菜单【Proxy】-【Proxy Settings】打开代理设置面板。可以配置代理端口，或者使用动态分配端口，解决与其他应用端口冲突问题。Charles 默认使用 HTTP 代理模式，也可以使用 Socks 代理模式。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;大多数 Charles 的配置面板都可以通过问号按钮点开一个帮助，会介绍当前配置面板的使用，可以通过这个了解不懂的配置项。也可以通过&lt;a href=&quot;https://www.charlesproxy.com/documentation/configuration/&quot;&gt;官方文档&lt;/a&gt;来查看具体的配置使用规则，如果文档没写或还是不清楚可以搜索下。通过这些基本上可以解决常用的使用问题。&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id=&quot;https&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#https&quot; aria-label=&quot;https permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;HTTPS&lt;/h2&gt;
&lt;p&gt;默认情况下，Charles 虽然可以代理 HTTPS 请求，但是无法查看请求和响应的内容，因为是加密的。首先，需要安装一个根证书（Root Certificate），通过菜单【Help】-【SSL Proxying】-【Install Charles Root Certificate】安装证书，并且需要把根证书设置为信任（Always Trust）。然后，通过菜单【Proxy】-【SSL Proxying Settings】打开 SSL 代理设置面板，开启 SSL Proxying，在其 Location 列表里面添加 Host 为通配符&lt;code class=&quot;language-text&quot;&gt;*&lt;/code&gt;的配置，这样对所有域名都会开启 SSL 代理。确认，此后就可以查看 HTTPS 请求或响应内容了。Charles 对 HTTPS 代理解密流程可以参考&lt;a href=&quot;https://www.jianshu.com/p/405f9d76f8c4&quot;&gt;浅谈Charles抓取HTTPS原理&lt;/a&gt;。&lt;/p&gt;
&lt;h3 id=&quot;移动端&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E7%A7%BB%E5%8A%A8%E7%AB%AF&quot; aria-label=&quot;移动端 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;移动端&lt;/h3&gt;
&lt;p&gt;Charles 的原理是通过启动一个 HTTP/SOCKS 代理服务器，然后配置系统网络代理，将所有应用的请求都通过 Charles 代理服务器与远端服务器交互，Charles 代理服务器可以查看请求，加解密 HTTPS，或者对请求内容做些其他更改。可以看到，启动 Charles 之后，MacOS 的代理配置会自动更改。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/getting-started-charles/macos-network-proxies.png&quot; alt=&quot;MacOS Network Proxies&quot;&gt;&lt;/p&gt;
&lt;p&gt;移动端，或者说远程设备，可以通过配置系统代理将请求都转发到 Charles 代理服务器的方式实现请求代理与调试。首先，需要移动端与 Charles 电脑处于同一局域网内。然后配置移动端的 WiFi 代理为手动，iOS 点击无线局域网列表项的感叹号图标来配置网络，滑动到底部为 HTTP 代理配置，选择手动，并填写服务器和端口号，服务器为 Charles 电脑局域网分配的 IP，端口号默认 8888。Android 长按无线局域网列表项，出现网络配置页，所填内容与 iOS 相同。然后，移动端初次访问页面，Charles 会弹出是否允许设备连接的确认弹层，点击允许（Allow）即可。到此，Charles 就可以查看移动端的 HTTP(S) 请求了，但是 HTTPS 请求的内容仍然是加密的。&lt;/p&gt;
&lt;p&gt;要想查看移动端的 HTTPS 请求内容，需要在移动端安装根证书，配置好移动端的 WiFi 代理后，再通过浏览器内访问 chls.pro/ssl 即可下载并安装证书。另外，还需设置证书信任，iOS 通过【通用】-【关于本机】-【证书信任设置】（底部）页面设置。此时就可以查看 HTTPS 请求的内容了。&lt;/p&gt;
&lt;h3 id=&quot;访问控制设置&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E8%AE%BF%E9%97%AE%E6%8E%A7%E5%88%B6%E8%AE%BE%E7%BD%AE&quot; aria-label=&quot;访问控制设置 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;访问控制设置&lt;/h3&gt;
&lt;p&gt;上一节讲到远程设备连接 Charles 时，会弹出是否允许设备连接的确认弹层，假如同一局域网有多台设备要连接的话，可能会比较麻烦，这种情况测试流程比较常见。此时，可以通过菜单【Proxy】-【Access Control Settings】面板来配置，使用子网格式配置某个 IP 段，比如 10.1.1.0/24 即可允许所有的 10.1.1.* 地址访问。&lt;/p&gt;
&lt;h2 id=&quot;生产环境调试&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E7%94%9F%E4%BA%A7%E7%8E%AF%E5%A2%83%E8%B0%83%E8%AF%95&quot; aria-label=&quot;生产环境调试 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;生产环境调试&lt;/h2&gt;
&lt;p&gt;有时候需要验证一些更新（或前端静态资源，或后端接口）在生产环境上面的效果，在调试线上 bug 时候常用，此时需要把部分请求代理到本地或开发服务器，这时可以通过 Charles 的 Map Remote 来实现，如下图配置：&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/getting-started-charles/map-remote-settings.png&quot; alt=&quot;Map Remote Settings&quot;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;第一条规则将&lt;code class=&quot;language-text&quot;&gt;www.example.com/&lt;/code&gt;域名下的所有请求代理到&lt;code class=&quot;language-text&quot;&gt;127.0.0.1:8080&lt;/code&gt;，注意域名末尾的斜杠&lt;code class=&quot;language-text&quot;&gt;/&lt;/code&gt;不能少。&lt;/li&gt;
&lt;li&gt;第二条规则将&lt;code class=&quot;language-text&quot;&gt;www.example.com&lt;/code&gt;域名下的 js 文件代理到&lt;code class=&quot;language-text&quot;&gt;127.0.0.1:8080&lt;/code&gt;。&lt;/li&gt;
&lt;li&gt;第三条规则将&lt;code class=&quot;language-text&quot;&gt;www.example.com/api/&lt;/code&gt;路径下的请求代理到其 HTTPS 版本。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;位于下面的规则覆盖上面的规则。&lt;/p&gt;
&lt;p&gt;通过 Rewrite 功能（位于【Tools】-【Rewrite...】）可以实现请求或响应的修改，比如请求头的添加、修改、删除，还有请求内容的修改。除了简单的替换之外，还支持正则匹配与替换。&lt;/p&gt;
&lt;h2 id=&quot;问题&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E9%97%AE%E9%A2%98&quot; aria-label=&quot;问题 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;问题&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Charles 抓取不到 Chrome 的请求？&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;对于使用了 SwitchyOmega Chrome 插件的需要配置 SwitchyOmega 代理使用 Charles 代理地址，默认&lt;code class=&quot;language-text&quot;&gt;127.0.0.1:8080&lt;/code&gt;。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;HTTPS connect 方法请求总是失败？&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;通常出现在移动端应用（非浏览器）的请求当中，这是因为该应用使用了一种 &lt;a href=&quot;https://www.perimeterx.com/blog/certificate-pinning-on-mobile/&quot;&gt;Certificate pinning&lt;/a&gt; 的安全技术，可以暂时关掉 SSL Proxying 来绕过，网上说也可以通过一些复杂的步骤来绕过（暂时未尝试）。&lt;/p&gt;
&lt;h2 id=&quot;参考&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E5%8F%82%E8%80%83&quot; aria-label=&quot;参考 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;参考&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://www.charlesproxy.com/documentation/configuration/&quot;&gt;Charles documentation&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.jianshu.com/p/dbcf1ef87a63&quot;&gt;OSX/iOS 抓包工具 Charles 入门&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.jianshu.com/p/d107de695377&quot;&gt;Charles 抓不到 Chrome 的包&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[Gitlab CI 搭建指引]]></title><description><![CDATA[如今，不少中小公司都采用开源的 Gitlab 来管理公司的源码了，但是并没有充分利用 Gitlab 提供的功能。比如 Gitlab CI，不少公司没有使用或者不是所有的开发者都了解并使用了，而且也没有使用其他的 CI/CD…]]></description><link>https://xiaocaoge.com//gitlab-ci-setup/</link><guid isPermaLink="false">https://xiaocaoge.com//gitlab-ci-setup/</guid><category><![CDATA[Gitlab]]></category><category><![CDATA[CI]]></category><category><![CDATA[CD]]></category><category><![CDATA[构建]]></category><category><![CDATA[部署]]></category><category><![CDATA[自动化]]></category><dc:creator><![CDATA[Alex]]></dc:creator><pubDate>Sat, 20 Oct 2018 16:00:00 GMT</pubDate><content:encoded>&lt;p&gt;如今，不少中小公司都采用开源的 Gitlab 来管理公司的源码了，但是并没有充分利用 Gitlab 提供的功能。比如 Gitlab CI，不少公司没有使用或者不是所有的开发者都了解并使用了，而且也没有使用其他的 CI/CD 平台。其构建和部署流程比较原始，比如前端代码，开发者首先需要在本地构建打包，然后推送到对应的源码仓库，这导致了开发者经常需要等待构建完成，而且源码仓库的体积越来越大。又比如，前端代码的部署流程，或者采用手动&lt;code class=&quot;language-text&quot;&gt;git pull&lt;/code&gt;代码方式，或者使用&lt;code class=&quot;language-text&quot;&gt;cron&lt;/code&gt;来定时执行&lt;code class=&quot;language-text&quot;&gt;git pull&lt;/code&gt;，前者需要登录到服务器手动执行，后者不断&lt;code class=&quot;language-text&quot;&gt;git pull&lt;/code&gt;造成很多资源浪费。另外，这些手动的方式也不能很好地与其他流程继承，不利于流程自动化。而采用易搭建的 Gitlab CI 可以解决这些问题，另外也可以提供一些其他的优势。&lt;/p&gt;
&lt;h2 id=&quot;gitlab-ci-流程图&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#gitlab-ci-%E6%B5%81%E7%A8%8B%E5%9B%BE&quot; aria-label=&quot;gitlab ci 流程图 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Gitlab CI 流程图&lt;/h2&gt;
&lt;p&gt;&lt;img src=&quot;/images/gitlab-ci-setup/gitlab-ci-workflow.jpg&quot; alt=&quot;Gitlab CI 流程图&quot;&gt;&lt;/p&gt;
&lt;h2 id=&quot;优势&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E4%BC%98%E5%8A%BF&quot; aria-label=&quot;优势 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;优势&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;通过&lt;code class=&quot;language-text&quot;&gt;commit&lt;/code&gt;/&lt;code class=&quot;language-text&quot;&gt;tag&lt;/code&gt;等方式自动触发测试、构建或部署。&lt;/li&gt;
&lt;li&gt;远程服务器执行测试与构建，节省本地计算资源。&lt;/li&gt;
&lt;li&gt;Gitlab 仓库不再管理打包后文件，避免仓库过大问题。&lt;/li&gt;
&lt;li&gt;可以方便地进行代码规范检测、单元测试等，使代码更可靠。&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;风险控制&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E9%A3%8E%E9%99%A9%E6%8E%A7%E5%88%B6&quot; aria-label=&quot;风险控制 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;风险控制&lt;/h2&gt;
&lt;p&gt;主要是部署的权限控制方面，通过分支管理可以避免：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;假设&lt;code class=&quot;language-text&quot;&gt;release&lt;/code&gt;分支为生产版本，&lt;code class=&quot;language-text&quot;&gt;test&lt;/code&gt;为测试版本；&lt;/li&gt;
&lt;li&gt;只有&lt;code class=&quot;language-text&quot;&gt;git push&lt;/code&gt;到&lt;code class=&quot;language-text&quot;&gt;release&lt;/code&gt;分支的才会触发部署到线上，且这个操作只能&lt;strong&gt;指定人&lt;/strong&gt;来做，这个通过 Gitlab 的成员权限管理与&lt;code class=&quot;language-text&quot;&gt;Protected branches&lt;/code&gt;来完成；&lt;code class=&quot;language-text&quot;&gt;test&lt;/code&gt;分支每个人都可以进行&lt;code class=&quot;language-text&quot;&gt;git push&lt;/code&gt;；&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;搭建流程&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E6%90%AD%E5%BB%BA%E6%B5%81%E7%A8%8B&quot; aria-label=&quot;搭建流程 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;搭建流程&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;登录远程服务器。&lt;/li&gt;
&lt;li&gt;安装 &lt;a href=&quot;https://www.docker.com/&quot;&gt;Docker&lt;/a&gt;，根据服务器操作系统查看相应&lt;a href=&quot;https://docs.docker.com/engine/installation/&quot;&gt;安装文档&lt;/a&gt;，选择 Docker CE 版本，而非 Docker EE 版本。&lt;/li&gt;
&lt;li&gt;选择 &lt;a href=&quot;https://docs.docker.com/glossary/?term=image&quot;&gt;Image&lt;/a&gt;，前端构建工具通常都是基于 Nodejs，所以选择&lt;a href=&quot;https://store.docker.com/images/node&quot;&gt;node image&lt;/a&gt;，版本目前可选择&lt;code class=&quot;language-text&quot;&gt;6.10.3&lt;/code&gt;。&lt;/li&gt;
&lt;li&gt;安装 &lt;a href=&quot;https://gitlab.com/gitlab-org/gitlab-ci-multi-runner&quot;&gt;gitlab-ci-multi-runner&lt;/a&gt;，这个就是 Gitlab Runner。需要注意版本问题，通过公司 Gitlab 网站页面【左侧菜单】-【Help】可以查看到当前使用的 Gitlab 版本，而 Gitlab Runner &gt;= 9.0 需要 Gitlab CE/EE 9.0，所以只能安装以前的版本。通过 &lt;a href=&quot;https://gitlab.com/gitlab-org/gitlab-ci-multi-runner/tags&quot;&gt;gitlab-ci-multi-runner tags&lt;/a&gt; 查看到当前 9.0 之前最新的版本（文档写时为&lt;code class=&quot;language-text&quot;&gt;v1.11.4&lt;/code&gt;），可以参考&lt;a href=&quot;https://docs.gitlab.com/runner/install/&quot;&gt;相应安装文档&lt;/a&gt;安装，也可以&lt;a href=&quot;https://docs.gitlab.com/runner/install/bleeding-edge.html#download-any-other-tagged-release&quot;&gt;下载现成的包&lt;/a&gt;，注意版本问题。&lt;/li&gt;
&lt;li&gt;Gitlab Runner 配置请查看&lt;a href=&quot;https://docs.gitlab.com/runner/configuration/advanced-configuration.html&quot;&gt;文档&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;注册项目，运行命令&lt;code class=&quot;language-text&quot;&gt;gitlab-runner register&lt;/code&gt;，根据提示填写相关信息，这些信息位于 Gitlab 项目的【设置菜单】-【Runners】页面。&lt;/li&gt;
&lt;li&gt;运行&lt;code class=&quot;language-text&quot;&gt;gitlab-runner run&lt;/code&gt;启动，如果要开机启动可以查看 &lt;a href=&quot;https://docs.gitlab.com/runner/commands/README.html#service-related-commands&quot;&gt;service-related-commands&lt;/a&gt; 页面，或使用其他 service 管理工具，&lt;code class=&quot;language-text&quot;&gt;gitlab-runner&lt;/code&gt;命令文档请查看 &lt;a href=&quot;https://docs.gitlab.com/runner/commands/README.html&quot;&gt;GitLab Runer Commands&lt;/a&gt;。&lt;/li&gt;
&lt;li&gt;项目配置，通过 &lt;a href=&quot;https://docs.gitlab.com/ee/ci/yaml/README.html&quot;&gt;.gitlab-ci.yml&lt;/a&gt; 文件配置 CI 要执行的任务等，其中&lt;code class=&quot;language-text&quot;&gt;image&lt;/code&gt;推荐配置成&lt;code class=&quot;language-text&quot;&gt;image: node:6.10.3&lt;/code&gt;，如果你清楚这个配置项，可自行选择，另外可以通过 &lt;a href=&quot;https://gitlab-wenba.xueba100.com:2443/ci/lint&quot;&gt;CI Lint&lt;/a&gt; 页面校验&lt;code class=&quot;language-text&quot;&gt;.gitlab-ci.yml&lt;/code&gt;文件。&lt;/li&gt;
&lt;li&gt;有时需要建立构建环境（这里是 Docker 容器）与其他服务器的 SSH 认证，比如编译后代码&lt;code class=&quot;language-text&quot;&gt;git push&lt;/code&gt;到 Gitlab，又或者打包后文件复制到服务器上面，可以查看 &lt;a href=&quot;https://gitlab.com/help/ci/ssh_keys/README.md&quot;&gt;Using SSH keys&lt;/a&gt;，来进行配置。&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;部署&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E9%83%A8%E7%BD%B2&quot; aria-label=&quot;部署 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;部署&lt;/h2&gt;
&lt;p&gt;部署需求：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;将文件部署到目标机器，目标机器列表可方便配置&lt;/li&gt;
&lt;li&gt;回滚&lt;/li&gt;
&lt;li&gt;操作日志&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;一种简单但是简陋的方案是通过&lt;code class=&quot;language-text&quot;&gt;scp&lt;/code&gt;或&lt;code class=&quot;language-text&quot;&gt;rsync&lt;/code&gt;复制到服务器，这种方式不能直接回滚。另外，目标机器列表不可以方便配置与更新。&lt;/p&gt;
&lt;p&gt;目前已经有很多成熟的开源部署方案，比如 Puppet 或 Ansible（具体使用个人不了解）。可以通过 Gitlab CI 的 &lt;a href=&quot;https://docs.gitlab.com/ee/user/project/pipelines/job_artifacts.html&quot;&gt;artifacts&lt;/a&gt; 功能，将构建打包后的文件存储到 Gitlab，然后有了打包后文件的下载链接，则可以方便地与其他部署平台集成。而且代码的部署经常也是运维负责的，具体部署方案经常是运维选择的。另外，一些公司会自建部署平台，会集成流程审核，更规范一些。&lt;/p&gt;
&lt;h2 id=&quot;相关链接&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E7%9B%B8%E5%85%B3%E9%93%BE%E6%8E%A5&quot; aria-label=&quot;相关链接 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;相关链接&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://docs.docker.com/engine/installation/&quot;&gt;Docker Installation&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://store.docker.com/&quot;&gt;Docker Store&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://docs.gitlab.com/ee/ci/&quot;&gt;Gitlab CI Docs&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://docs.gitlab.com/runner/install/index.html&quot;&gt;Gitlab Runner Install&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://docs.gitlab.com/runner/configuration/advanced-configuration.html&quot;&gt;Gitlab Runner Configuration&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://docs.gitlab.com/ee/ci/yaml/README.html&quot;&gt;.gitlab-ci.yml&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://docs.gitlab.com/ee/ci/runners/README.html&quot;&gt;Gitlab Runner&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://gitlab.com/help/ci/ssh_keys/README.md&quot;&gt;Gitlab CI SSH Keys&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://docs.gitlab.com/runner/commands/README.html&quot;&gt;Gitlab Runner Commands&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://docs.gitlab.com/runner/executors/README.html&quot;&gt;Gitlab Runner Executors&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://stackoverflow.com/questions/21068773/checking-of-gitlab-version&quot;&gt;Checking of Gitlab Version&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://docs.gitlab.com/ee/ssh/README.html&quot;&gt;Gitlab SSH Docs&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://gitlab-wenba.xueba100.com:2443/ci/lint&quot;&gt;.gitlab-ci.yml 校验&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://docs.gitlab.com/ee/user/project/pipelines/job_artifacts.html&quot;&gt;Introduction to job artifacts&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[【树】数据结构的基本概念和操作]]></title><description><![CDATA[树的递归定义：一棵树是一些节点的集合。这个集合可以是空集，此时称为空树（empty tree）；若非空，则一棵树由根节点（root）以及 0 或多个非空的子树组成，每一颗子树的根都被一条从根节点出发的有向边所连接。 基本概念 根（Root）：树最顶部节点。 父节点（Parent…]]></description><link>https://xiaocaoge.com//tree-data-structure-concepts-and-operations/</link><guid isPermaLink="false">https://xiaocaoge.com//tree-data-structure-concepts-and-operations/</guid><category><![CDATA[树]]></category><category><![CDATA[树的遍历]]></category><dc:creator><![CDATA[Alex]]></dc:creator><pubDate>Sun, 13 May 2018 16:00:00 GMT</pubDate><content:encoded>&lt;p&gt;树的递归定义：一棵树是一些节点的集合。这个集合可以是空集，此时称为&lt;strong&gt;空树（empty tree）&lt;/strong&gt;；若非空，则一棵树由&lt;strong&gt;根节点（root）&lt;/strong&gt;以及 0 或多个非空的&lt;strong&gt;子树&lt;/strong&gt;组成，每一颗子树的根都被一条从根节点出发的有向边所连接。&lt;/p&gt;
&lt;h2 id=&quot;基本概念&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5&quot; aria-label=&quot;基本概念 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;基本概念&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;根（Root）&lt;/strong&gt;：树最顶部节点。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;父节点（Parent）&lt;/strong&gt;：树的根节点是其子树根节点的父节点。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;子节点（Child）&lt;/strong&gt;：反之，子树的根节点是树的根节点的子节点。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;叶子节点（Leaf）&lt;/strong&gt;：没有子节点的节点。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;兄弟/相邻节点（Siblings）&lt;/strong&gt;：一组具有相同父节点的节点。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;后代节点（Descendant）&lt;/strong&gt;：节点 N 的所有子节点，所有子节点的子节点，直到叶子节点，均为节点 N 的后代节点。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;祖先节点（Ancestor）&lt;/strong&gt;：节点 N 的父节点，父节点的父节点，直到树的根节点，均为节点 N 的祖先节点。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;度（Degree）&lt;/strong&gt;：一个节点的子树的数量。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;边（Edge）&lt;/strong&gt;：两个节点之间的连接。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;路径（Path）&lt;/strong&gt;：连接一个节点和其后代节点的一组节点和边。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;层级（Level）&lt;/strong&gt;：一个节点的层级指从该节点到根节点所有边的数量加上 1。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;节点的高（Height of node）&lt;/strong&gt;：一个节点的高是节点到叶子节点的最长路径所包含的边的数量。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;树的高（Height of tree）&lt;/strong&gt;：根节点的高。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;深度（Depth）&lt;/strong&gt;：一个节点的深度是从根节点到该节点的边的数量。&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;树的遍历&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E6%A0%91%E7%9A%84%E9%81%8D%E5%8E%86&quot; aria-label=&quot;树的遍历 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;树的遍历&lt;/h2&gt;
&lt;p&gt;树的遍历是指通过某种方式对树当中的每个节点进行一次处理（展示、更新等）。按照访问节点的顺序可分为：&lt;strong&gt;深度优先（depth-first）&lt;/strong&gt;和&lt;strong&gt;广度优先（breadth-first）&lt;/strong&gt;。其中，深度优先有三种常见的方式：先序（pre-order）、中序（in-order）和后序（post-order）。&lt;/p&gt;
&lt;p&gt;因为一个节点的子节点可能有不止一个，所以某些节点需要延后访问，通过某种方式存起来。通常可以使用&lt;strong&gt;栈&lt;/strong&gt;或&lt;strong&gt;队列&lt;/strong&gt;存起来，如果是通过递归的方式来遍历，则存储在&lt;strong&gt;调用栈（call stack）&lt;/strong&gt;当中。而调用栈的层数通常是有最大限制的，因此如果树的层级非常大，使用迭代的方式遍历更好。&lt;/p&gt;
&lt;p&gt;下面的示例代码由 C 语言书写。其中&lt;code class=&quot;language-text&quot;&gt;Node&lt;/code&gt;定义如下：&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;c&quot;&gt;&lt;pre class=&quot;language-c&quot;&gt;&lt;code class=&quot;language-c&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;typedef&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;struct&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;NodeStruct&lt;/span&gt; Node&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;struct&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;NodeStruct&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; value&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  Node&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; parent&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  Node&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; childNodes&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  Node&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; firstChild&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  Node&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; lastChild&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  Node&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; left&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  Node&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; right&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  Node&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; prevNode&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  Node&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; nextNode&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id=&quot;深度优先&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E6%B7%B1%E5%BA%A6%E4%BC%98%E5%85%88&quot; aria-label=&quot;深度优先 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;深度优先&lt;/h3&gt;
&lt;p&gt;深度优先，顾名思义，在选择下一个遍历节点时，优先选择深度大的。&lt;/p&gt;
&lt;h4 id=&quot;前序&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E5%89%8D%E5%BA%8F&quot; aria-label=&quot;前序 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;前序&lt;/h4&gt;
&lt;p&gt;前序遍历，指先处理当前节点，然后对子树执行遍历操作。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;递归&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;c&quot;&gt;&lt;pre class=&quot;language-c&quot;&gt;&lt;code class=&quot;language-c&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;traversal_dfs_preorder_recursive&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Node&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; node&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;iteratee&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Node&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;node &lt;span class=&quot;token operator&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;iteratee&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;node&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    Node&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; child &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; node&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;childNodes&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;child &lt;span class=&quot;token operator&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token function&quot;&gt;traversal_dfs_preorder_recursive&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;child&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; iteratee&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      child &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; child&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;nextNode&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;迭代&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;c&quot;&gt;&lt;pre class=&quot;language-c&quot;&gt;&lt;code class=&quot;language-c&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;traversal_dfs_preorder_iterative&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Node&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; node&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;iteratee&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Node&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  Stack&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; stack &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;stack_make&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;8&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  Node&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; current&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;node &lt;span class=&quot;token operator&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;stack_push&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;stack&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; node&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;stack_is_empty&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;stack&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    Node&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; current &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;stack_pop_and_top&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;stack&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;iteratee&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;current&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    Node&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; child &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; current&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;lastChild&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;child &lt;span class=&quot;token operator&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token function&quot;&gt;stack_push&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;stack&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; child&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      child &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; child&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;prevNode&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h4 id=&quot;中序&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E4%B8%AD%E5%BA%8F&quot; aria-label=&quot;中序 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;中序&lt;/h4&gt;
&lt;p&gt;中序遍历，在二叉树当中，指先遍历左子树，然后处理当前节点，再然后遍历右子树。不一定用于二叉树当中，对于普通的树，可以是先遍历左边部分的子树，然后处理当前节点，再然后遍历右边的子树，关键在于左右如何定义。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;递归&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;c&quot;&gt;&lt;pre class=&quot;language-c&quot;&gt;&lt;code class=&quot;language-c&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;traversal_dfs_inorder_recursive&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Node&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; node&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;iteratee&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Node&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;node &lt;span class=&quot;token operator&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;traversal_dfs_inorder_recursive&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;node&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;left&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; iteratee&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;iteratee&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;node&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;traversal_dfs_inorder_recursive&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;node&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;right&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; iteratee&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;迭代&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;c&quot;&gt;&lt;pre class=&quot;language-c&quot;&gt;&lt;code class=&quot;language-c&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;traversal_dfs_inorder_iterative&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Node&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; node&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;iteratee&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Node&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  Stack&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; stack &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;stack_make&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;8&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  bool detect_left&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;node &lt;span class=&quot;token operator&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;stack_push&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;stack&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; node&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    detect_left &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; true&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;stack_is_empty&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;stack&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    Node&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; current&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;detect_left&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      current &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;stack_pop_and_top&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;stack&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

      &lt;span class=&quot;token keyword&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;current &lt;span class=&quot;token operator&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token function&quot;&gt;stack_push&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;stack&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; current&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        current &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; current&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;left&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

    current &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;stack_pop_and_top&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;stack&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token function&quot;&gt;iteratee&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;current&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;current&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;right &lt;span class=&quot;token operator&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token function&quot;&gt;stack_push&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;stack&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; current&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;right&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      detect_left &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; true&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      detect_left &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; false&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h4 id=&quot;后序&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E5%90%8E%E5%BA%8F&quot; aria-label=&quot;后序 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;后序&lt;/h4&gt;
&lt;p&gt;后序遍历，指先对子树执行遍历操作，然后再处理当前节点。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;递归&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;c&quot;&gt;&lt;pre class=&quot;language-c&quot;&gt;&lt;code class=&quot;language-c&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;traversal_dfs_postorder_recursive&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Node&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; node&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;iteratee&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Node&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;node &lt;span class=&quot;token operator&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    Node&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; child &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; node&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;childNodes&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;child &lt;span class=&quot;token operator&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token function&quot;&gt;traversal_dfs_postorder_recursive&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;child&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; iteratee&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      child &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; child&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;nextNode&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;iteratee&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;node&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;迭代&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;c&quot;&gt;&lt;pre class=&quot;language-c&quot;&gt;&lt;code class=&quot;language-c&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;traversal_dfs_postorder_iterative&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Node&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; node&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;iteratee&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Node&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  Stack&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; stack1 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;stack_make&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;8&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  Stack&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; stack2 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;stack_make&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;8&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  Node&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; current&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;node &lt;span class=&quot;token operator&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;stack_push&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;stack1&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; node&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;stack_is_empty&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;stack1&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    Node&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; current &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;stack_pop_and_top&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;stack1&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;stack_push&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;stack2&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; current&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    Node&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; child &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; current&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;firstChild&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;child &lt;span class=&quot;token operator&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token function&quot;&gt;stack_push&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;stack1&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; child&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      child &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; child&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;nextNode&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;token function&quot;&gt;stack_free&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;stack1&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;while&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;stack_is_empty&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;stack2&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    Node&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; current &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;stack_pop_and_top&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;stack2&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;iteratee&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;current&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;token function&quot;&gt;stack_free&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;stack2&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id=&quot;广度优先&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E5%B9%BF%E5%BA%A6%E4%BC%98%E5%85%88&quot; aria-label=&quot;广度优先 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;广度优先&lt;/h3&gt;
&lt;p&gt;广度优先，按照层级，一层一层遍历。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;递归&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;c&quot;&gt;&lt;pre class=&quot;language-c&quot;&gt;&lt;code class=&quot;language-c&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;bfs_recur&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Queue&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; queue&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;iteratee&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Node&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;queue_is_empty&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;queue&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    Node&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; node &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;queue_dequeue&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;queue&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;iteratee&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;node&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    Node&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; child &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; node&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;firstChild&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;child &lt;span class=&quot;token operator&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token function&quot;&gt;queue_enqueue&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;queue&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; child&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      child &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; child&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;nextNode&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;bfs_recur&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;queue&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; iteratee&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;traversal_bfs_recursive&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Node&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; node&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;iteratee&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Node&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  Queue&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; queue &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;queue_make&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;node &lt;span class=&quot;token operator&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;queue_enqueue&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;queue&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; node&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;bfs_recur&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;queue&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; iteratee&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;迭代&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;c&quot;&gt;&lt;pre class=&quot;language-c&quot;&gt;&lt;code class=&quot;language-c&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;traversal_bfs_iterative&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Node&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; node&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;iteratee&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Node&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  Queue&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; queue &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;queue_make&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  Node&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; current&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;node &lt;span class=&quot;token operator&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;queue_enqueue&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;queue&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; node&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;queue_is_empty&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;queue&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    current &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;queue_dequeue&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;queue&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;iteratee&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;current&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    Node&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; child &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; current&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;childNodes&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;child &lt;span class=&quot;token operator&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token function&quot;&gt;queue_enqueue&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;queue&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; child&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      child &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; child&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;nextNode&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;token function&quot;&gt;queue_free&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;queue&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=&quot;基本操作&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C&quot; aria-label=&quot;基本操作 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;基本操作&lt;/h2&gt;
&lt;h3 id=&quot;查找节点的根节点&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E6%9F%A5%E6%89%BE%E8%8A%82%E7%82%B9%E7%9A%84%E6%A0%B9%E8%8A%82%E7%82%B9&quot; aria-label=&quot;查找节点的根节点 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;查找节点的根节点&lt;/h3&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;c&quot;&gt;&lt;pre class=&quot;language-c&quot;&gt;&lt;code class=&quot;language-c&quot;&gt;Node&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;get_root&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Node&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; node&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;node &lt;span class=&quot;token operator&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;NULL&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; node&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;parent &lt;span class=&quot;token operator&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    node &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; node&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;parent&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; node&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id=&quot;获取节点的高度&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E8%8E%B7%E5%8F%96%E8%8A%82%E7%82%B9%E7%9A%84%E9%AB%98%E5%BA%A6&quot; aria-label=&quot;获取节点的高度 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;获取节点的高度&lt;/h3&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;c&quot;&gt;&lt;pre class=&quot;language-c&quot;&gt;&lt;code class=&quot;language-c&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;get_node_height_recur&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Node&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; node&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; parent_height&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; height &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; parent_height&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;node &lt;span class=&quot;token operator&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    Node&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; child &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; node&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;childNodes&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;child &lt;span class=&quot;token operator&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; height &lt;span class=&quot;token operator&quot;&gt;+=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;child &lt;span class=&quot;token operator&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; next_height &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;get_node_height_recur&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;child&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; height&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;next_height &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; height&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; height &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; next_height&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      child &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; child&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;nextNode&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; height&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;get_node_height&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Node&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; node&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;get_node_height_recur&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;node&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id=&quot;获取节点的层级&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E8%8E%B7%E5%8F%96%E8%8A%82%E7%82%B9%E7%9A%84%E5%B1%82%E7%BA%A7&quot; aria-label=&quot;获取节点的层级 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;获取节点的层级&lt;/h3&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;c&quot;&gt;&lt;pre class=&quot;language-c&quot;&gt;&lt;code class=&quot;language-c&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;get_node_level&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Node&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; node&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; level &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;node &lt;span class=&quot;token operator&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    level&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    node &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; node&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;parent&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; level&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id=&quot;插入子节点&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E6%8F%92%E5%85%A5%E5%AD%90%E8%8A%82%E7%82%B9&quot; aria-label=&quot;插入子节点 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;插入子节点&lt;/h3&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;c&quot;&gt;&lt;pre class=&quot;language-c&quot;&gt;&lt;code class=&quot;language-c&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;append_child&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Node&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; parent&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; Node&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; child&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;parent &lt;span class=&quot;token operator&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;NULL&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; child &lt;span class=&quot;token operator&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    Node&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; lastChild &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; parent&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;lastChild&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    lastChild&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;nextNode &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; child&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    child&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;prevNode &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; lastChild&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    parent&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;lastChild &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; child&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    cihld&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;parent &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; parent&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id=&quot;指定节点前面插入节点&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E6%8C%87%E5%AE%9A%E8%8A%82%E7%82%B9%E5%89%8D%E9%9D%A2%E6%8F%92%E5%85%A5%E8%8A%82%E7%82%B9&quot; aria-label=&quot;指定节点前面插入节点 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;指定节点前面插入节点&lt;/h3&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;c&quot;&gt;&lt;pre class=&quot;language-c&quot;&gt;&lt;code class=&quot;language-c&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;insert_before&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Node&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; node1&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; Node&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; node2&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;node1 &lt;span class=&quot;token operator&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;NULL&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; node2 &lt;span class=&quot;token operator&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    Node&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; parent &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; node1&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;parent&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;parent &lt;span class=&quot;token operator&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      Node&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; prevNode &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; node1&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;prevNode&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

      node1&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;prevNode &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; node2&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      node2&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;parent &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; parent&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      node2&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;nextNode &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; node1&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      node2&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;prevNode &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; prevNode&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

      &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;prevNode &lt;span class=&quot;token operator&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        prevNode&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;nextNode &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; node2&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        parent&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;firstChild &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; node2&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        parent&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;childNodes &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; node2&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id=&quot;指定节点后面插入节点&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E6%8C%87%E5%AE%9A%E8%8A%82%E7%82%B9%E5%90%8E%E9%9D%A2%E6%8F%92%E5%85%A5%E8%8A%82%E7%82%B9&quot; aria-label=&quot;指定节点后面插入节点 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;指定节点后面插入节点&lt;/h3&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;c&quot;&gt;&lt;pre class=&quot;language-c&quot;&gt;&lt;code class=&quot;language-c&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;insert_after&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Node&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; node1&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; Node&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; node2&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;node1 &lt;span class=&quot;token operator&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;NULL&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; node2 &lt;span class=&quot;token operator&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    Node&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; parent &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; node1&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;parent&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;parent &lt;span class=&quot;token operator&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      Node&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; nextNode &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; node1&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;nextNode&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

      &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;nextNode &lt;span class=&quot;token operator&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        nextNode&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;prevNode &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; node2&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        parent&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;lastChild &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; node2&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

      node1&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;nextNode &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; node2&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      node2&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;prevNode &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; node1&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      node2&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;nextNode &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; nextNode&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      node2&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;parent &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; parent&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id=&quot;删除节点&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E5%88%A0%E9%99%A4%E8%8A%82%E7%82%B9&quot; aria-label=&quot;删除节点 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;删除节点&lt;/h3&gt;
&lt;p&gt;删除节点，就是删除一整个子树。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;（待补充）&lt;/strong&gt;&lt;/p&gt;
&lt;h3 id=&quot;克隆节点&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E5%85%8B%E9%9A%86%E8%8A%82%E7%82%B9&quot; aria-label=&quot;克隆节点 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;克隆节点&lt;/h3&gt;
&lt;p&gt;克隆节点，可分为只是克隆指定的一个节点，还是克隆指定节点及其所有后代节点，即深度克隆。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;（待补充）&lt;/strong&gt;&lt;/p&gt;
&lt;h3 id=&quot;查找两个节点的最近相同祖先节点&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E6%9F%A5%E6%89%BE%E4%B8%A4%E4%B8%AA%E8%8A%82%E7%82%B9%E7%9A%84%E6%9C%80%E8%BF%91%E7%9B%B8%E5%90%8C%E7%A5%96%E5%85%88%E8%8A%82%E7%82%B9&quot; aria-label=&quot;查找两个节点的最近相同祖先节点 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;查找两个节点的最近相同祖先节点&lt;/h3&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;c&quot;&gt;&lt;pre class=&quot;language-c&quot;&gt;&lt;code class=&quot;language-c&quot;&gt;Node&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;get_common_ancestor&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Node&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; node1&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; Node&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; node2&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;node1 &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;NULL&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;||&lt;/span&gt; node2 &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; level1 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;get_node_level&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;node1&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; level2 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;get_node_level&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;node2&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;true&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;level1 &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt; level2 &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; node2 &lt;span class=&quot;token operator&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      node2 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; node2&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;parent&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      level2&lt;span class=&quot;token operator&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;level2 &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt; level1 &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; node1 &lt;span class=&quot;token operator&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      node1 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; node1&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;parent&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      level1&lt;span class=&quot;token operator&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;node1 &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; node2&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    node1 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; node1&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;parent&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    node2 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; node2&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;parent&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    level1&lt;span class=&quot;token operator&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    level2&lt;span class=&quot;token operator&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; node1&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=&quot;参考&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E5%8F%82%E8%80%83&quot; aria-label=&quot;参考 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;参考&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://en.wikipedia.org/wiki/Tree_(data_structure)&quot;&gt;Tree_(data_structure)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://en.wikipedia.org/wiki/Tree_traversal&quot;&gt;Tree traversal&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;《数据结构与算法分析：C语言描述》&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[黑苹果（Hackintosh）实战]]></title><description><![CDATA[一个多月前把手中的 Mac Mini 2014 中配换成了台式机，然后装了双系统：MacOS 和 Windows 10。本来一直打算买一台 Mac Book Pro 的，后来随着“吃鸡”游戏——绝地求生，的火热，决定自己组装个台式机。另外，工作以及其他日常使用一直是 Mac…]]></description><link>https://xiaocaoge.com//hackintosh-in-action/</link><guid isPermaLink="false">https://xiaocaoge.com//hackintosh-in-action/</guid><category><![CDATA[黑苹果]]></category><category><![CDATA[Hackintosh]]></category><category><![CDATA[双系统]]></category><dc:creator><![CDATA[Alex]]></dc:creator><pubDate>Tue, 26 Dec 2017 16:00:00 GMT</pubDate><content:encoded>&lt;p&gt;一个多月前把手中的 Mac Mini 2014 中配换成了台式机，然后装了双系统：MacOS 和 Windows 10。本来一直打算买一台 Mac Book Pro 的，后来随着“吃鸡”游戏——绝地求生，的火热，决定自己组装个台式机。另外，工作以及其他日常使用一直是 Mac，所以得装个黑苹果系统。&lt;/p&gt;
&lt;p&gt;虽早就听过“黑苹果”系统，但是具体如何安装，以及有什么坑却一点儿不知。正好微博关注的一个人发了个网址：&lt;a href=&quot;https://www.tonymacx86.com&quot;&gt;tonymacx86.com&lt;/a&gt;，我看了下不错，有推荐配置列表，安装教程，也有很多问题的解决方案。于是，就趁着双十一的来临，依照这个网站上面的推荐配置列表以及自己的预算，在京东上面攒了一台机器。我的配置列表：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;CPU：i7 7700K&lt;/li&gt;
&lt;li&gt;显卡：技嘉 GTX 1070 G1 GAMING&lt;/li&gt;
&lt;li&gt;主板：技嘉 Z270-Phoenix Gaming&lt;/li&gt;
&lt;li&gt;内存：英睿达/镁光 DDR4 2400 8G x2&lt;/li&gt;
&lt;li&gt;SSD：三星 960 EVO 250G M.2 NVMe&lt;/li&gt;
&lt;li&gt;硬盘：希捷 1TB 7200转&lt;/li&gt;
&lt;li&gt;机箱：追风者 416P黑色&lt;/li&gt;
&lt;li&gt;电源：长城 600W&lt;/li&gt;
&lt;li&gt;无线网卡：TP-LINK TL-WDN7280 1900M&lt;/li&gt;
&lt;li&gt;CPU风扇：九州风神 玄冰400&lt;/li&gt;
&lt;li&gt;鼠标：雷蛇 蝰蛇2013原版有线&lt;/li&gt;
&lt;li&gt;耳麦：雷蛇北海巨妖标准版&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;有些配件在 tonymacx86 网站推荐列表找不到，我就自己看着选了。兼容性方面主要就是 CPU、主板、显卡这三项。&lt;/p&gt;
&lt;p&gt;另外，tonymacx86 网站是英文的，所以需要有一定的英文阅读能力。在实际安装过程中可能会遇到各种问题，这个时候有用的中文资源几乎是没有的，所以别指望百度能解决，需要 Google ，所以还需要翻墙。如果英文和翻墙两个条件达不到，安装的过程将会非常麻烦，最好找个有安装经验的人。&lt;/p&gt;
&lt;h2 id=&quot;推荐配置列表&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E6%8E%A8%E8%8D%90%E9%85%8D%E7%BD%AE%E5%88%97%E8%A1%A8&quot; aria-label=&quot;推荐配置列表 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;推荐配置列表&lt;/h2&gt;
&lt;p&gt;tonymacx86.com 网站每过一段时间都会发布一个推荐配置列表，比如 2017 年 12 月的&lt;a href=&quot;https://www.tonymacx86.com/buyersguide/december/2017/&quot;&gt;购买指引&lt;/a&gt;，自己看着列表选购即可。&lt;/p&gt;
&lt;h2 id=&quot;安装教程&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E5%AE%89%E8%A3%85%E6%95%99%E7%A8%8B&quot; aria-label=&quot;安装教程 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;安装教程&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;一篇基于 Intel CPU 的单系统教程：&lt;a href=&quot;https://www.tonymacx86.com/threads/unibeast-install-macos-high-sierra-on-any-supported-intel-based-pc.235474/&quot;&gt;UniBeast: Install macOS High Sierra on Any Supported Intel-based PC&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;双系统或多系统教程：&lt;a href=&quot;https://www.tonymacx86.com/threads/guide-multibooting-uefi.197352/&quot;&gt;Guide: MultiBooting UEFI&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;另外，最好准备个移动硬盘，通过 Mac 自带的 Time Machine 工具将自己之前的 Mac 系统备份，便在新系统中恢复。&lt;/p&gt;
&lt;h2 id=&quot;遇到的问题&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E9%81%87%E5%88%B0%E7%9A%84%E9%97%AE%E9%A2%98&quot; aria-label=&quot;遇到的问题 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;遇到的问题&lt;/h2&gt;
&lt;p&gt;安装的过程不太顺利，前后花了三个晚上才搞定。基本上解决问题的思路就是：首先引导系统 Clover 的启动配置设置成可以在显示屏上输出 Log 信息的模式，如果停到哪里了，就把屏幕上的信息使用谷歌搜索一下，基本上就可以找到相关链接，这些链接往往来自于 tonymacx86.com 上面的帖子。然后就是仔细读上面的帖子，相关的都读一下，想想该如何尝试，再实际操作一下，很多问题就可以解决了。&lt;/p&gt;
&lt;p&gt;我主要遇到的问题有：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;第一次从 U 盘安装盘启动时就卡在了苹果 Logo 的进度条哪里，看了这个解决的：&lt;a href=&quot;https://www.tonymacx86.com/threads/hackintosh-freezes-at-beginning-of-progress-bar-clover-sierra.208648/%E3%80%82&quot;&gt;https://www.tonymacx86.com/threads/hackintosh-freezes-at-beginning-of-progress-bar-clover-sierra.208648/。&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;然后还是卡在了进度条某个地方，当然我这个时候是 Log 模式，后来通过把独立显卡卸掉解决的。&lt;/li&gt;
&lt;li&gt;然后进入到系统安装好后，并且安装了独立显卡，但是系统未使用独立显卡，通过这个解决的：&lt;a href=&quot;https://www.tonymacx86.com/threads/solving-nvidia-driver-install-loading-problems.161256/%E3%80%82&quot;&gt;https://www.tonymacx86.com/threads/solving-nvidia-driver-install-loading-problems.161256/。&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;然后是耳机没有声音，通过 &lt;a href=&quot;https://www.tonymacx86.com/threads/applehda-hdmi-audio-guide.234735/&quot;&gt;https://www.tonymacx86.com/threads/applehda-hdmi-audio-guide.234735/&lt;/a&gt; 解决。&lt;/li&gt;
&lt;li&gt;然后是双系统时间不一致，百度或谷歌可搜索到很多解决方案，比如这篇：&lt;a href=&quot;https://jingyan.baidu.com/article/455a9950a73aa1a16627783a.html&quot;&gt;https://jingyan.baidu.com/article/455a9950a73aa1a16627783a.html&lt;/a&gt;。&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;体验&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E4%BD%93%E9%AA%8C&quot; aria-label=&quot;体验 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;体验&lt;/h2&gt;
&lt;p&gt;经过三个晚上的奋战之后，终于解决了各种问题之后，迎来了一台高性能高性价比的 Mac 系统。相比原先的 Mac mini 来说，性能有了质的提升：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;各种应用，无论大小，瞬间打开，比如 Photoshop 在 3 秒内启动完成。&lt;/li&gt;
&lt;li&gt;前端构建工具 Webpack 编译速度提升了几倍。&lt;/li&gt;
&lt;li&gt;终于 Mac 可以使用上了 GTX 1070 这样强大的显卡，如果是 iMac 之类的得花费不低于 2 万才能达到相同的配置。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;缺点就是耗电、噪音大，以及不像笔记本轻便。然而，笔记本并不总是体现出轻便的优势，实际生活中，家里使用的笔记本多长时间换一次位置呢，至少我只有搬家时候才会移动。像节假日回家或旅行时，可以带工作配的 Mac 笔记本就行。所以，我唯一遗憾的是为什么不早点儿配一台这样性能强大的台式机呢。&lt;/p&gt;
&lt;h2 id=&quot;后续&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E5%90%8E%E7%BB%AD&quot; aria-label=&quot;后续 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;后续&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;2019-02-04&lt;/strong&gt; 从 macOS High Sierra 10.13.3 升级到 10.13.6，从 Boot Install From Sierra 启动后（记得按空格键，选择 verbose 选项），卡在 kextd stall AppleACPICPU。下载 FakeSMC.text 放入 /Volumes/EFI/EFI/Clover/Kexts/Other 目录当中解决了&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[中缀、前缀和后缀表达式]]></title><description><![CDATA[概念 通常，我们从小学开始接触到最常见的数学表达式，都是形如或之类的，即运算符/操作符在两个操作数的中间，这被称为中缀表达式（infix expression）。中缀表达式在处理之类的表达式时，需要知道操作符/的优先级（precedence…]]></description><link>https://xiaocaoge.com//infix-prefix-and-postfix-expressions/</link><guid isPermaLink="false">https://xiaocaoge.com//infix-prefix-and-postfix-expressions/</guid><category><![CDATA[前缀]]></category><category><![CDATA[中缀]]></category><category><![CDATA[后缀]]></category><category><![CDATA[栈]]></category><dc:creator><![CDATA[Alex]]></dc:creator><pubDate>Tue, 06 Jun 2017 16:00:00 GMT</pubDate><content:encoded>&lt;h2 id=&quot;概念&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E6%A6%82%E5%BF%B5&quot; aria-label=&quot;概念 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;概念&lt;/h2&gt;
&lt;p&gt;通常，我们从小学开始接触到最常见的数学表达式，都是形如&lt;code class=&quot;language-text&quot;&gt;A * B&lt;/code&gt;或&lt;code class=&quot;language-text&quot;&gt;A + B * C&lt;/code&gt;之类的，即&lt;strong&gt;运算符/操作符&lt;/strong&gt;在两个&lt;strong&gt;操作数&lt;/strong&gt;的中间，这被称为&lt;strong&gt;中缀表达式（infix expression）&lt;/strong&gt;。中缀表达式在处理&lt;code class=&quot;language-text&quot;&gt;A + B * C&lt;/code&gt;之类的表达式时，需要知道操作符&lt;code class=&quot;language-text&quot;&gt;+&lt;/code&gt;/&lt;code class=&quot;language-text&quot;&gt;*&lt;/code&gt;的&lt;strong&gt;优先级（precedence）&lt;/strong&gt;，然后才能根据优先级高低确定计算顺序。另外，括号也会影响计算顺序，计算机程序在解析中缀表达式时，确定计算顺序比较复杂，可以通过加括号来使得不需要知道各操作符的优先级就可以确定计算顺序。比如，有表达式&lt;code class=&quot;language-text&quot;&gt;A + B * C + D&lt;/code&gt;，可以被写成&lt;code class=&quot;language-text&quot;&gt;((A + (B * C)) + D)&lt;/code&gt;。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;前缀表达式（prefix expression）&lt;/strong&gt;，又被称为&lt;strong&gt;波兰表达式（Polish expression）&lt;/strong&gt;，是因为它是波兰逻辑学家发明的一种记法。顾名思义，前缀表达式是把操作符放到操作数的前面，比如&lt;code class=&quot;language-text&quot;&gt;+ A B&lt;/code&gt;，意思是&lt;code class=&quot;language-text&quot;&gt;A&lt;/code&gt;与&lt;code class=&quot;language-text&quot;&gt;B&lt;/code&gt;进行&lt;code class=&quot;language-text&quot;&gt;+&lt;/code&gt;操作，也可以使用多个操作数，比如&lt;code class=&quot;language-text&quot;&gt;+ A B C&lt;/code&gt;，意思是&lt;code class=&quot;language-text&quot;&gt;A&lt;/code&gt;、&lt;code class=&quot;language-text&quot;&gt;B&lt;/code&gt;和&lt;code class=&quot;language-text&quot;&gt;C&lt;/code&gt;进行&lt;code class=&quot;language-text&quot;&gt;+&lt;/code&gt;操作。假如固定有且只有两个操作数，则括号省略时不影响计算顺序的判断，比如中缀表达式&lt;code class=&quot;language-text&quot;&gt;(A + B) * C&lt;/code&gt;可写成前缀表达式&lt;code class=&quot;language-text&quot;&gt;* (+ A B) C&lt;/code&gt;，因为操作符只能对两个操作数计算，所以括号是可以省略的，即&lt;code class=&quot;language-text&quot;&gt;* + A B C&lt;/code&gt;。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;后缀表达式（postfix expression）&lt;/strong&gt;，又被称为&lt;strong&gt;逆波兰表达式（Reverse Polish expression）&lt;/strong&gt;，是为了与波兰表达式的叫法对应。后缀表达式是把操作符放到操作数的后面，比如&lt;code class=&quot;language-text&quot;&gt;A B +&lt;/code&gt;。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;如无特殊说明，下面前缀与后缀表达式当中一个操作符的操作数均限制为两个&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id=&quot;计算表达式&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E8%AE%A1%E7%AE%97%E8%A1%A8%E8%BE%BE%E5%BC%8F&quot; aria-label=&quot;计算表达式 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;计算表达式&lt;/h2&gt;
&lt;p&gt;前缀与中缀表达式计算实现比后缀要复杂些。&lt;/p&gt;
&lt;p&gt;下面的计算只针对加减乘除四个操作。&lt;/p&gt;
&lt;h3 id=&quot;计算前缀表达式&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E8%AE%A1%E7%AE%97%E5%89%8D%E7%BC%80%E8%A1%A8%E8%BE%BE%E5%BC%8F&quot; aria-label=&quot;计算前缀表达式 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;计算前缀表达式&lt;/h3&gt;
&lt;p&gt;使用栈来计算：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;结构体&lt;code class=&quot;language-text&quot;&gt;EvalTuple&lt;/code&gt;，其有三个属性：&lt;code class=&quot;language-text&quot;&gt;char operator&lt;/code&gt;、&lt;code class=&quot;language-text&quot;&gt;double operand&lt;/code&gt;、&lt;code class=&quot;language-text&quot;&gt;int count&lt;/code&gt;，分别用来存储操作符、操作符作用的第一个操作数、操作数作用的操作数个数。&lt;/li&gt;
&lt;li&gt;栈&lt;code class=&quot;language-text&quot;&gt;EvalTupleStack&lt;/code&gt;用来存储结构体&lt;code class=&quot;language-text&quot;&gt;EvalTuple&lt;/code&gt;。&lt;/li&gt;
&lt;li&gt;合法的前缀表达式&lt;code class=&quot;language-text&quot;&gt;prefix_exp&lt;/code&gt;，其为字符串。&lt;/li&gt;
&lt;li&gt;从左至右遍历&lt;code class=&quot;language-text&quot;&gt;prefix_exp&lt;/code&gt;，&lt;code class=&quot;language-text&quot;&gt;ch&lt;/code&gt;为遍历的当前字符串。&lt;/li&gt;
&lt;li&gt;如果&lt;code class=&quot;language-text&quot;&gt;ch&lt;/code&gt;为空白字符串，则处理下一个字符。&lt;/li&gt;
&lt;li&gt;如果&lt;code class=&quot;language-text&quot;&gt;ch&lt;/code&gt;为操作符（加减乘除），则创建一个&lt;code class=&quot;language-text&quot;&gt;EvalTuple&lt;/code&gt;类型结构体&lt;code class=&quot;language-text&quot;&gt;tuple&lt;/code&gt;。然后，&lt;code class=&quot;language-text&quot;&gt;tuple.operator&lt;/code&gt;值为&lt;code class=&quot;language-text&quot;&gt;ch&lt;/code&gt;，&lt;code class=&quot;language-text&quot;&gt;tuple-&amp;gt;count&lt;/code&gt;值为&lt;code class=&quot;language-text&quot;&gt;0&lt;/code&gt;，并将&lt;code class=&quot;language-text&quot;&gt;tuple&lt;/code&gt;推入栈&lt;code class=&quot;language-text&quot;&gt;EvalTupleStack&lt;/code&gt;当中，然后处理下一个字符。&lt;/li&gt;
&lt;li&gt;如果&lt;code class=&quot;language-text&quot;&gt;ch&lt;/code&gt;为其他，则从字符串&lt;code class=&quot;language-text&quot;&gt;prefix_exp&lt;/code&gt;当前索引开始往后匹配最长的合法数值,设其为&lt;code class=&quot;language-text&quot;&gt;num&lt;/code&gt;，设&lt;code class=&quot;language-text&quot;&gt;nextIndex&lt;/code&gt;为该数值后面字符的索引。对&lt;code class=&quot;language-text&quot;&gt;EvalTupleStack&lt;/code&gt;进行遍历：&lt;/li&gt;
&lt;li&gt;如果为空，则中止遍历；&lt;/li&gt;
&lt;li&gt;设&lt;code class=&quot;language-text&quot;&gt;top_tuple&lt;/code&gt;为&lt;code class=&quot;language-text&quot;&gt;EvalTupleStack&lt;/code&gt;最顶部的元素，如果&lt;code class=&quot;language-text&quot;&gt;top_tuple.count&lt;/code&gt;值为&lt;code class=&quot;language-text&quot;&gt;0&lt;/code&gt;，则&lt;code class=&quot;language-text&quot;&gt;top_tuple.operand&lt;/code&gt;值为&lt;code class=&quot;language-text&quot;&gt;num&lt;/code&gt;，&lt;code class=&quot;language-text&quot;&gt;top.count&lt;/code&gt;值为&lt;code class=&quot;language-text&quot;&gt;1&lt;/code&gt;，并中止遍历；如果&lt;code class=&quot;language-text&quot;&gt;top_tuple.count&lt;/code&gt;值不为&lt;code class=&quot;language-text&quot;&gt;0&lt;/code&gt;，则&lt;code class=&quot;language-text&quot;&gt;num&lt;/code&gt;值为&lt;code class=&quot;language-text&quot;&gt;top_tuple.operand&lt;/code&gt;与&lt;code class=&quot;language-text&quot;&gt;num&lt;/code&gt;进行&lt;code class=&quot;language-text&quot;&gt;top_tuple.operator&lt;/code&gt;计算后的结果，然后将&lt;code class=&quot;language-text&quot;&gt;top_tuple&lt;/code&gt;出栈，如果&lt;code class=&quot;language-text&quot;&gt;EvalTupleStack&lt;/code&gt;为空，则前缀表达式的计算结果&lt;code class=&quot;language-text&quot;&gt;result&lt;/code&gt;为&lt;code class=&quot;language-text&quot;&gt;num&lt;/code&gt;。&lt;/li&gt;
&lt;li&gt;从&lt;code class=&quot;language-text&quot;&gt;nextIndex&lt;/code&gt;索引位置开始遍历&lt;code class=&quot;language-text&quot;&gt;prefix_exp&lt;/code&gt;。&lt;/li&gt;
&lt;li&gt;遍历完成&lt;code class=&quot;language-text&quot;&gt;prefix_exp&lt;/code&gt;后，返回&lt;code class=&quot;language-text&quot;&gt;result&lt;/code&gt;。&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;下面使用 C 代码过程：&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;c&quot;&gt;&lt;pre class=&quot;language-c&quot;&gt;&lt;code class=&quot;language-c&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;struct&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;EvalTuple&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;char&lt;/span&gt; operator&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;double&lt;/span&gt; operand&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; count&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;double&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;prefix_eval&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;str&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;cp &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; str&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;double&lt;/span&gt; result&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  Stack s &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;create_stack&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;cp &lt;span class=&quot;token operator&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;\0&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;cp &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos; &apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      cp&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;cp &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;+&apos;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;cp &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;-&apos;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;cp &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;*&apos;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;cp &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;/&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      EvalTupleType tuple&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

      tuple &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;malloc&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;sizeof&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;struct&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;EvalTuple&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

      &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;tuple &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token function&quot;&gt;perror&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Out of memory!&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token function&quot;&gt;exit&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

      tuple&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;operator &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;cp&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      tuple&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;count &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token function&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; tuple&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      cp&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;nextIndex&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      EvalTupleType top_tuple&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;double&lt;/span&gt; num &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;strtod&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;cp&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&lt;/span&gt;nextIndex&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

      &lt;span class=&quot;token keyword&quot;&gt;while&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;is_empty&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        top_tuple &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;top&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;top_tuple&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;count &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          &lt;span class=&quot;token keyword&quot;&gt;switch&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;top_tuple&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;operator&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;+&apos;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;
              num &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; top_tuple&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;operand &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; num&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
              &lt;span class=&quot;token keyword&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
            &lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;-&apos;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;
              num &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; top_tuple&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;operand &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; num&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
              &lt;span class=&quot;token keyword&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
            &lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;*&apos;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;
              num &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; top_tuple&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;operand &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; num&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
              &lt;span class=&quot;token keyword&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
            &lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;/&apos;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;
              num &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; top_tuple&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;operand &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt; num&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
              &lt;span class=&quot;token keyword&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
          &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
          &lt;span class=&quot;token function&quot;&gt;pop&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
          &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;is_empty&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            result &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; num&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
          &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          top_tuple&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;operand &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; num&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
          top_tuple&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;count &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
          &lt;span class=&quot;token keyword&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

      cp &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; nextIndex&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; result&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id=&quot;计算后缀表达式&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E8%AE%A1%E7%AE%97%E5%90%8E%E7%BC%80%E8%A1%A8%E8%BE%BE%E5%BC%8F&quot; aria-label=&quot;计算后缀表达式 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;计算后缀表达式&lt;/h3&gt;
&lt;p&gt;后缀表达式的计算很简单：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;栈&lt;code class=&quot;language-text&quot;&gt;S&lt;/code&gt;，其元素为数值类型。&lt;/li&gt;
&lt;li&gt;数值变量&lt;code class=&quot;language-text&quot;&gt;a&lt;/code&gt;、&lt;code class=&quot;language-text&quot;&gt;b&lt;/code&gt;，用于求值过程中。&lt;/li&gt;
&lt;li&gt;将要求值的后缀表达式为&lt;code class=&quot;language-text&quot;&gt;postfix_exp&lt;/code&gt;，类型为字符串。&lt;/li&gt;
&lt;li&gt;对&lt;code class=&quot;language-text&quot;&gt;postfix_exp&lt;/code&gt;从左至右进行遍历，当前遍历字符为&lt;code class=&quot;language-text&quot;&gt;ch&lt;/code&gt;:&lt;/li&gt;
&lt;li&gt;如果&lt;code class=&quot;language-text&quot;&gt;ch&lt;/code&gt;为空白字符串，则直接遍历下一个字符；&lt;/li&gt;
&lt;li&gt;如果&lt;code class=&quot;language-text&quot;&gt;ch&lt;/code&gt;为操作符（加减乘除），则对&lt;code class=&quot;language-text&quot;&gt;S&lt;/code&gt;进行出栈操作两次，取出的元素分别赋值给&lt;code class=&quot;language-text&quot;&gt;a&lt;/code&gt;和&lt;code class=&quot;language-text&quot;&gt;b&lt;/code&gt;。然后，根据&lt;code class=&quot;language-text&quot;&gt;ch&lt;/code&gt;对&lt;code class=&quot;language-text&quot;&gt;a&lt;/code&gt;和&lt;code class=&quot;language-text&quot;&gt;b&lt;/code&gt;进行运算，其计算结果推入栈&lt;code class=&quot;language-text&quot;&gt;S&lt;/code&gt;中，然后遍历下一个字符；&lt;/li&gt;
&lt;li&gt;如果为其他，则从当前索引位置向后匹配最长的合法数值&lt;code class=&quot;language-text&quot;&gt;num&lt;/code&gt;，数值后面一位字符索引为&lt;code class=&quot;language-text&quot;&gt;nextIndex&lt;/code&gt;，将&lt;code class=&quot;language-text&quot;&gt;num&lt;/code&gt;推入栈&lt;code class=&quot;language-text&quot;&gt;S&lt;/code&gt;中，然后从索引&lt;code class=&quot;language-text&quot;&gt;nextIndex&lt;/code&gt;位置开始遍历。&lt;/li&gt;
&lt;li&gt;遍历结束之后，返回&lt;code class=&quot;language-text&quot;&gt;S&lt;/code&gt;顶部的元素，即为最终计算结果。&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;下面是 C 代码过程：&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;c&quot;&gt;&lt;pre class=&quot;language-c&quot;&gt;&lt;code class=&quot;language-c&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;double&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;postfix_eval&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;postfix_exp&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;cp &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; postfix_exp&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;double&lt;/span&gt; a&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; b&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;double&lt;/span&gt; result&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  Stack s &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;create_stack&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;cp &lt;span class=&quot;token operator&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;\0&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;cp &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos; &apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      cp&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;cp &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;+&apos;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;cp &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;-&apos;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;cp &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;*&apos;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;cp &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;/&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      b &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;pop&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      a &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;pop&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;switch&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;cp&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;+&apos;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;
          &lt;span class=&quot;token function&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; a &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; b&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
          &lt;span class=&quot;token keyword&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;-&apos;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;
          &lt;span class=&quot;token function&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; a &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; b&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
          &lt;span class=&quot;token keyword&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;*&apos;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;
          &lt;span class=&quot;token function&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; a &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; b&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
          &lt;span class=&quot;token keyword&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;/&apos;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;
          &lt;span class=&quot;token function&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; a &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt; b&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
          &lt;span class=&quot;token keyword&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
      cp&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;endp&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token function&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;strtod&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;cp&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&lt;/span&gt;endp&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      cp &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; endp&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;pop&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=&quot;参考&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E5%8F%82%E8%80%83&quot; aria-label=&quot;参考 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;参考&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://en.wikipedia.org/wiki/Infix_notation&quot;&gt;Infix notation&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://en.wikipedia.org/wiki/Polish_notation&quot;&gt;Polish notation&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://en.wikipedia.org/wiki/Reverse_Polish_notation&quot;&gt;Reverse Polish notation&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://interactivepython.org/runestone/static/pythonds/BasicDS/InfixPrefixandPostfixExpressions.html&quot;&gt;Infix, Prefix and Postfix Expressions&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[浏览器请求性能数据]]></title><description><![CDATA[性能似乎是编程当中一个永恒的话题，前端也不例外，而前端考虑性能的重要目的是提升用户体验。前端性能可以粗略地分为两部分：传输性能与运行性能。传输性能主要就是加载资源的请求耗时，运行性能主要就是应用运行时 CPU 耗时、内存及 GPU…]]></description><link>https://xiaocaoge.com//browser-request-performance-collect/</link><guid isPermaLink="false">https://xiaocaoge.com//browser-request-performance-collect/</guid><category><![CDATA[性能]]></category><category><![CDATA[请求性能]]></category><dc:creator><![CDATA[Alex]]></dc:creator><pubDate>Sun, 30 Apr 2017 16:00:00 GMT</pubDate><content:encoded>&lt;p&gt;性能似乎是编程当中一个永恒的话题，前端也不例外，而前端考虑性能的重要目的是提升用户体验。前端性能可以粗略地分为两部分：传输性能与运行性能。&lt;strong&gt;传输性能&lt;/strong&gt;主要就是加载资源的请求耗时，&lt;strong&gt;运行性能&lt;/strong&gt;主要就是应用运行时 CPU 耗时、内存及 GPU 内存等。通常在开发阶段，经常使用浏览器开发者工具来查看请求性能，比如查看&lt;code class=&quot;language-text&quot;&gt;DOMContentLoaded&lt;/code&gt;和&lt;code class=&quot;language-text&quot;&gt;load&lt;/code&gt;事件时间，又比如查看某个 AJAX 请求的相关时间。而由于线上产品会被不同地区不同网络条件的用户访问，可能全中国，也可能全球，可能使用电信，也可能使用网通，可能使用光纤，也可能是 4G。因此，要准确地衡量不同用户的请求耗时，就不能简简单单地通过自己的浏览器查看页面。有一种方式是通过遍布全国机房的服务端程序来发起请求统计不同地区请求耗时，但机房网络条件通常都比用户的网络条件好，所以这种方法还是不准确。&lt;/p&gt;
&lt;h2 id=&quot;相关规范&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E7%9B%B8%E5%85%B3%E8%A7%84%E8%8C%83&quot; aria-label=&quot;相关规范 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;相关规范&lt;/h2&gt;
&lt;p&gt;因此，&lt;a href=&quot;https://www.w3.org/webperf/&quot;&gt;W3C Web 性能工作组（W3C Web Performance Working Group）&lt;/a&gt;制定了用户测量请求性能的规范：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://w3c.github.io/hr-time/&quot;&gt;High-Resolution Time&lt;/a&gt;：定义了精读可达 5 微秒级别的时间类型，用于更精确的时间衡量。&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://w3c.github.io/navigation-timing/&quot;&gt;Navigation Timing&lt;/a&gt;：定义了页面请求性能相关信息。&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://w3c.github.io/resource-timing/&quot;&gt;Resource Timing&lt;/a&gt;：定义了页面其他资源请求性能相关信息。&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://w3c.github.io/performance-timeline/&quot;&gt;Performance Timeline&lt;/a&gt;：定义了获取性能测量值相关的接口，包括获取页面请求性能与页面资源请求性能相关信息。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;相关规范及发布状态请查看&lt;a href=&quot;https://bit.ly/w3c-webperf-status&quot;&gt;表格&lt;/a&gt;。&lt;/p&gt;
&lt;h3 id=&quot;high-resolution-time&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#high-resolution-time&quot; aria-label=&quot;high resolution time permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;High-Resolution Time&lt;/h3&gt;
&lt;p&gt;该规范主要定义了 &lt;a href=&quot;https://w3c.github.io/hr-time/#dom-domhighrestimestamp&quot;&gt;DOMHighResTimeStamp&lt;/a&gt; 类型，用于存放精读最高可达 5 微秒的时间值，单位是毫秒。至于，为什么精读只能到 5 微妙，是因为&lt;a href=&quot;https://w3c.github.io/hr-time/#privacy-security&quot;&gt;隐私与安全考虑&lt;/a&gt;。&lt;/p&gt;
&lt;p&gt;另外该规范还定义了&lt;code class=&quot;language-text&quot;&gt;Performance&lt;/code&gt;接口以及该接口的实现&lt;code class=&quot;language-text&quot;&gt;performance&lt;/code&gt;全局属性，一些性能相关的接口都挂载这个属性上面。&lt;/p&gt;
&lt;h3 id=&quot;resource-timing&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#resource-timing&quot; aria-label=&quot;resource timing permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Resource Timing&lt;/h3&gt;
&lt;p&gt;该规范定义了&lt;code class=&quot;language-text&quot;&gt;PerformanceResourceTiming&lt;/code&gt;接口，这个接口用于页面内资源请求的时间测量。&lt;/p&gt;
&lt;h4 id=&quot;code-classlanguage-textperformanceresourcetimingcode-接口&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#code-classlanguage-textperformanceresourcetimingcode-%E6%8E%A5%E5%8F%A3&quot; aria-label=&quot;code classlanguage textperformanceresourcetimingcode 接口 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;code class=&quot;language-text&quot;&gt;PerformanceResourceTiming&lt;/code&gt; 接口&lt;/h4&gt;
&lt;p&gt;该接口扩展了 &lt;a href=&quot;https://www.w3.org/TR/performance-timeline-2/#performanceentry&quot;&gt;PerformanceEntry&lt;/a&gt; 接口属性。例如下图展示了 Chrome 58 所支持的属性：&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;/images/browser-request-performance-collect/PerformanceResourceTiming-attributes.png&quot;&gt;&lt;img src=&quot;/images/browser-request-performance-collect/PerformanceResourceTiming-attributes.png&quot; alt=&quot;PerformanceResourceTiming 接口属性&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;各属性的含义还是比较直观的，下图展示一个请求周期各阶段的划分：&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;/images/browser-request-performance-collect/resource-timing.png&quot;&gt;&lt;img src=&quot;/images/browser-request-performance-collect/resource-timing.png&quot; alt=&quot;Resource Timing 请求阶段划分&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;具体各属性的含义及属性值详见规范中的&lt;a href=&quot;https://w3c.github.io/resource-timing/#performanceresourcetiming&quot;&gt;解释&lt;/a&gt;。&lt;/p&gt;
&lt;h4 id=&quot;哪些资源包含在code-classlanguage-textperformanceresourcetimingcode接口里面&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E5%93%AA%E4%BA%9B%E8%B5%84%E6%BA%90%E5%8C%85%E5%90%AB%E5%9C%A8code-classlanguage-textperformanceresourcetimingcode%E6%8E%A5%E5%8F%A3%E9%87%8C%E9%9D%A2&quot; aria-label=&quot;哪些资源包含在code classlanguage textperformanceresourcetimingcode接口里面 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;哪些资源包含在&lt;code class=&quot;language-text&quot;&gt;PerformanceResourceTiming&lt;/code&gt;接口里面&lt;/h4&gt;
&lt;p&gt;此接口包括的请求类型有：XMLHttpRequest 对象，HTML 元素 iframe、image、script、object、embed、link[type=&quot;stylesheet&quot;]、svg。而 Server Sent Events 和 WebSocket 并不包括，可能是因为这些连接属于“长连接”，而 Fetch API 发起的请求，旧版本浏览器是不支持的。&lt;/p&gt;
&lt;p&gt;具体哪些资源加载应该包含进&lt;code class=&quot;language-text&quot;&gt;PerformanceResourceTiming&lt;/code&gt;，既要看&lt;a href=&quot;https://w3c.github.io/resource-timing/#resources-included&quot;&gt;规范规定&lt;/a&gt;，也要实际测量，各浏览器及各版本支持情况可能不同。&lt;/p&gt;
&lt;h3 id=&quot;navigation-timing&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#navigation-timing&quot; aria-label=&quot;navigation timing permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Navigation Timing&lt;/h3&gt;
&lt;p&gt;规范定义了&lt;code class=&quot;language-text&quot;&gt;PerformanceNavigationTiming&lt;/code&gt;接口，该接口扩展了&lt;code class=&quot;language-text&quot;&gt;PerformanceEntry&lt;/code&gt;和&lt;code class=&quot;language-text&quot;&gt;PerformanceResourceTiming&lt;/code&gt;接口，下图展示了 Chrome 58 所支持的属性：&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;/images/browser-request-performance-collect/PerformanceNavigationTiming-attributes.png&quot;&gt;&lt;img src=&quot;/images/browser-request-performance-collect/PerformanceNavigationTiming-attributes.png&quot; alt=&quot;PerformanceNavigationTiming 接口属性&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;各属性的含义还是比较直观的，下图展示一个请求周期各阶段的划分：&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;/images/browser-request-performance-collect/navigation-timing.png&quot;&gt;&lt;img src=&quot;/images/browser-request-performance-collect/navigation-timing.png&quot; alt=&quot;Navigation Timing 请求阶段划分&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&quot;performance-timeline&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#performance-timeline&quot; aria-label=&quot;performance timeline permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Performance Timeline&lt;/h3&gt;
&lt;p&gt;&lt;a href=&quot;https://w3c.github.io/performance-timeline/#extensions-to-the-performance-interface&quot;&gt;Performance Timeline&lt;/a&gt; 规范定义了获取页面请求性能即页面资源请求性能信息的接口。&lt;/p&gt;
&lt;p&gt;通常使用下面代码获取页面资源请求性能：&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;performance&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getEntriesByType&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;resource&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;而获取页面请求性能通过：&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;performance&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;timing&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// 或&lt;/span&gt;
performance&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getEntriesByType&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;navigation&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 需浏览器支持 performance.getEntriesByType() 方法，不如 performance.timing 兼容性好&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id=&quot;兼容性&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E5%85%BC%E5%AE%B9%E6%80%A7&quot; aria-label=&quot;兼容性 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;兼容性&lt;/h3&gt;
&lt;p&gt;&lt;a href=&quot;http://caniuse.com/#search=performance&quot;&gt;Can I use&lt;/a&gt; 网站包含上面规范的兼容性，但是不详细，没有说明规范的各版本支持情况，也不包括 Performance Timeline 兼容性信息。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://caniuse.com/#feat=high-resolution-time&quot;&gt;High Resolution Time API support&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://caniuse.com/#search=nav-timing&quot;&gt;Navigation Timing API support&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://caniuse.com/#feat=resource-timing&quot;&gt;Resource Timing support&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;收集请求性能信息&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E6%94%B6%E9%9B%86%E8%AF%B7%E6%B1%82%E6%80%A7%E8%83%BD%E4%BF%A1%E6%81%AF&quot; aria-label=&quot;收集请求性能信息 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;收集请求性能信息&lt;/h2&gt;
&lt;h3 id=&quot;获取请求性能信息&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E8%8E%B7%E5%8F%96%E8%AF%B7%E6%B1%82%E6%80%A7%E8%83%BD%E4%BF%A1%E6%81%AF&quot; aria-label=&quot;获取请求性能信息 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;获取请求性能信息&lt;/h3&gt;
&lt;p&gt;通过&lt;code class=&quot;language-text&quot;&gt;performance.timing&lt;/code&gt;即可获取当前页面请求性能信息。下面主要说下获取页面资源请求的性能信息注意事项：&lt;/p&gt;
&lt;h4 id=&quot;resource-timing-包含哪些资源&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#resource-timing-%E5%8C%85%E5%90%AB%E5%93%AA%E4%BA%9B%E8%B5%84%E6%BA%90&quot; aria-label=&quot;resource timing 包含哪些资源 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Resource Timing 包含哪些资源&lt;/h4&gt;
&lt;p&gt;理论上所有从服务器请求的资源都被包含进来，但是有一些特殊情况，如 WebSockets、ServerSentEvent、DNS 查询失败、TCP 失败、服务端 4xx/5xx 响应等是否包含。&lt;/p&gt;
&lt;h4 id=&quot;缓存的资源&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E7%BC%93%E5%AD%98%E7%9A%84%E8%B5%84%E6%BA%90&quot; aria-label=&quot;缓存的资源 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;缓存的资源&lt;/h4&gt;
&lt;p&gt;目前没有办法区分资源是否从缓存中加载的，只不过缓存的资源，一般&lt;code class=&quot;language-text&quot;&gt;duration&lt;/code&gt;值非常小（比如小于 10 毫秒）。&lt;/p&gt;
&lt;h4 id=&quot;resourcetiming-buffer&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#resourcetiming-buffer&quot; aria-label=&quot;resourcetiming buffer permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;ResourceTiming Buffer&lt;/h4&gt;
&lt;p&gt;每个页面文档都有一个 ResourceTiming buffer 用于限制可以包含多少&lt;code class=&quot;language-text&quot;&gt;PerformanceResourceTiming&lt;/code&gt;对象，默认情况下浏览器将此设为 150，这是规范当中建议设置的大小。而实际应用当中虽然页面初次加载请求数一般不会超过 150，但是后面的 AJAX 请求，或者说应用是单页面应用，则通常会超过 150。&lt;/p&gt;
&lt;p&gt;可以使用一个方法监听 &lt;a href=&quot;https://w3c.github.io/resource-timing/#dom-performance-onresourcetimingbufferfull&quot;&gt;resourcetimingbufferfull&lt;/a&gt; 事件，然后当该事件触发时，使用 &lt;a href=&quot;https://w3c.github.io/resource-timing/#dom-performance-clearresourcetimings&quot;&gt;clearResourceTimings()&lt;/a&gt; 来清空已有的数据。如下代码所示：&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;performance&apos;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt; window &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;typeof&lt;/span&gt; window&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;getEntriesByType &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&apos;function&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;bufferFullListener&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; resourceTimings &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; performance&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getEntriesByType&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;resource&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    performance&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;clearResourceTimings&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token comment&quot;&gt;// Send resourceTimings to server&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  performance&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;addEventListener&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;resourcetimingbufferfull&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; bufferFullListener&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;另外，不可以通过向方法&lt;code class=&quot;language-text&quot;&gt;setResourceTimingBufferSize(n)&lt;/code&gt;传入一个很大的值来避免 buffer 溢出，因为该方法会增加浏览器所需内存。&lt;/p&gt;
&lt;h3 id=&quot;跨域&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E8%B7%A8%E5%9F%9F&quot; aria-label=&quot;跨域 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;跨域&lt;/h3&gt;
&lt;p&gt;如果请求资源属于跨域请求，那么下面的时间值会被设为&lt;code class=&quot;language-text&quot;&gt;0&lt;/code&gt;：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;redirectStart&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;redirectEnd&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;domainLookupStart&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;domainLookupEnd&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;connectStart&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;connectEnd&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;requestStart&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;responseStart&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;secureConnectStart&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;除非所请求资源的包含合适的响应头部 &lt;a href=&quot;https://w3c.github.io/resource-timing/#timing-allow-origin&quot;&gt;Timing-Allow-Origin&lt;/a&gt; 允许当前文档中的脚本获取请求性能信息。通常服务静态资源（JS、CSS、字体文件等）的 CDN 请求响应应该带上&lt;code class=&quot;language-text&quot;&gt;Timing-Allow-Origin&lt;/code&gt;。&lt;/p&gt;
&lt;h3 id=&quot;接口设计&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E6%8E%A5%E5%8F%A3%E8%AE%BE%E8%AE%A1&quot; aria-label=&quot;接口设计 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;接口设计&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;POST&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;由于 Navigation Timing 和 Resource Timing 数据量比较大，所以需要使用 POST 方法，来将数据发送到服务端。实际应用当中，进行请求性能数据收集的服务在独立的域名，其他很多不同域名的应用会进行跨域请求。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;传输格式&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;还是因为发送数据量大的原因，可能需要对数据进行压缩，比如使用 gzip、&lt;a href=&quot;https://github.com/pieroxy/lz-string&quot;&gt;lz-string&lt;/a&gt; 或者&lt;a href=&quot;https://github.com/nicjansma/resourcetiming-compression.js&quot;&gt;自定义压缩算法&lt;/a&gt;。&lt;/p&gt;
&lt;h3 id=&quot;beacon&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#beacon&quot; aria-label=&quot;beacon permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Beacon&lt;/h3&gt;
&lt;p&gt;当用户刷新页面、跳转到另一个页面或者关闭当前页面时，如何将已经收集的性能数据发送到服务端是一个问题。一种常见的思路是通过绑定&lt;code class=&quot;language-text&quot;&gt;window&lt;/code&gt;的&lt;code class=&quot;language-text&quot;&gt;unload&lt;/code&gt;/&lt;code class=&quot;language-text&quot;&gt;beforeunload&lt;/code&gt;事件，当该事件触发时发送一个 Ajax 请求。然而，无论异步 Ajax，还是同步 Ajax 都有缺陷：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;异步 Ajax：使用 Chrome 58 测试发现，在页面刷新或者跳转到另一个页面时，未完成的 Ajax 会被取消。&lt;/li&gt;
&lt;li&gt;同步 Ajax：只有到请求完成之后才会刷新或跳转到另一个页面，从而降低页面跳转性能。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;因此，&lt;a href=&quot;https://www.w3.org/TR/beacon/&quot;&gt;Beacon&lt;/a&gt; 规范就被制定出来解决这个问题，该规范包含了一个&lt;code class=&quot;language-text&quot;&gt;sendBeacon()&lt;/code&gt;方法，该方法在&lt;code class=&quot;language-text&quot;&gt;navigator&lt;/code&gt;上面。一个使用示例：&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// Send navigation timing data to server&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;sendData&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; data &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Blob&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;JSON&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;stringify&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;performance&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;timing&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    type&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;application/json&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  navigator&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;sendBeacon&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;/timing&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; data&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
window&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;addEventListener&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;unload&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; sendData&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;兼容性&lt;/strong&gt;： 可以参考 &lt;a href=&quot;http://caniuse.com/#feat=beacon&quot;&gt;Beacon API in caniuse.com&lt;/a&gt;，除了 IE 与 Safari，其他浏览器都在很早就支持了。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;跨域&lt;/strong&gt;：可以查看规范的 &lt;a href=&quot;https://www.w3.org/TR/beacon/#privacy&quot;&gt;Privacy and Security&lt;/a&gt; 部分，但是我在实际测试跨域发送 JSON 数据时，Chrome 58 当中不会发送额外的&lt;code class=&quot;language-text&quot;&gt;OPTIONS&lt;/code&gt;请求，而 Firefox 53 发送额外的&lt;code class=&quot;language-text&quot;&gt;OPTIONS&lt;/code&gt;请求，请求相应头部需要包含下面的跨域相关头部。&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;Access-Control-Allow-Origin: *
Access-Control-Allow-Methods: POST
Access-Control-Allow-Headers: Content-Type
Access-Control-Allow-Credentials: true&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;另外，使用&lt;code class=&quot;language-text&quot;&gt;sendBeacon()&lt;/code&gt;无法获知请求响应状态，不过这对于数据收集类请求不算问题。&lt;/p&gt;
&lt;h2 id=&quot;相关链接&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E7%9B%B8%E5%85%B3%E9%93%BE%E6%8E%A5&quot; aria-label=&quot;相关链接 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;相关链接&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://w3c.github.io/perf-timing-primer/&quot;&gt;A Primer for Web Performance Timing APIs&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.stevesouders.com/blog/2014/08/21/resource-timing-practical-tips/&quot;&gt;Resource Timing practical tips&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://developers.google.com/web/tools/chrome-devtools/profile/network-performance/understanding-resource-timing?hl=en&quot;&gt;Understanding resource timing&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://nicj.net/navigationtiming-in-practice/&quot;&gt;Navigation timing in practice&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://nicj.net/resourcetiming-in-practice/&quot;&gt;Resource timing in practice&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;更新日志&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E6%9B%B4%E6%96%B0%E6%97%A5%E5%BF%97&quot; aria-label=&quot;更新日志 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;更新日志&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;2017-05-11 修正错误：Firefox 无 bug，跨域请求默认&lt;code class=&quot;language-text&quot;&gt;credentials: true&lt;/code&gt;，且 Chrome 不符合规范。&lt;/li&gt;
&lt;li&gt;2017-05-07 添加 Beacon 部分&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[更小体积的 Lodash]]></title><description><![CDATA[前言 大约一两年前，浏览器端使用 Lodash 还是 Underscore，我还是认为 Underscore 有些自己的优势的：前端大都熟悉、体积小。但是随着自己做的前端应用越来越复杂，随便一个 UI 库，甚至一个复杂的组件，如表格、曲线图，其大小都比 Lodash…]]></description><link>https://xiaocaoge.com//lodash-shrinking/</link><guid isPermaLink="false">https://xiaocaoge.com//lodash-shrinking/</guid><category><![CDATA[Lodash]]></category><category><![CDATA[Babel]]></category><category><![CDATA[Webpack]]></category><dc:creator><![CDATA[Alex]]></dc:creator><pubDate>Fri, 10 Mar 2017 16:00:00 GMT</pubDate><content:encoded>&lt;h2 id=&quot;前言&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E5%89%8D%E8%A8%80&quot; aria-label=&quot;前言 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;前言&lt;/h2&gt;
&lt;p&gt;大约一两年前，浏览器端使用 Lodash 还是 Underscore，我还是认为 Underscore 有些自己的优势的：前端大都熟悉、体积小。但是随着自己做的前端应用越来越复杂，随便一个 UI 库，甚至一个复杂的组件，如表格、曲线图，其大小都比 Lodash 还要大，所有 JS 压缩加 gzip 之后大小几百 KB，甚至超过 1M。而且随着 Lodash 这的快速发展，越来越丰富而实用的方法，用着是越来顺手了。&lt;/p&gt;
&lt;p&gt;但是，真正常用的 Lodash 方法实际上只占所有方法的一小部分，所以还是会想着怎么才能只打包自己用到的方法。&lt;/p&gt;
&lt;p&gt;当然，也有多种方法可以做到的，比如使用&lt;a href=&quot;https://lodash.com/custom-builds&quot;&gt;自定义构建&lt;/a&gt;、直接引入具体方法（&lt;code class=&quot;language-text&quot;&gt;import map from &amp;#39;lodash/map&amp;#39;&lt;/code&gt;）。但是这些方法都有各自的缺点：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;自定义构建&lt;/strong&gt;：假如用到一开始自定义构建没有的方法，则需要修改自定义配置。且做到方法级别的按需打包依赖，一来繁琐，二来团队成员还得查看到底配置了哪些方法，不能随心所欲地用。另外，&lt;a href=&quot;https://github.com/lodash/lodash/wiki/Roadmap&quot;&gt;Lodash v5.0.0&lt;/a&gt; 将要放弃自定义构建工具 lodash-cli 的维护。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;直接引入具体方法&lt;/strong&gt;：虽然这个可以避免上面的方法的缺点，但是使用起来变得繁琐了，不能直接使用&lt;code class=&quot;language-text&quot;&gt;_&lt;/code&gt;。&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;正篇&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E6%AD%A3%E7%AF%87&quot; aria-label=&quot;正篇 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;正篇&lt;/h2&gt;
&lt;p&gt;说了这么多，进入正篇环节。&lt;/p&gt;
&lt;p&gt;就是通过 &lt;a href=&quot;https://www.npmjs.com/package/babel-plugin-lodash&quot;&gt;babel-plugin-lodash&lt;/a&gt; 和 &lt;a href=&quot;https://www.npmjs.com/package/lodash-webpack-plugin&quot;&gt;lodash-webpack-plugin&lt;/a&gt; 两个插件来实现。看插件源码记录，原来早就有了，只是我现在才知道。&lt;/p&gt;
&lt;h3 id=&quot;babel-plugin-lodash&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#babel-plugin-lodash&quot; aria-label=&quot;babel plugin lodash permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;babel-plugin-lodash&lt;/h3&gt;
&lt;p&gt;用于实现方法级别的按需打包，官方称为 cherry-picked builds，就是下面的效果：&lt;/p&gt;
&lt;p&gt;源代码：&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;import _ from &amp;#39;lodash&amp;#39;;
import { add } from &amp;#39;lodash/fp&amp;#39;;

const addOne = add(1);
_.map([1, 2, 3], addOne);&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;打包后：&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; _add &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;lodash/fp/add&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; _map &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;lodash/map&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; addOne &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;_add&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;_map&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; addOne&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;关于配置可以参考 babel-plugin-lodash 的文档，只是需要注意该插件的限制：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;只支持 ES2015 imports 也就是 ES6 modules 方式引入 Lodash&lt;/li&gt;
&lt;li&gt;Babel &amp;#x3C; 6，Node.js &amp;#x3C; 4 都不支持&lt;/li&gt;
&lt;li&gt;链式写法也不支持&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;lodash-webpack-plugin&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#lodash-webpack-plugin&quot; aria-label=&quot;lodash webpack plugin permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;lodash-webpack-plugin&lt;/h3&gt;
&lt;p&gt;这个插件的功能就是把 Feature sets 使用 &lt;a href=&quot;https://lodash.com/docs#noop&quot;&gt;noop&lt;/a&gt;、&lt;a href=&quot;https://lodash.com/docs#identity&quot;&gt;identity&lt;/a&gt; 或者其他形式替代了。&lt;/p&gt;
&lt;p&gt;具体使用以及 Feature Sets 可查看插件官方文档。&lt;/p&gt;
&lt;h2 id=&quot;示例配置&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E7%A4%BA%E4%BE%8B%E9%85%8D%E7%BD%AE&quot; aria-label=&quot;示例配置 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;示例配置&lt;/h2&gt;
&lt;p&gt;下面是一个简单的结合两个插件的配置示例，来对比一下效果。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;entry.js&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; _ &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;lodash&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; users &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    name&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      first&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;Alex&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      last&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;Chao&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    age&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;27&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    address&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      province&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;Beijing&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      city&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;Beijing&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      county&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;Haidian&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

_&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;sortBy&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;users&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;age&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; beijingUsers &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; _&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;filter&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;users&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; address&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; province &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; province &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;Beijing&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;beijingUsers&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; fullNames &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; _&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;users&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; name&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; first&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; last &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;first&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;last&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;fullNames&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;_&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;users&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;0.name.first&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;webpack.config.babel.js&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; webpack &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;webpack&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; LodashModuleReplacementPlugin &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;lodash-webpack-plugin&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;NODE_ENV&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; process&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;env&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;NODE_ENV&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; plugins &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;NODE_ENV&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;production&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  plugins&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;LodashModuleReplacementPlugin&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; config &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  module&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    loaders&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        test&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token regex&quot;&gt;/\.js$/&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        loader&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;babel-loader&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        exclude&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token regex&quot;&gt;/node_modules/&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        options&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          plugins&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;NODE_ENV&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;production&apos;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;lodash&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
          presets&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;es2015&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  plugins&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

module&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;exports &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; config&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;npm scripts&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;json&quot;&gt;&lt;pre class=&quot;language-json&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// ...&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;scripts&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;build-all&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;rimraf bundle* &amp;amp;&amp;amp; npm run build &amp;amp;&amp;amp; npm run build-shrinking&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;build&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;npm run bundle &amp;amp;&amp;amp; npm run uglify &amp;amp;&amp;amp; npm run uglify-gzip&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;build-shrinking&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;npm run bundle-shrinking &amp;amp;&amp;amp; npm run uglify-shrinking &amp;amp;&amp;amp; npm run uglify-gzip-shrinking&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;bundle&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;webpack entry.js bundle.js&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;bundle-shrinking&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;NODE_ENV=production webpack entry.js bundle-shrinking.js&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;uglify&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;uglifyjs bundle.js --compress=warnings=false --mangle --output bundle.min.js&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;uglify-shrinking&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;uglifyjs bundle-shrinking.js --compress=warnings=false --mangle --output bundle-shrinking.min.js&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;uglify-gzip&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;gzip --keep bundle.min.js&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;uglify-gzip-shrinking&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;gzip --keep bundle-shrinking.min.js&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;clean&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;rimraf bundle*&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;test&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;echo \&quot;Error: no test specified\&quot; &amp;amp;&amp;amp; exit 1&quot;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// ...&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;运行&lt;code class=&quot;language-text&quot;&gt;npm run build-all&lt;/code&gt;之后，查看 bundle 文件大小&lt;code class=&quot;language-text&quot;&gt;ll -h bundle*&lt;/code&gt;如下：&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;txt&quot;&gt;&lt;pre class=&quot;language-txt&quot;&gt;&lt;code class=&quot;language-txt&quot;&gt;-rw-r--r--  1 chaoalex  staff    19K Mar 11 23:13 bundle-shrinking.js
-rw-r--r--  1 chaoalex  staff   3.6K Mar 11 23:13 bundle-shrinking.min.js
-rw-r--r--  1 chaoalex  staff   1.3K Mar 11 23:13 bundle-shrinking.min.js.gz
-rw-r--r--  1 chaoalex  staff   532K Mar 11 23:13 bundle.js
-rw-r--r--  1 chaoalex  staff    71K Mar 11 23:13 bundle.min.js
-rw-r--r--  1 chaoalex  staff    25K Mar 11 23:13 bundle.min.js.gz&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;从上面可以看到使用插件，并且经过 UglifyJS + gzip 之后，大小差了 20 多 KB，当然随着使用的 Lodash 方法增多，这个值会变小，不过实际项目中很少能用到超过一半的方法，所以效果还是很明显的。&lt;/p&gt;
&lt;p&gt;完整的示例代码请查看 &lt;a href=&quot;https://github.com/Alex1990/lodash-shrinking-demo&quot;&gt;lodash-shrinking-demo&lt;/a&gt;。&lt;/p&gt;
&lt;h3 id=&quot;链式写法与code-classlanguage-text_flowcode&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E9%93%BE%E5%BC%8F%E5%86%99%E6%B3%95%E4%B8%8Ecode-classlanguage-text_flowcode&quot; aria-label=&quot;链式写法与code classlanguage text_flowcode permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;链式写法与&lt;code class=&quot;language-text&quot;&gt;_.flow()&lt;/code&gt;&lt;/h3&gt;
&lt;p&gt;babel-plugin-lodash 不支持使用&lt;code class=&quot;language-text&quot;&gt;_.chain()&lt;/code&gt;方法形式的链式写法，但是利用&lt;code class=&quot;language-text&quot;&gt;_.flow()&lt;/code&gt;方法可以实现相同效果：&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; _ &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;lodash&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; sortBy &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;lodash/fp/sortBy&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; map &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;lodash/fp/map&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; data &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    name&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;A&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    level&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    name&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;B&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    level&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    name&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;C&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    level&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; getNames &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; _&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;flow&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;sortBy&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;v&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; v&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;level&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;v&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; v&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;name&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; names &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;getNames&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content:encoded></item><item><title><![CDATA[批量功能设计]]></title><description><![CDATA[…]]></description><link>https://xiaocaoge.com//batch-operations/</link><guid isPermaLink="false">https://xiaocaoge.com//batch-operations/</guid><category><![CDATA[批量]]></category><category><![CDATA[批量操作]]></category><category><![CDATA[API]]></category><category><![CDATA[UI]]></category><dc:creator><![CDATA[Alex]]></dc:creator><pubDate>Tue, 07 Feb 2017 16:00:00 GMT</pubDate><content:encoded>&lt;p&gt;&lt;strong&gt;批量功能&lt;/strong&gt;：这里指需要对全部数据当中的一组数据进行查询、选择、修改、删除等操作的功能，也包括添加一组数据，即批量添加，这些操作统称&lt;strong&gt;批量操作&lt;/strong&gt;。批量操作在软件系统当中应用很普遍，比如删除一组文件、删除符合特定条件的邮件、删除购物车里面选择的商品等等。而批量操作在后台管理系统当中尤其常见，比如博客管理后台、电商网站商家管理后台。&lt;/p&gt;
&lt;p&gt;下面以&lt;strong&gt;用户管理&lt;/strong&gt;功能为例，从两个方面谈下批量功能设计。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;HTTP API 设计&lt;/li&gt;
&lt;li&gt;界面交互设计&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;http-api-设计&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#http-api-%E8%AE%BE%E8%AE%A1&quot; aria-label=&quot;http api 设计 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;HTTP API 设计&lt;/h2&gt;
&lt;p&gt;一个典型的非批量操作 RESTful API 设计如下：&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sh&quot;&gt;&lt;pre class=&quot;language-sh&quot;&gt;&lt;code class=&quot;language-sh&quot;&gt;# 获取用户列表
GET /api/v1/users

# 获取单个用户信息
GET /api/v1/users/:id

# 创建一个用户
POST /api/v1/users

# 更新一个用户信息
PATCH /api/v1/users/:id

# 替换一个用户信息
PUT /api/v1/users/:id

# 删除一个用户
DELETE /api/v1/users/:id&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;然后分别实现对应的批量操作 API。&lt;/p&gt;
&lt;h3 id=&quot;批量创建用户&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E6%89%B9%E9%87%8F%E5%88%9B%E5%BB%BA%E7%94%A8%E6%88%B7&quot; aria-label=&quot;批量创建用户 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;批量创建用户&lt;/h3&gt;
&lt;p&gt;这个与创建单个用户一样，不同的是发送的数据是一组数据，比如 JSON 数组。&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;POST /api/v1/users&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id=&quot;获取多个指定用户信息&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E8%8E%B7%E5%8F%96%E5%A4%9A%E4%B8%AA%E6%8C%87%E5%AE%9A%E7%94%A8%E6%88%B7%E4%BF%A1%E6%81%AF&quot; aria-label=&quot;获取多个指定用户信息 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;获取多个指定用户信息&lt;/h3&gt;
&lt;p&gt;比如根据用户ID来查询，假如只有几个或几十个，那把要查询的用户ID放到查询字符串里面到也没有技术上的问题。&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;GET /api/v1/users?ids=001,002,003&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;但是如果 ID 数比较多或者 ID 比较长时，URL 长度会太长，然后浏览器或者服务器可能无法正常处理。这个时候简单直接，但是不符合 REST 规范的方式是使用 POST：&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;POST /api/v1/userlists
[&amp;quot;001&amp;quot;,&amp;quot;002&amp;quot;,&amp;quot;003&amp;quot;]&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;如果要符合 REST 规范来实现，需要两个请求，一个是和上面一样：&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;POST /api/v1/userlists
[&amp;quot;001&amp;quot;,&amp;quot;002&amp;quot;,&amp;quot;003&amp;quot;]&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;然后返回创建的资源&lt;code class=&quot;language-text&quot;&gt;userlist&lt;/code&gt;的 ID：&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;{
  &amp;quot;id&amp;quot;: &amp;quot;0001&amp;quot;
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;然后利用该 ID 发送第二个请求：&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;GET /api/v1/userlists/0001&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;通常这些查询是临时性的，所以查过之后就可以从数据库删除了，或者说只用在内存中存一下。&lt;/p&gt;
&lt;h3 id=&quot;更新多个用户信息&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E6%9B%B4%E6%96%B0%E5%A4%9A%E4%B8%AA%E7%94%A8%E6%88%B7%E4%BF%A1%E6%81%AF&quot; aria-label=&quot;更新多个用户信息 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;更新多个用户信息&lt;/h3&gt;
&lt;p&gt;下面的方式不符合 REST 方式，如果要符合可以参考上面的 GET 实现方式，创建一个临时的&lt;code class=&quot;language-text&quot;&gt;userlist&lt;/code&gt;，只不过实现麻烦，过程复杂化了。&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;PATCH /api/v1/users
[
  {
    &amp;quot;id&amp;quot;: &amp;quot;001&amp;quot;,
    &amp;quot;name&amp;quot;: &amp;quot;zhangsan&amp;quot;
  },
  {
    &amp;quot;id&amp;quot;: &amp;quot;002&amp;quot;,
    &amp;quot;name&amp;quot;: &amp;quot;lisi&amp;quot;
  }
]

PUT /api/v1/users
[
  {
    &amp;quot;id&amp;quot;: &amp;quot;001&amp;quot;,
    &amp;quot;name&amp;quot;: &amp;quot;zhangsan&amp;quot;,
    &amp;quot;gender&amp;quot;: &amp;quot;male&amp;quot;,
    &amp;quot;birthday&amp;quot;: &amp;quot;2012-1-1&amp;quot;
  },
  {
    &amp;quot;id&amp;quot;: &amp;quot;002&amp;quot;,
    &amp;quot;name&amp;quot;: &amp;quot;lisi&amp;quot;,
    &amp;quot;gender&amp;quot;: &amp;quot;male&amp;quot;,
    &amp;quot;birthday&amp;quot;: &amp;quot;2013-11-2&amp;quot;
  }
]&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id=&quot;删除多个用户信息&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E5%88%A0%E9%99%A4%E5%A4%9A%E4%B8%AA%E7%94%A8%E6%88%B7%E4%BF%A1%E6%81%AF&quot; aria-label=&quot;删除多个用户信息 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;删除多个用户信息&lt;/h3&gt;
&lt;p&gt;同样的，下面实现方式不符合 REST 方式。&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;DELETE /api/v1/users
[&amp;quot;001&amp;quot;,&amp;quot;002&amp;quot;]&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id=&quot;返回值&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E8%BF%94%E5%9B%9E%E5%80%BC&quot; aria-label=&quot;返回值 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;返回值&lt;/h3&gt;
&lt;p&gt;有时一次批量操作请求执行后，多个资源的操作结果不一样，这时返回的结果就要包含多个资源的操作结果。下面以同时创建多个用户为例：&lt;/p&gt;
&lt;p&gt;发送创建请求：&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;POST /api/v1/users
[
  {
    &amp;quot;name&amp;quot;: &amp;quot;user1&amp;quot;,
  },
  {
    &amp;quot;name&amp;quot;: &amp;quot;user2&amp;quot;,
  }
]&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;其返回值是：&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;json&quot;&gt;&lt;pre class=&quot;language-json&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;success&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;message&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;data&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;name&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;user1&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;success&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;message&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;用户已存在&quot;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;name&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;user2&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;success&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;message&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;&quot;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;如果只关心失败的结果，返回结果可以只包含创建失败的信息。&lt;/p&gt;
&lt;h3 id=&quot;其他注意事项&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E5%85%B6%E4%BB%96%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9&quot; aria-label=&quot;其他注意事项 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;其他注意事项&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;最多操作数据条数&lt;/strong&gt;：即使接口可以支持批量操作，也应该有个最大限制，同时用户输入端也要有限制，API 文档也应说明。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;进度&lt;/strong&gt;：如果批量操作过程过长，比如几分钟，这时可以提供执行进度信息。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;权限&lt;/strong&gt;：在涉及到重要价值的资源时，批量操作可能需要慎重执行，需要合理设计好执行人的权限。&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;界面交互设计&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E7%95%8C%E9%9D%A2%E4%BA%A4%E4%BA%92%E8%AE%BE%E8%AE%A1&quot; aria-label=&quot;界面交互设计 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;界面交互设计&lt;/h2&gt;
&lt;h3 id=&quot;选择&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E9%80%89%E6%8B%A9&quot; aria-label=&quot;选择 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;选择&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;全选功能&lt;/strong&gt;几乎是必需的，通过点击复选框来选择时，可以适当考虑点击的范围，便于用户点选。除了点选，还有其他选择方式，比如拖动方式、键盘结合方式。桌面操作系统经常利用&lt;code class=&quot;language-text&quot;&gt;Ctrl&lt;/code&gt;和&lt;code class=&quot;language-text&quot;&gt;Shift&lt;/code&gt;键与鼠标结合操作，&lt;code class=&quot;language-text&quot;&gt;Ctrl + 点击&lt;/code&gt;增量选择一个，&lt;code class=&quot;language-text&quot;&gt;Shift + 点击&lt;/code&gt;选择连续的几个，不过键盘方式只适合高级用户使用，方式比较隐晦。&lt;/p&gt;
&lt;h3 id=&quot;排序与搜索&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E6%8E%92%E5%BA%8F%E4%B8%8E%E6%90%9C%E7%B4%A2&quot; aria-label=&quot;排序与搜索 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;排序与搜索&lt;/h3&gt;
&lt;p&gt;有时数据比较多，又或者只是想加快选择的速度，这时候需要结合排序和搜索功能，快速缩减数据范围。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;排序&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;常见的一种展现多条数据的方式是列表，表格也可以看成是列表，在展现数据时，数据的默认排序很重要。既可以把用户关心的数据排到前面，也可以给出一种数据的规律，便于用户浏览。有时还需要用户可以选择排序方式和排序的数据列。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;搜索&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;简单的只是一个搜索框来搜索所有数据列。如果要实现更精确的搜索，就需要实现单独列以及列的组合搜索。正则搜索功能是否实现，要看用户的属性，对于程序员可能比较熟悉易用，但普通用户还是慎用。&lt;/p&gt;
&lt;h3 id=&quot;文本框和文件&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E6%96%87%E6%9C%AC%E6%A1%86%E5%92%8C%E6%96%87%E4%BB%B6&quot; aria-label=&quot;文本框和文件 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;文本框和文件&lt;/h3&gt;
&lt;p&gt;即使通过排序或搜索缩减了数据范围，可能仍然不能满足某些用户或特定场景的需求。比如我已经获取到了一组数据的 IDs，这些 IDs 就是我想删除的用户。当然可以通过直接操作数据库来快速完成，但是操作数据库只是临时方案，不能作为长久之计。这时候可以提供一个文本输入框来让用户粘贴数据或者通过上传一个文件方式来完成，毕竟我们让用户选择只是为了得到一组&lt;strong&gt;输入&lt;/strong&gt;数据。&lt;/p&gt;
&lt;p&gt;另外通过文本框或文件方式，也可以快速实现添加或更新大量数据。&lt;/p&gt;
&lt;h3 id=&quot;其他注意事项-1&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E5%85%B6%E4%BB%96%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9-1&quot; aria-label=&quot;其他注意事项 1 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;其他注意事项&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;单条数据操作&lt;/strong&gt;：常见的一个误区是，很多产品有了批量操作功能之后，快捷的单条数据操作功能却没有，除非绝大部分操作肯定都是多条数据操作，否则应该提供一些单条数据操作功能。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;批量操作结果&lt;/strong&gt;：正如前文 HTTP API 设计中提到的多条数据的操作结果可能不同，这个时候操作结果展现方式会和单条数据操作结果不同。&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[前端代码规范实战]]></title><description><![CDATA[本文总结目前开发组一年多以来在前端代码规范方面的实战经验，包括了为什么需要代码规范，如何制定代码规范、检测工具等。这一年多来，开发组前端的大致情况是： 前端开发人员：2 人。 项目规模： 一个综合性主项目使用 jQuery + Bootstrap 开发，大约 4000…]]></description><link>https://xiaocaoge.com//frontend-code-style-in-action/</link><guid isPermaLink="false">https://xiaocaoge.com//frontend-code-style-in-action/</guid><category><![CDATA[代码规范]]></category><category><![CDATA[代码风格]]></category><dc:creator><![CDATA[Alex]]></dc:creator><pubDate>Fri, 23 Dec 2016 16:00:00 GMT</pubDate><content:encoded>&lt;p&gt;本文总结目前开发组一年多以来在前端代码规范方面的实战经验，包括了为什么需要代码规范，如何制定代码规范、检测工具等。这一年多来，开发组前端的大致情况是：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;前端开发人员：2 人。&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;项目规模：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;一个综合性主项目使用 jQuery + Bootstrap 开发，大约 40000 行自写代码。&lt;/li&gt;
&lt;li&gt;其他小项目全部 React + Ant Design，我们两个前端开发的有五个左右，其他大部分为后端人员开发前端。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;为什么需要代码规范？&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E4%B8%BA%E4%BB%80%E4%B9%88%E9%9C%80%E8%A6%81%E4%BB%A3%E7%A0%81%E8%A7%84%E8%8C%83%EF%BC%9F&quot; aria-label=&quot;为什么需要代码规范？ permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;为什么需要代码规范？&lt;/h2&gt;
&lt;p&gt;一开始是没有什么规范的，我和另一个前端开发不同的业务模块，使用着各自的代码风格。而且，项目初始阶段开发任务量大，且紧急，没有想着什么规范的事儿。直到后来，业务开发的节奏缓下来了，我们两个前端就大致协商了一些基本的规则，比如缩进、句尾分号、变量命名之类的。然后使用 JSHint 配置了一下规则，还没有制定代码规范文档，当时我也没听说过 ESLint，规则也参考了现有的代码风格，避免改动太大。&lt;/p&gt;
&lt;p&gt;至于当初为什么约定一个基本的代码规范，是因为：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;提高可读性&lt;/strong&gt;：在阅读或修改他人代码时，如果风格不同会降低可读性，两个人两种风格读起来就累，要是更多人没有统一的风格，就会影响开发效率了。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;提高可维护性&lt;/strong&gt;：由于降低可读性，修改成本会高点儿，尤其是对我这种有点儿代码洁癖的人来说，会非常影响情绪。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;代码规范不仅仅包括诸如缩进、分号、空格之类的问题，还包括一些使用该语言的最佳实践，比如 JavaScript 中的相等性比较、类型转换等。这些最佳实践有助于降低 bug 发生几率，从而提高代码的可靠性。&lt;/p&gt;
&lt;p&gt;另外推动这个还有一点儿小小的私心，因为主要是我来制定规则，所以可以趁机推广自己倾向的风格。当然，我的风格也是从主流的开源项目学来的，所以就是推广主流的代码风格，消灭不规范或奇葩的风格。&lt;/p&gt;
&lt;h2 id=&quot;制定代码规范&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E5%88%B6%E5%AE%9A%E4%BB%A3%E7%A0%81%E8%A7%84%E8%8C%83&quot; aria-label=&quot;制定代码规范 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;制定代码规范&lt;/h2&gt;
&lt;p&gt;如上文所说，一开始只是一个简单的 JSHint 配置规则，后来随着项目的规模越来越大，开发的项目也不在只是一个，参与前端开发的人员也不止两个了。另外，离第一个项目启动已经过去大半年了，期间项目的前端技术栈也在不断升级，此时也有必要制定一份正式的前端代码规范了。&lt;/p&gt;
&lt;p&gt;根据我们所使用的技术，制定了 HTML、CSS、JavaScript ES5、JavaScript 和 React 规范。在制定的过程中，&lt;strong&gt;参考了业界流行的代码规范&lt;/strong&gt;，比如 HTML 与 CSS 参考了&lt;a href=&quot;https://github.com/mdo&quot;&gt;@mdo&lt;/a&gt; 的 &lt;a href=&quot;https://github.com/mdo/code-guide&quot;&gt;code-guide&lt;/a&gt; 和 &lt;a href=&quot;https://google.github.io/styleguide/htmlcssguide.xml&quot;&gt;Google Style Guide&lt;/a&gt;，JavaScript 与 React 参考了 &lt;a href=&quot;https://github.com/airbnb/javascript&quot;&gt;Airbnb JavaScript Style Guide&lt;/a&gt;。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;为什么不直接使用业界主流的规范？&lt;/strong&gt;当时认为这份规范的目标用户前端基础薄弱，且这些规范相对来说比较长，我们目前的代码也有很多地方不符合这些主流规范。所以在这些规范的基础上制定了一份精简的代码风格指南，更侧重于代码风格方面，而非语言的最佳实践。另外，由于嫌配置太多工具繁琐，且 HTML/CSS 写的并不是很多，所以只检测 JavaScript 与 React 的代码风格，并给出了 ESLint 的配置。&lt;/p&gt;
&lt;h2 id=&quot;检测&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E6%A3%80%E6%B5%8B&quot; aria-label=&quot;检测 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;检测&lt;/h2&gt;
&lt;p&gt;当时，我已经听过并调研了下 ESLint 这个新的代码检测工具，发现相比 JSHint 有下面几个显著的优势：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;规则全而精细：远远超过 JSHint 的可配置规则，从而实现更精细的控制，也包括大量为了降低 bug 发生率的规则。&lt;/li&gt;
&lt;li&gt;扩展性强：任何人都可以写自己的规则或插件，也可以通过配置解析器或插件来实现对 ES6 和 React 的代码检测，而 ES6 与 React 正是我们将要采用的技术。&lt;/li&gt;
&lt;li&gt;可靠：ESLint 是大神 Nicholas C. Zakas 开发的，读过他的书与一些博客文章，了解到他在前端界身经百战了，对项目可靠性很重视，对未来的 JavaScript 也很有研究。反观 JSHint，更新近乎停滞，也是一个老项目了。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;为了保证提交的代码都能符合规范，就引入了&lt;a href=&quot;https://github.com/observing/pre-commit&quot;&gt;pre-commit&lt;/a&gt; 这个工具，可以在&lt;code class=&quot;language-text&quot;&gt;git commit&lt;/code&gt;执行前运行&lt;code class=&quot;language-text&quot;&gt;eslint&lt;/code&gt;检测代码。只是项目代码比较多，每次检测都要 30s 以上，实在无法忍受，就用下面一行代码来实现只检测要提交代码：&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;package.json&lt;/code&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;json&quot;&gt;&lt;pre class=&quot;language-json&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;scripts&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;lint&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;files=$(git diff --cached --name-only | grep -v &apos;.jsx$&apos; | grep &apos;.js$&apos; | tr &apos;\\n&apos; &apos; &apos;);  if [[ -n \&quot;$files\&quot; ]]; then eslint --config ./.eslintrc.json --quiet $files || (git reset HEAD; exit 1); else exit 0; fi&quot;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;后来项目引入 ES6，新写的模块使用 ES6 语法，需要区别检测，就配置了两种 ESLint 规则，当然使用 ES6 的模块文件名统一使用&lt;code class=&quot;language-text&quot;&gt;.jsx&lt;/code&gt;作为后缀。新的&lt;code class=&quot;language-text&quot;&gt;npm scripts&lt;/code&gt;如下：&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;json&quot;&gt;&lt;pre class=&quot;language-json&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;scripts&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;lint-legacy&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;files=$(git diff --cached --name-only | grep -v &apos;.jsx$&apos; | grep &apos;.js$&apos; | tr &apos;\\n&apos; &apos; &apos;);  if [[ -n \&quot;$files\&quot; ]]; then eslint --config ./.eslintrc.legacy.json --quiet $files || (git reset HEAD; exit 1); else exit 0; fi&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;lint-base&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;files=$(git diff --cached --name-only | grep &apos;.jsx$&apos; | tr &apos;\\n&apos; &apos; &apos;);  if [[ -n \&quot;$files\&quot; ]]; then eslint --config ./.eslintrc.base.json --quiet $files || (git reset HEAD; exit 1); else exit 0; fi&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;lint&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;npm run lint-legacy &amp;amp;&amp;amp; npm run lint-base&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;lint-all&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;(eslint --config ./.eslintrc.base.json --ext .jsx --quiet ./) &amp;amp;&amp;amp; (eslint --config ./.eslintrc.legacy.json --ext .js --quiet ./)&quot;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;其中：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;lint-legacy&lt;/code&gt;：检测待提交的旧 ES5 代码；&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;lint-base&lt;/code&gt;：检测待提交的 ES6 代码；&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;lint&lt;/code&gt;：检测所有待提交的代码；&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;lint-all&lt;/code&gt;：手动执行，检测所有代码。&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;editorconfig&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#editorconfig&quot; aria-label=&quot;editorconfig permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;EditorConfig&lt;/h2&gt;
&lt;p&gt;我发现有些人的代码总是存在一些基本的风格问题：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;空格与制表符作为缩进。&lt;/li&gt;
&lt;li&gt;行结尾符，有三种风格 Windows/Linux/macOS，代码比较多的是 Linux（&lt;code class=&quot;language-text&quot;&gt;\n&lt;/code&gt;）。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;这些问题可以配置编辑器就解决的，或者只要那怕注意一点儿代码风格问题，都不应该发生的问题。目前很多前端开源项目采用 &lt;a href=&quot;http://editorconfig.org/&quot;&gt;EditorConfig&lt;/a&gt; 这个工具来避免这些问题，我们开发组的前端方面就引入了这个工具。使用这个工具需要为编辑器安装插件，可以按照官方文档安装。&lt;/p&gt;
&lt;h2 id=&quot;维护代码规范&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E7%BB%B4%E6%8A%A4%E4%BB%A3%E7%A0%81%E8%A7%84%E8%8C%83&quot; aria-label=&quot;维护代码规范 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;维护代码规范&lt;/h2&gt;
&lt;p&gt;自从制定好代码规范并配置好工具之后，大半年内没有什么改动。然而，前端技术的发展及随着检测工具的版本更新，Airbnb 代码规范的更新，以及这近一年来的 ES6 与 React 实战，发现需要更新代码规范了。&lt;/p&gt;
&lt;p&gt;一开始制定规范时，本着照顾到旧代码以及后端人员，制定的规范比 Airbnb JavaScript 的宽松很多，加了很多自定义的工具配置规则。然而，只有我们两个前端在遵守，无论后端人员遵守规范还是我维护规范都需要花时间与精力。个人认为性价比不高，现在我倾向与直接使用 Airbnb JavaScript 的规范与 ESLint 配置，我个人倾向严格细致些的规范。&lt;/p&gt;
&lt;p&gt;经过查看 ESLint 与 Airbnb JavaScript 的配置更新记录，发现除了极个别几个规则与目前代码风格不一致外，很多都已经一致了，可以比较平滑地升级。经过升级之后，自定义的 ESLint 配置规则由原来的二十多条减少到了十条左右，下一次更新的时候基本就可以废弃自定义的配置规则了。&lt;/p&gt;</content:encoded></item><item><title><![CDATA[颜色基础]]></title><description><![CDATA[颜色作为设计当中的基本元素，一些人会懂得一些零散的知识点，但是没有系统的了解一些颜色相关的基本概念，而这些基本概念不仅仅对设计师至关重要，对于 Web 前端也是很有帮助。 基本概念 原色 Primary color…]]></description><link>https://xiaocaoge.com//color-fundamental/</link><guid isPermaLink="false">https://xiaocaoge.com//color-fundamental/</guid><category><![CDATA[颜色]]></category><category><![CDATA[颜色基础]]></category><category><![CDATA[color]]></category><dc:creator><![CDATA[Alex]]></dc:creator><pubDate>Tue, 13 Dec 2016 16:00:00 GMT</pubDate><content:encoded>&lt;p&gt;颜色作为设计当中的基本元素，一些人会懂得一些零散的知识点，但是没有系统的了解一些颜色相关的基本概念，而这些基本概念不仅仅对设计师至关重要，对于 Web 前端也是很有帮助。&lt;/p&gt;
&lt;h2 id=&quot;基本概念&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5&quot; aria-label=&quot;基本概念 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;基本概念&lt;/h2&gt;
&lt;h3 id=&quot;原色-primary-color&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E5%8E%9F%E8%89%B2-primary-color&quot; aria-label=&quot;原色 primary color permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;原色 Primary color&lt;/h3&gt;
&lt;p&gt;原色是指不能通过其他颜色的混合调配而得出的“基本色”，通过调节一组原色中的各原色组成比例可以合成任一颜色。需要注意，原色不是光的基本属性，而是生物的视觉系统相关的概念。&lt;/p&gt;
&lt;h3 id=&quot;相加色-additive-color&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E7%9B%B8%E5%8A%A0%E8%89%B2-additive-color&quot; aria-label=&quot;相加色 additive color permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;相加色 Additive color&lt;/h3&gt;
&lt;p&gt;相加色是指通过混合不同颜色的光产生的颜色。在加色系统中，红（Red）、绿（Green）、蓝（Blue）是最常见的三原色。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/color-fundamental/additive-color.svg&quot; alt=&quot;红、绿、蓝光三原色&quot;&gt;&lt;/p&gt;
&lt;h3 id=&quot;相减色-subtractive-color&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E7%9B%B8%E5%87%8F%E8%89%B2-subtractive-color&quot; aria-label=&quot;相减色 subtractive color permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;相减色 Subtractive color&lt;/h3&gt;
&lt;p&gt;相减色是通过混合不同的染料、墨水、色素或其他染色剂得到的颜色，其原理是某种颜色的颜料吸收了一些波长的光，剩下未吸收的波长的光组合成的颜色即为该颜料的颜色。在减色系统中，青（Cyan）、品红（Magenta）和黄（Yellow）是常见的三原色。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/color-fundamental/subtractive-color.svg&quot; alt=&quot;青、品红、黄颜料三原色&quot;&gt;&lt;/p&gt;
&lt;h3 id=&quot;次生色-secondary-color&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E6%AC%A1%E7%94%9F%E8%89%B2-secondary-color&quot; aria-label=&quot;次生色 secondary color permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;次生色 Secondary color&lt;/h3&gt;
&lt;p&gt;次生色是指通过混色相同比例的两种原色得到的颜色。&lt;/p&gt;
&lt;h4 id=&quot;加色法次生色-additive-secondary-color&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E5%8A%A0%E8%89%B2%E6%B3%95%E6%AC%A1%E7%94%9F%E8%89%B2-additive-secondary-color&quot; aria-label=&quot;加色法次生色 additive secondary color permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;加色法次生色 Additive secondary color&lt;/h4&gt;
&lt;p&gt;RGB 颜色模型的次生色为：青、品红、黄。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/color-fundamental/secondary-additive-color.svg&quot; alt=&quot;加色法次生色&quot;&gt;&lt;/p&gt;
&lt;h4 id=&quot;减色法次生色-subtractive-secondary-color&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E5%87%8F%E8%89%B2%E6%B3%95%E6%AC%A1%E7%94%9F%E8%89%B2-subtractive-secondary-color&quot; aria-label=&quot;减色法次生色 subtractive secondary color permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;减色法次生色 Subtractive secondary color&lt;/h4&gt;
&lt;p&gt;CMYK 颜色模型的次生色为：红、绿、蓝。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/color-fundamental/secondary-subtractive-color.svg&quot; alt=&quot;减色法次生色&quot;&gt;&lt;/p&gt;
&lt;h3 id=&quot;色环-color-wheel&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E8%89%B2%E7%8E%AF-color-wheel&quot; aria-label=&quot;色环 color wheel permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;色环 Color wheel&lt;/h3&gt;
&lt;p&gt;色环是指围绕一个圆环的一组颜色的展示方式，可以用来表示原色、次生色、三次色之间的关系。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/color-fundamental/color-wheel.svg&quot; alt=&quot;十二色环&quot;&gt;&lt;/p&gt;
&lt;h3 id=&quot;像素-pixel&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E5%83%8F%E7%B4%A0-pixel&quot; aria-label=&quot;像素 pixel permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;像素 Pixel&lt;/h3&gt;
&lt;p&gt;像素是指组成栅格图片的物理点或者显示屏的最小显示单元。&lt;/p&gt;
&lt;h3 id=&quot;颜色深度-color-depth&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E9%A2%9C%E8%89%B2%E6%B7%B1%E5%BA%A6-color-depth&quot; aria-label=&quot;颜色深度 color depth permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;颜色深度 Color depth&lt;/h3&gt;
&lt;p&gt;颜色深度通常指用于表示一个像素的颜色所需的比特位数。&lt;/p&gt;
&lt;h2 id=&quot;颜色模型&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E9%A2%9C%E8%89%B2%E6%A8%A1%E5%9E%8B&quot; aria-label=&quot;颜色模型 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;颜色模型&lt;/h2&gt;
&lt;p&gt;颜色模型是一种用来描述颜色如何被表示为多元数值的抽象数学模型，通常使用三个或四个数值来表示。常见的颜色模型有 RGB、HSL、CMYK、CIE Lab 等。&lt;/p&gt;
&lt;h3 id=&quot;rgb&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#rgb&quot; aria-label=&quot;rgb permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;RGB&lt;/h3&gt;
&lt;p&gt;RGB 颜色模型是加色模型（addtive color model）的一种，使用红、绿、蓝来相加得到一组颜色。该模型的名称就来源于三原色：红（Red）、绿（Green）、蓝（Blue）。&lt;/p&gt;
&lt;p&gt;比较常用的 RGB 颜色深度是 24 位，组成一个像素的 RGB 颜色单元各占 8 位，总共可显示 2^24 = 16777216 种颜色。&lt;/p&gt;
&lt;h4 id=&quot;hex-triplet&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#hex-triplet&quot; aria-label=&quot;hex triplet permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Hex triplet&lt;/h4&gt;
&lt;p&gt;十六进制三元组是一种使用六位十六进制数字（0-9、A-F），即三个字节来表示 RGB 颜色的一种写法，常见于 Web 编程。其中：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;前两位表示红色&lt;/li&gt;
&lt;li&gt;中间两位表示绿色&lt;/li&gt;
&lt;li&gt;后面两位表示蓝色&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;比如&lt;code class=&quot;language-text&quot;&gt;#ffaa00&lt;/code&gt;，还可以简写为&lt;code class=&quot;language-text&quot;&gt;#fa0&lt;/code&gt;。&lt;/p&gt;
&lt;h4 id=&quot;rgba&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#rgba&quot; aria-label=&quot;rgba permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;RGBA&lt;/h4&gt;
&lt;p&gt;RGBA 表示 Red、Green、Blue、Alpha，是在 RGB 的基础上增加了 Alpha 通道（alpha channel），可以表示透明度。&lt;/p&gt;
&lt;h3 id=&quot;hsl-和-hsv&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#hsl-%E5%92%8C-hsv&quot; aria-label=&quot;hsl 和 hsv permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;HSL 和 HSV&lt;/h3&gt;
&lt;p&gt;HSL 表示 Hue（色相）、Saturation（饱和度）、Lightnes/Luminosity（亮度/明度），也常被称为 HLS。HSV 是英文单词 Hue、Saturation、Value 的首字母缩写，也常常被称为 HSB（B 表示 Brightness）。HSL 和 HSV 在取色器（color pickers）当中很常用，相对于 RGB 来说，更符合人类直觉。&lt;/p&gt;
&lt;h4 id=&quot;hsla&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#hsla&quot; aria-label=&quot;hsla permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;HSLA&lt;/h4&gt;
&lt;p&gt;和 RGBA 类似，HSLA 是在 HSL 基础上多了一个透明通道，可以表示颜色的透明度。&lt;/p&gt;
&lt;h3 id=&quot;cmyk&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#cmyk&quot; aria-label=&quot;cmyk permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;CMYK&lt;/h3&gt;
&lt;p&gt;CMYK 表示 Cyan（青）、Magenta（品红）、Yellow（黄）和 Black（黑）。CMYK 颜色模型是一种减色模型（subtractive color model），用于颜色打印。&lt;/p&gt;
&lt;h3 id=&quot;lab&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#lab&quot; aria-label=&quot;lab permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Lab&lt;/h3&gt;
&lt;p&gt;Lab 颜色模型通常是指 CIELAB，也被写成&lt;em&gt;L*a*b*&lt;/em&gt;。&lt;/p&gt;
&lt;h2 id=&quot;颜色维度-color-dimension&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E9%A2%9C%E8%89%B2%E7%BB%B4%E5%BA%A6-color-dimension&quot; aria-label=&quot;颜色维度 color dimension permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;颜色维度 Color dimension&lt;/h2&gt;
&lt;h3 id=&quot;色相-hue&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E8%89%B2%E7%9B%B8-hue&quot; aria-label=&quot;色相 hue permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;色相 Hue&lt;/h3&gt;
&lt;p&gt;色相是颜色的重要属性之一，人眼所感受到的颜色，比如红色、绿色、蓝色、黄色，色相独立于亮度和饱和度。&lt;/p&gt;
&lt;h3 id=&quot;彩度-colorfulness&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E5%BD%A9%E5%BA%A6-colorfulness&quot; aria-label=&quot;彩度 colorfulness permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;彩度 Colorfulness&lt;/h3&gt;
&lt;p&gt;色彩的鲜艳程度。&lt;/p&gt;
&lt;h3 id=&quot;饱和度-saturation&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E9%A5%B1%E5%92%8C%E5%BA%A6-saturation&quot; aria-label=&quot;饱和度 saturation permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;饱和度 Saturation&lt;/h3&gt;
&lt;p&gt;彩度相对于明度的变化程度。&lt;/p&gt;
&lt;h3 id=&quot;亮度-brightness&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E4%BA%AE%E5%BA%A6-brightness&quot; aria-label=&quot;亮度 brightness permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;亮度 Brightness&lt;/h3&gt;
&lt;p&gt;亮度表示光源的强度。&lt;/p&gt;
&lt;h3 id=&quot;明度-lightness&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E6%98%8E%E5%BA%A6-lightness&quot; aria-label=&quot;明度 lightness permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;明度 Lightness&lt;/h3&gt;
&lt;p&gt;明度指视觉感受到的明暗程度，不仅取决于光线强弱，还取决于物体表面的反射系数。&lt;/p&gt;
&lt;h3 id=&quot;浅色和深色-tints-and-shades&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E6%B5%85%E8%89%B2%E5%92%8C%E6%B7%B1%E8%89%B2-tints-and-shades&quot; aria-label=&quot;浅色和深色 tints and shades permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;浅色和深色 Tints and shades&lt;/h3&gt;
&lt;p&gt;浅色由一种颜色和白色混合而成，会增加明度；深色由一种颜色和黑色混合而成，会降低明度。&lt;/p&gt;
&lt;h3 id=&quot;灰度-grayscale&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E7%81%B0%E5%BA%A6-grayscale&quot; aria-label=&quot;灰度 grayscale permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;灰度 Grayscale&lt;/h3&gt;
&lt;p&gt;指彩色使用黑白色表示时，其颜色强度，灰度范围一般 0 到 255，白色为 255，黑色为 0。&lt;/p&gt;
&lt;h2 id=&quot;色温-color-temperature&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E8%89%B2%E6%B8%A9-color-temperature&quot; aria-label=&quot;色温 color temperature permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;色温 Color temperature&lt;/h2&gt;
&lt;p&gt;色温是一个用于定义光源颜色的物理量，即把某个&lt;a href=&quot;https://en.wikipedia.org/wiki/Black-body_radiation&quot;&gt;黑体&lt;/a&gt;加热到其发射的光的色相与某个光源所发射的光的色相相同时，这时的黑体温度温度称为该光源的颜色温度，简称色温。单位用 K 表示。&lt;/p&gt;
&lt;p&gt;色温高于 5000K 时被称为冷色（cool colors），低于 3000K 时被称为暖色（warn colors）。这种定义只是心理学上的定义。&lt;/p&gt;
&lt;h3 id=&quot;暖色-warm-color&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E6%9A%96%E8%89%B2-warm-color&quot; aria-label=&quot;暖色 warm color permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;暖色 Warm color&lt;/h3&gt;
&lt;p&gt;对于大多数人来说，红色、橙色、黄色等色系给人温暖的感觉，故而称之为暖色调。&lt;/p&gt;
&lt;h3 id=&quot;冷色-cool-color&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E5%86%B7%E8%89%B2-cool-color&quot; aria-label=&quot;冷色 cool color permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;冷色 Cool color&lt;/h3&gt;
&lt;p&gt;冷色调主要包括蓝色、绿色、紫色，给人清凉的感觉。&lt;/p&gt;
&lt;h2 id=&quot;颜色选择器-color-picker&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E9%A2%9C%E8%89%B2%E9%80%89%E6%8B%A9%E5%99%A8-color-picker&quot; aria-label=&quot;颜色选择器 color picker permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;颜色选择器 Color picker&lt;/h2&gt;
&lt;p&gt;一种用来选取颜色的工具，也被称为“拾色器”，通常见于图像编辑软件，比如 Photoshop、Office 套件等。通常颜色选择器支持多种颜色模型来设置颜色。&lt;/p&gt;
&lt;h2 id=&quot;相关-javascript-包&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E7%9B%B8%E5%85%B3-javascript-%E5%8C%85&quot; aria-label=&quot;相关 javascript 包 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;相关 JavaScript 包&lt;/h2&gt;
&lt;p&gt;前端开发颜色相关的 JS 包并不是很丰富，也不是很常用，用得最多的可能就是颜色选择器。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/jquery/jquery-color&quot;&gt;jquery-color&lt;/a&gt;：一个 jQuery 插件，用于支持颜色操作和动画。&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/Qix-/color&quot;&gt;color&lt;/a&gt;：颜色操作和转换。&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/bgrins/TinyColor&quot;&gt;TinyColor&lt;/a&gt;：颜色操作和转换。&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/bgrins/spectrum&quot;&gt;spectrum&lt;/a&gt;：一款空能丰富的颜色选择器，曾经 Chrome、Firefox 和 Safari 的开发者工具里面就是用的这款。&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/casesandberg/react-color&quot;&gt;react-color&lt;/a&gt;：取自 Photoshop、Sketch、Chrome、Github、Twitter 等地方的颜色选择器，功能很强大。&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/davidmerfield/randomColor&quot;&gt;randomColor&lt;/a&gt;：生成一组有吸引力的颜色，方法值得参考。&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/chalk/chalk&quot;&gt;chalk&lt;/a&gt;：用于命令行程序的文本颜色格式化。&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;总结&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E6%80%BB%E7%BB%93&quot; aria-label=&quot;总结 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;总结&lt;/h2&gt;
&lt;p&gt;维基百科页面最下面的知识总结可以快速了解某一个知识体系，比如&lt;a href=&quot;https://en.wikipedia.org/wiki/Primary_color&quot;&gt;Primary color&lt;/a&gt;页面，会给出颜色相关的链接。然而对于颜色维度的一些基本概念，发现直观上能理解个大概，但是准确的定义却没有。我自己也只是通过颜色选择器的 HSL 模式来了解 Hue、Saturation、Lightness 这些概念。&lt;/p&gt;
&lt;h2 id=&quot;参考&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E5%8F%82%E8%80%83&quot; aria-label=&quot;参考 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;参考&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://en.wikipedia.org/wiki/Primary_color&quot;&gt;Primary color&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://en.wikipedia.org/wiki/Additive_color&quot;&gt;Additive color&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://en.wikipedia.org/wiki/Subtractive_color&quot;&gt;Subtractive color&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://en.wikipedia.org/wiki/Secondary_color&quot;&gt;Secondary color&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://en.wikipedia.org/wiki/Color_model&quot;&gt;Color model&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://en.wikipedia.org/wiki/RGB_color_model&quot;&gt;RGB color model&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://en.wikipedia.org/wiki/RGBA_color_space&quot;&gt;RGBA color space&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://en.wikipedia.org/wiki/HSL_and_HSV&quot;&gt;HSL and HSV&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://en.wikipedia.org/wiki/CMYK_color_model&quot;&gt;CMYK color model&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://en.wikipedia.org/wiki/Lab_color_space&quot;&gt;Lab color space&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://en.wikipedia.org/wiki/Color_temperature&quot;&gt;Color temperature&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[使用 npm scripts 作为构建工具]]></title><description><![CDATA[npm scripts 简介 npm scripts 是指Npm 对于文件中属性的处理，通过该属性，npm 可以执行命令。 比如有下面配置： 则，使用终端，在项目目录中执行来执行命令。不过，更常使用的是的简写形式来执行中的命令，即。 实际上，npm…]]></description><link>https://xiaocaoge.com//build-with-npm-scripts/</link><guid isPermaLink="false">https://xiaocaoge.com//build-with-npm-scripts/</guid><category><![CDATA[构建]]></category><category><![CDATA[npm scripts]]></category><category><![CDATA[Grunt]]></category><category><![CDATA[Gulp]]></category><dc:creator><![CDATA[Alex]]></dc:creator><pubDate>Sat, 23 Jul 2016 16:00:00 GMT</pubDate><content:encoded>&lt;h2 id=&quot;npm-scripts&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#npm-scripts&quot; aria-label=&quot;npm scripts permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;npm scripts&lt;/h2&gt;
&lt;h3 id=&quot;简介&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E7%AE%80%E4%BB%8B&quot; aria-label=&quot;简介 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;简介&lt;/h3&gt;
&lt;p&gt;npm scripts 是指Npm 对于&lt;code class=&quot;language-text&quot;&gt;package.json&lt;/code&gt;文件中&lt;code class=&quot;language-text&quot;&gt;&amp;quot;scripts&amp;quot;&lt;/code&gt;属性的处理，通过该属性，npm 可以执行命令。&lt;/p&gt;
&lt;p&gt;比如有下面配置：&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;json&quot;&gt;&lt;pre class=&quot;language-json&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;scripts&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;lint&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;eslint .&quot;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;devDependencies&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;eslint&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;^3.1.1&quot;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;则，使用终端，在项目目录中执行&lt;code class=&quot;language-text&quot;&gt;npm run-script lint&lt;/code&gt;来执行&lt;code class=&quot;language-text&quot;&gt;eslint .&lt;/code&gt;命令。不过，更常使用的是&lt;code class=&quot;language-text&quot;&gt;npm run-script&lt;/code&gt;的简写形式&lt;code class=&quot;language-text&quot;&gt;npm run&lt;/code&gt;来执行&lt;code class=&quot;language-text&quot;&gt;&amp;quot;scripts&amp;quot;&lt;/code&gt;中的命令，即&lt;code class=&quot;language-text&quot;&gt;npm run lint&lt;/code&gt;。&lt;/p&gt;
&lt;p&gt;实际上，npm 执行的命令是&lt;code class=&quot;language-text&quot;&gt;./node_modules/.bin/eslint .&lt;/code&gt;，原因是：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;eslint&lt;/code&gt;包会在项目的&lt;code class=&quot;language-text&quot;&gt;node_modules/.bin&lt;/code&gt;目录下生成一个&lt;code class=&quot;language-text&quot;&gt;eslint&lt;/code&gt;可执行命令，&lt;code class=&quot;language-text&quot;&gt;node_modules/.bin&lt;/code&gt;目录专门用来存放依赖包的可执行命令；&lt;/li&gt;
&lt;li&gt;执行&lt;code class=&quot;language-text&quot;&gt;npm run&lt;/code&gt;时，Npm 会将&lt;code class=&quot;language-text&quot;&gt;node_modules/.bin&lt;/code&gt;加到环境变量&lt;code class=&quot;language-text&quot;&gt;PATH&lt;/code&gt;中;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;内置的-scripts&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E5%86%85%E7%BD%AE%E7%9A%84-scripts&quot; aria-label=&quot;内置的 scripts permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;内置的 scripts&lt;/h3&gt;
&lt;p&gt;npm 为几个最常使用的&lt;code class=&quot;language-text&quot;&gt;scripts&lt;/code&gt;内置了简写命令：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;test：通过&lt;code class=&quot;language-text&quot;&gt;npm test&lt;/code&gt;执行；&lt;/li&gt;
&lt;li&gt;start：通过&lt;code class=&quot;language-text&quot;&gt;npm start&lt;/code&gt;执行；&lt;/li&gt;
&lt;li&gt;stop：通过&lt;code class=&quot;language-text&quot;&gt;npm stop&lt;/code&gt;执行；&lt;/li&gt;
&lt;li&gt;restart：通过&lt;code class=&quot;language-text&quot;&gt;npm restart&lt;/code&gt;执行；&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;pre-和-post-hooks&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#pre-%E5%92%8C-post-hooks&quot; aria-label=&quot;pre 和 post hooks permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;pre 和 post hooks&lt;/h3&gt;
&lt;p&gt;依然以上面的&lt;code class=&quot;language-text&quot;&gt;lint&lt;/code&gt; script 为例，正如名字所示:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;prelint&lt;/code&gt;：在执行&lt;code class=&quot;language-text&quot;&gt;npm run lint&lt;/code&gt;之前执行；&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;postlint&lt;/code&gt;：在执行&lt;code class=&quot;language-text&quot;&gt;npm run lint&lt;/code&gt;之后执行；&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;即执行顺序为：&lt;code class=&quot;language-text&quot;&gt;npm run prelint&lt;/code&gt; -&gt; &lt;code class=&quot;language-text&quot;&gt;npm run lint&lt;/code&gt; -&gt; &lt;code class=&quot;language-text&quot;&gt;npm run postlint&lt;/code&gt;，如果前一个命令执行失败，即退出码（Exit Code）为非 0，则不会继续执行下一个命令。&lt;/p&gt;
&lt;p&gt;比如要在执行代码测试之前先执行&lt;code class=&quot;language-text&quot;&gt;lint&lt;/code&gt;，则可以通过下面配置实现：&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;json&quot;&gt;&lt;pre class=&quot;language-json&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;scripts&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;lint&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;eslint .&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;test&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;mocha test/&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;

    &lt;span class=&quot;token property&quot;&gt;&quot;pretest&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;npm run lint&quot;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;另外 npm 会在执行一些内置命令时，执行其&lt;code class=&quot;language-text&quot;&gt;pre&lt;/code&gt;与&lt;code class=&quot;language-text&quot;&gt;post&lt;/code&gt;命令：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;prepublish：在包发布前执行，可执行测试、构建、修改版本号等任务；&lt;/li&gt;
&lt;li&gt;preinstall：会在包被安装前执行；&lt;/li&gt;
&lt;li&gt;postinstall：会在包安装完成后执行；&lt;/li&gt;
&lt;li&gt;等等&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;更多内置的&lt;code class=&quot;language-text&quot;&gt;pre&lt;/code&gt;和&lt;code class=&quot;language-text&quot;&gt;post&lt;/code&gt;可以参考&lt;a href=&quot;https://docs.npmjs.com/misc/scripts&quot;&gt;官网文档&lt;/a&gt;说明。&lt;/p&gt;
&lt;h3 id=&quot;环境变量&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F&quot; aria-label=&quot;环境变量 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;环境变量&lt;/h3&gt;
&lt;h4 id=&quot;packagejson-相关变量&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#packagejson-%E7%9B%B8%E5%85%B3%E5%8F%98%E9%87%8F&quot; aria-label=&quot;packagejson 相关变量 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;package.json 相关变量&lt;/h4&gt;
&lt;p&gt;如果你的&lt;code class=&quot;language-text&quot;&gt;package.json&lt;/code&gt;文件包含&lt;code class=&quot;language-text&quot;&gt;{ &amp;quot;name&amp;quot;: &amp;quot;foo&amp;quot;, &amp;quot;version&amp;quot;: &amp;quot;1.2.3&amp;quot; }&lt;/code&gt;，则 npm 在 npm scripts 中添加下面两个环境变量：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;npm_package_name&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;npm_package_version&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&quot;自定义环境变量&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E8%87%AA%E5%AE%9A%E4%B9%89%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F&quot; aria-label=&quot;自定义环境变量 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;自定义环境变量&lt;/h4&gt;
&lt;p&gt;可以通过&lt;code class=&quot;language-text&quot;&gt;package.json&lt;/code&gt;中的&lt;code class=&quot;language-text&quot;&gt;&amp;quot;config&amp;quot;&lt;/code&gt;对象自定义一些环境变量，比如：&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;json&quot;&gt;&lt;pre class=&quot;language-json&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;config&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;port&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;8080&quot;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;scripts&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;start&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;node server.js --port ${npm_package_config_port}&quot;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h4 id=&quot;npmlifecycleevent&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#npmlifecycleevent&quot; aria-label=&quot;npmlifecycleevent permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;npm&lt;em&gt;lifecycle&lt;/em&gt;event&lt;/h4&gt;
&lt;p&gt;npm 正在执行哪个 npm script，&lt;code class=&quot;language-text&quot;&gt;npm_lifecycle_event&lt;/code&gt;环境变量值就会设为其值，比如&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;执行&lt;code class=&quot;language-text&quot;&gt;npm start&lt;/code&gt;命令时，则其值为&lt;code class=&quot;language-text&quot;&gt;&amp;quot;start&amp;quot;&lt;/code&gt;；&lt;/li&gt;
&lt;li&gt;执行&lt;code class=&quot;language-text&quot;&gt;npm run build&lt;/code&gt;命令时，其值为&lt;code class=&quot;language-text&quot;&gt;&amp;quot;build&amp;quot;&lt;/code&gt;；&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;从而可以根据该值判断正在执行的命令，然后就可以做不同的事。比如，&lt;code class=&quot;language-text&quot;&gt;npm start&lt;/code&gt;用于生成开发环境版本代码，而&lt;code class=&quot;language-text&quot;&gt;npm run build&lt;/code&gt;用于生成生产环境代码，这就可以在执行构建任务时，通过&lt;code class=&quot;language-text&quot;&gt;npm_lifecycle_event&lt;/code&gt;来判断。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;关于 npm scripts 更多及更详细的使用请参考官方文档：&lt;a href=&quot;https://docs.npmjs.com/misc/scripts#environment&quot;&gt;npm scripts&lt;/a&gt;&lt;/strong&gt;。&lt;/p&gt;
&lt;h2 id=&quot;grunt-vs-gulp-vs-npm-scripts&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#grunt-vs-gulp-vs-npm-scripts&quot; aria-label=&quot;grunt vs gulp vs npm scripts permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Grunt vs Gulp vs npm scripts&lt;/h2&gt;
&lt;p&gt;关于这三者作为构建工具的对比，已经有人说明的很切中要点，也很细致了，流行的两篇文章：&lt;a href=&quot;http://blog.keithcirkel.co.uk/why-we-should-stop-using-grunt/&quot;&gt;Why we should stop using Grunt &amp;#x26; Gulp&lt;/a&gt; 和 &lt;a href=&quot;https://medium.freecodecamp.com/why-i-left-gulp-and-grunt-for-npm-scripts-3d6853dd22b8#.d3jk4vv46&quot;&gt;Why I Left Gulp and Grunt for npm Scripts&lt;/a&gt;。对于文章中的观点，我也很赞同，在此只简单列下文章作者的观点。&lt;/p&gt;
&lt;h3 id=&quot;gulp-与-grunt-的不足&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#gulp-%E4%B8%8E-grunt-%E7%9A%84%E4%B8%8D%E8%B6%B3&quot; aria-label=&quot;gulp 与 grunt 的不足 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Gulp 与 Grunt 的不足&lt;/h3&gt;
&lt;p&gt;总得来说就是 Gulp 与 Grunt 引入了一层复杂但是多余的抽象层，用来抽象直接的构建命令，比如&lt;code class=&quot;language-text&quot;&gt;gulp-uglify&lt;/code&gt;和&lt;code class=&quot;language-text&quot;&gt;grunt-contrib-uglify&lt;/code&gt;用来包装&lt;code class=&quot;language-text&quot;&gt;uglifyjs&lt;/code&gt;命令。这层抽象所建立的插件生态带来了很多问题：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;额外的抽象，带来了额外的学习成本；&lt;/li&gt;
&lt;li&gt;插件依赖作者，无论是插件质量、设计合理性、文档、更新及时性等严重依赖作者自身的水平与投入；&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;为什么 npm scripts 先前使用的人不多？这可能是因为很多人存在对 npm scripts 的误解：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;人们认为 npm scripts 需要熟悉命令行技能；&lt;/li&gt;
&lt;li&gt;人们认为 npm scripts 不够强大；&lt;/li&gt;
&lt;li&gt;人们认为 Gulp 的流（stream）对于快速构建是必须的；&lt;/li&gt;
&lt;li&gt;人们认为 npm scripts 不能跨平台；&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;而真相是：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;npm scripts 并不需要熟悉命令行技能，当然熟悉的话更好；&lt;/li&gt;
&lt;li&gt;npm scripts 可以完成绝大多数 Grunt 与 Gulp 完成的任务，实在不行还可以写 NodeJS 代码来完成；&lt;/li&gt;
&lt;li&gt;因为 npm scripts 在一个 Shell 环境中执行的，而 Shell 天生支持&lt;strong&gt;流&lt;/strong&gt;；&lt;/li&gt;
&lt;li&gt;几个常见的命令操作符&lt;code class=&quot;language-text&quot;&gt;&amp;amp;&amp;amp;&lt;/code&gt;/&lt;code class=&quot;language-text&quot;&gt;&amp;lt;&lt;/code&gt;/&lt;code class=&quot;language-text&quot;&gt;&amp;gt;&lt;/code&gt;/&lt;code class=&quot;language-text&quot;&gt;|&lt;/code&gt;是跨平台的，对于一些 Linux/Mac 中的 Shell 命令可以使用 &lt;a href=&quot;https://www.npmjs.com/package/shelljs&quot;&gt;shelljs&lt;/a&gt; 来实现跨平台；&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;而 npm scripts 的不足是由于&lt;code class=&quot;language-text&quot;&gt;package.json&lt;/code&gt;文件不可以写注释，对于复杂的构建任务，代码可读性很差。这个可以尽量通过贴切的命名，任务细分来减轻。另外就是需要熟悉各构建工具的命令行使用方式。&lt;/p&gt;
&lt;h2 id=&quot;npm-scripts-构建实例&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#npm-scripts-%E6%9E%84%E5%BB%BA%E5%AE%9E%E4%BE%8B&quot; aria-label=&quot;npm scripts 构建实例 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;npm scripts 构建实例&lt;/h2&gt;
&lt;p&gt;关于如何使用 npm scripts 来完成创建的前端开发当中的构建任务，可以参考 &lt;a href=&quot;http://blog.keithcirkel.co.uk/how-to-use-npm-as-a-build-tool/#replacingbuildtools&quot;&gt;How to Use npm as a Build Tool&lt;/a&gt; 一文的教程，以及 github 上面的例子&lt;a href=&quot;https://github.com/keithamus/npm-scripts-example&quot;&gt;npm-scripts-example&lt;/a&gt;。&lt;/p&gt;
&lt;p&gt;总得来说，下面常见的构建任务都可以使用 npm scripts 来完成：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Lint&lt;/li&gt;
&lt;li&gt;CSS 预处理&lt;/li&gt;
&lt;li&gt;ES2015+/React 编译&lt;/li&gt;
&lt;li&gt;JS 依赖打包&lt;/li&gt;
&lt;li&gt;压缩&lt;/li&gt;
&lt;li&gt;合并&lt;/li&gt;
&lt;li&gt;清除文件&lt;/li&gt;
&lt;li&gt;测试&lt;/li&gt;
&lt;li&gt;监听文件改动&lt;/li&gt;
&lt;li&gt;LiveReload&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;后话&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E5%90%8E%E8%AF%9D&quot; aria-label=&quot;后话 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;后话&lt;/h2&gt;
&lt;p&gt;到现在，我还会回想下，为什么 Grunt 与 Gulp 会大火？我觉得是因为前端中存在相当一部分很少接触命令行的开发者，对于 Linux/Mac 的命令行有点儿恐惧而不愿意学习它，另外看到构建工具命令行复杂的参数也会心生退却。个人认为，npm scripts 学习成本并不比 Grunt/Gulp 高，对于熟悉构建工具命令的人来说就更低了。所以，一个东西火，不代表它就是好的解决方案，只是代表很多人在关注和使用罢了。&lt;/p&gt;
&lt;h2 id=&quot;参考&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E5%8F%82%E8%80%83&quot; aria-label=&quot;参考 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;参考&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;官方文档：&lt;a href=&quot;https://docs.npmjs.com/misc/scripts#environment&quot;&gt;npm scripts&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://blog.keithcirkel.co.uk/why-we-should-stop-using-grunt/&quot;&gt;Why we should stop using Grunt &amp;#x26; Gulp&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://medium.freecodecamp.com/why-i-left-gulp-and-grunt-for-npm-scripts-3d6853dd22b8#.d3jk4vv46&quot;&gt;Why I Left Gulp and Grunt for npm Scripts&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://blog.keithcirkel.co.uk/how-to-use-npm-as-a-build-tool/&quot;&gt;How to Use npm as a Build Tool&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://css-tricks.com/why-npm-scripts/&quot;&gt;Why npm Scripts&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[HTML Boolean Attributes]]></title><description><![CDATA[有时在阅读别人的 HTML 代码时，会发现在写//时经常将“选中”状态属性写成/。而我了解到/属性属于布尔属性（Boolean attributes）：即该属性出现表示真值，不出现表示假值，所以完全没必要多敲几个字符。 前几天，我突然发现我没有搞清楚 HTML…]]></description><link>https://xiaocaoge.com//html-boolean-attributes/</link><guid isPermaLink="false">https://xiaocaoge.com//html-boolean-attributes/</guid><category><![CDATA[React]]></category><category><![CDATA[代码风格]]></category><category><![CDATA[Boolean Attributes]]></category><dc:creator><![CDATA[Alex]]></dc:creator><pubDate>Tue, 17 May 2016 16:00:00 GMT</pubDate><content:encoded>&lt;p&gt;有时在阅读别人的 HTML 代码时，会发现在写&lt;code class=&quot;language-text&quot;&gt;&amp;lt;input type=&amp;quot;radio&amp;quot;&amp;gt;&lt;/code&gt;/&lt;code class=&quot;language-text&quot;&gt;&amp;lt;input type=&amp;quot;checkbox&amp;quot;&amp;gt;&lt;/code&gt;/&lt;code class=&quot;language-text&quot;&gt;&amp;lt;option&amp;gt;&lt;/code&gt;时经常将“选中”状态属性写成&lt;code class=&quot;language-text&quot;&gt;checked=&amp;quot;checked&amp;quot;&lt;/code&gt;/&lt;code class=&quot;language-text&quot;&gt;selected=&amp;quot;selected&amp;quot;&lt;/code&gt;。而我了解到&lt;code class=&quot;language-text&quot;&gt;checked&lt;/code&gt;/&lt;code class=&quot;language-text&quot;&gt;selected&lt;/code&gt;属性属于布尔属性（Boolean attributes）：即该属性出现表示&lt;strong&gt;真值&lt;/strong&gt;，不出现表示&lt;strong&gt;假值&lt;/strong&gt;，所以完全没必要多敲几个字符。&lt;/p&gt;
&lt;p&gt;前几天，我突然发现我没有搞清楚 HTML 布尔属性假如有值的话，哪些是合法值，我竟然认为&lt;strong&gt;空字符串&lt;/strong&gt;和&lt;code class=&quot;language-text&quot;&gt;&amp;quot;false&amp;quot;&lt;/code&gt;表示&lt;strong&gt;假值&lt;/strong&gt;，然后看规范才明白不是这样。&lt;/p&gt;
&lt;h2 id=&quot;html-布尔属性（boolean-attributes）&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#html-%E5%B8%83%E5%B0%94%E5%B1%9E%E6%80%A7%EF%BC%88boolean-attributes%EF%BC%89&quot; aria-label=&quot;html 布尔属性（boolean attributes） permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;HTML 布尔属性（Boolean attributes）&lt;/h2&gt;
&lt;p&gt;&lt;a href=&quot;https://html.spec.whatwg.org/multipage/infrastructure.html#boolean-attributes&quot;&gt;HTML5 规范&lt;/a&gt;说：&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;... A number of attributes are boolean attributes. The presence of a boolean attribute on an element represents the true value, and the absence of the attribute represents the false value.&lt;/p&gt;
&lt;p&gt;If the attribute is present, its value must either be the empty string or a value that is an ASCII case-insensitive match for the attribute&apos;s canonical name, with no leading or trailing whitespace.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;以及：&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;The values &quot;true&quot; and &quot;false&quot; are not allowed on boolean attributes. To represent a false value, the attribute has to be omitted altogether.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;所以，如果要表示&lt;code class=&quot;language-text&quot;&gt;&amp;lt;input type=&amp;quot;checkbox&amp;quot;&amp;gt;&lt;/code&gt;选中的写法有：&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;input&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;checkbox&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;checked&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;input&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;checkbox&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;checked&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;checked&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;input&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;checkbox&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;checked&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;如果表示不选中，则不能出现&lt;code class=&quot;language-text&quot;&gt;checked&lt;/code&gt;属性：&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;input&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;checkbox&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;个人对于空字符串可作为合法值不太赞同，感觉会给人一种不选中的误导。&lt;/p&gt;
&lt;h2 id=&quot;code-classlanguage-textcheckedcode与code-classlanguage-textcheckedquotcheckedquotcode区别&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#code-classlanguage-textcheckedcode%E4%B8%8Ecode-classlanguage-textcheckedquotcheckedquotcode%E5%8C%BA%E5%88%AB&quot; aria-label=&quot;code classlanguage textcheckedcode与code classlanguage textcheckedquotcheckedquotcode区别 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;code class=&quot;language-text&quot;&gt;checked&lt;/code&gt;与&lt;code class=&quot;language-text&quot;&gt;checked=&amp;quot;checked&amp;quot;&lt;/code&gt;区别&lt;/h2&gt;
&lt;p&gt;在 W3C 的 &lt;a href=&quot;https://www.w3.org/TR/html401/intro/sgmltut.html#h-3.3.4.2&quot;&gt;HTML 4.01 规范&lt;/a&gt;中已经有 Boolean attributes 的说明，里面提到了：&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Authors should be aware that many user agents only recognize the minimized form of boolean attributes and not the full form.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;当然，现在主流的浏览器都支持&lt;code class=&quot;language-text&quot;&gt;checked=&amp;quot;checked&amp;quot;&lt;/code&gt;这种写法的，所以实际使用效果没有区别。&lt;/p&gt;
&lt;p&gt;其区别主要在于：&lt;code class=&quot;language-text&quot;&gt;checked&lt;/code&gt;字符少，简洁直观；而使用&lt;code class=&quot;language-text&quot;&gt;checked=&amp;quot;checked&amp;quot;&lt;/code&gt;的理由主要是在 XHTML 中，只写&lt;code class=&quot;language-text&quot;&gt;checked&lt;/code&gt;不合法，但是我们通常是在写 HTML5，所以没什么理由写&lt;code class=&quot;language-text&quot;&gt;checked=&amp;quot;checked&amp;quot;&lt;/code&gt;。&lt;/p&gt;
&lt;h2 id=&quot;布尔属性（boolean-attributes）列表&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E5%B8%83%E5%B0%94%E5%B1%9E%E6%80%A7%EF%BC%88boolean-attributes%EF%BC%89%E5%88%97%E8%A1%A8&quot; aria-label=&quot;布尔属性（boolean attributes）列表 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;布尔属性（Boolean attributes）列表&lt;/h2&gt;
&lt;p&gt;截止该文章书写时有 39 个：&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;allowFullscreen
async
autofocus
autoplay
checked
compact
controls
declare
default
defaultChecked
defaultMuted
defaultSelected
defer
disabled
draggable
enabled
formNoValidate
hidden
imageSmoothingEnabled
indeterminate
isMap
loop
multiple
muted
noHref
noResize
noShade
noValidate
noWrap
open
pauseOnExit
readOnly
required
reversed
selected
spellcheck
translate
trueSpeed
typeMustMatch&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;上面列表获取方法：WHATWG HTML 规范在 Github 上面的仓库（&lt;a href=&quot;https://github.com/whatwg/html&quot;&gt;https://github.com/whatwg/html&lt;/a&gt;）&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;shell&quot;&gt;&lt;pre class=&quot;language-shell&quot;&gt;&lt;code class=&quot;language-shell&quot;&gt;&lt;span class=&quot;token function&quot;&gt;git&lt;/span&gt; clone https://github.com/whatwg/html
&lt;span class=&quot;token builtin class-name&quot;&gt;cd&lt;/span&gt; html
&lt;span class=&quot;token comment&quot;&gt;# cat source | grep &quot;attribute boolean&quot; 之后手工处理，或执行下面代码&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;cat&lt;/span&gt; &lt;span class=&quot;token builtin class-name&quot;&gt;source&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;grep&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;attribute boolean&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;grep&lt;/span&gt; -v &lt;span class=&quot;token string&quot;&gt;&quot;readonly attribute boolean&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;grep&lt;/span&gt; -oE &lt;span class=&quot;token string&quot;&gt;&quot;&lt;span class=&quot;token entity&quot; title=&quot;\&amp;quot;&quot;&gt;\&quot;&lt;/span&gt;&gt;[A-Za-z]{1,}&amp;lt;/span&gt;&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;awk&lt;/span&gt; -F&lt;span class=&quot;token string&quot;&gt;&apos;&gt;|&amp;lt;&apos;&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;{print &lt;span class=&quot;token variable&quot;&gt;$2&lt;/span&gt;}&apos;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;sort&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;uniq&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=&quot;boolean-attributes-in-react&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#boolean-attributes-in-react&quot; aria-label=&quot;boolean attributes in react permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Boolean attributes in React&lt;/h2&gt;
&lt;p&gt;&lt;a href=&quot;https://facebook.github.io/react/index.html&quot;&gt;React&lt;/a&gt; 的 JSX 语法与 HTML 有所不同，在 JSX 中，可以传入&lt;code class=&quot;language-text&quot;&gt;true&lt;/code&gt;表示设置该布尔属性，传入&lt;code class=&quot;language-text&quot;&gt;false&lt;/code&gt;表示不设置该属性，如：&lt;/p&gt;
&lt;p&gt;表示选中复选框：&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre class=&quot;language-jsx&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;input&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;checkbox&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;checked&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;input&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;checkbox&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;checked&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;表示不选中复选框：&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre class=&quot;language-jsx&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;input&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;checkbox&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;input&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;checkbox&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;checked&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=&quot;参考&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E5%8F%82%E8%80%83&quot; aria-label=&quot;参考 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;参考&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://html.spec.whatwg.org/multipage/infrastructure.html#boolean-attributes&quot;&gt;Boolean attributes&lt;/a&gt; in WHATWG HTML Specification.&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.w3.org/TR/html401/intro/sgmltut.html#h-3.3.4.2&quot;&gt;Boolean attributes&lt;/a&gt; in W3C HTML 4.01.&lt;/li&gt;
&lt;li&gt;WHATWG HTML Specification Source: &lt;a href=&quot;https://github.com/whatwg/html&quot;&gt;https://github.com/whatwg/html&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;@mdo&apos;s &lt;a href=&quot;http://codeguide.co/#html-boolean-attributes&quot;&gt;code guide&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[使用 Server-Sent Events]]></title><description><![CDATA[最近在做一个需要不断更新状态的功能时，简单对比了下轮询、Comet、SSEs（Server-Sent Events）以及 WebSocket 几种方案之后，选择了实现起来简单的 SSEs…]]></description><link>https://xiaocaoge.com//server-sent-events/</link><guid isPermaLink="false">https://xiaocaoge.com//server-sent-events/</guid><category><![CDATA[SSE]]></category><category><![CDATA[Server Push]]></category><dc:creator><![CDATA[Alex]]></dc:creator><pubDate>Sat, 07 May 2016 16:00:00 GMT</pubDate><content:encoded>&lt;p&gt;最近在做一个需要不断更新状态的功能时，简单对比了下轮询、Comet、SSEs（Server-Sent Events）以及 WebSocket 几种方案之后，选择了实现起来简单的 SSEs 方案。如果不是之前听同事介绍过，恐怕不知道何时才能了解这种技术，我发现这个实现简单的技术在网上的资源并不是很多，看过的几篇文章是三五年前写的。在实际的使用过程中加深了其设计的理解以及踩了一些坑。&lt;/p&gt;
&lt;h2 id=&quot;为什么选用-server-sent-events&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E4%B8%BA%E4%BB%80%E4%B9%88%E9%80%89%E7%94%A8-server-sent-events&quot; aria-label=&quot;为什么选用 server sent events permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;为什么选用 Server-Sent Events&lt;/h2&gt;
&lt;p&gt;关于 SSEs 的简单使用可以参考 &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/API/Server-sent_events/Using_server-sent_events&quot;&gt;Using server-sent events&lt;/a&gt;，详细的介绍可以阅读 &lt;a href=&quot;http://www.html5rocks.com/en/tutorials/eventsource/basics/&quot;&gt;Stream Updates with Server-Sent Events&lt;/a&gt;。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;轮询&lt;/strong&gt;作为一种经典的数据更新技术，通过不断发送 AJAX 请求来实现，其明显的缺点有：一是发送无用的请求；二是服务端数据更新时，客户端不能即时更新。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Comet&lt;/strong&gt;是轮询的升级版，避免了其明显的两个缺点，但与 SSEs 相比较还是存在缺点，其实现方式比较 Hack，而且不是浏览器厂商特意设计出来的，对连接错误处理不可靠。详细介绍可参考 &lt;a href=&quot;http://www.ibm.com/developerworks/library/wa-reverseajax1/&quot;&gt;Reverse Ajax, Part 1: Introduction to Comet&lt;/a&gt;。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;WebSocket&lt;/strong&gt;是专门用来实现双通道通信的，对于只需要服务端更新数据的应用来说有点儿杀鸡用牛刀的意思，而且其实现比较复杂，需要服务器支持。而 SSEs 不需要服务器做特殊处理，同时 IE8+ 及现代浏览器都支持或有兼容性方案。&lt;/p&gt;
&lt;p&gt;可能还有一个选择 SSEs 的原因，我想尝试下这种技术。&lt;/p&gt;
&lt;h2 id=&quot;接口&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E6%8E%A5%E5%8F%A3&quot; aria-label=&quot;接口 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;接口&lt;/h2&gt;
&lt;p&gt;浏览器端通过全局的 &lt;strong&gt;&lt;a href=&quot;https://html.spec.whatwg.org/multipage/comms.html#the-eventsource-interface&quot;&gt;EventSource&lt;/a&gt;&lt;/strong&gt; 构造函数来创建到服务端的 SSEs 连接。&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; ev &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;EventSource&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;/sseapi&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;默认情况下请求遵循同源策略，如果要建立跨域连接，需要设置第二个参数：&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; ev &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;EventSource&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;//api.domain.com/sse&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; withCredentity&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id=&quot;兼容性方案&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E5%85%BC%E5%AE%B9%E6%80%A7%E6%96%B9%E6%A1%88&quot; aria-label=&quot;兼容性方案 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;兼容性方案&lt;/h3&gt;
&lt;p&gt;&lt;a href=&quot;http://caniuse.com/#feat=eventsource&quot;&gt;Can I Use&lt;/a&gt; 显示主要 IE 及 Android 2.1~4.3 是不支持 EventSource。&lt;/p&gt;
&lt;p&gt;尽管&lt;a href=&quot;https://github.com/Modernizr/Modernizr/wiki/HTML5-Cross-Browser-Polyfills#eventsource&quot;&gt;这里&lt;/a&gt;列出了多个 Polyfills，但是从最近提交记录、测试等考量后，自己选用了 &lt;a href=&quot;https://github.com/amvtek/EventSource&quot;&gt;https://github.com/amvtek/EventSource&lt;/a&gt;，支持 IE8+ 及 Android Browser 2.1+。&lt;/p&gt;
&lt;h2 id=&quot;实例&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E5%AE%9E%E4%BE%8B&quot; aria-label=&quot;实例 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;实例&lt;/h2&gt;
&lt;h3 id=&quot;浏览器端&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E6%B5%8F%E8%A7%88%E5%99%A8%E7%AB%AF&quot; aria-label=&quot;浏览器端 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;浏览器端&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;sse-example.html&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token doctype&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;!&lt;/span&gt;&lt;span class=&quot;token doctype-tag&quot;&gt;DOCTYPE&lt;/span&gt; &lt;span class=&quot;token name&quot;&gt;html&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;html&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;head&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;meta&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;charset&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;utf-8&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;title&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;Server-Sent Events Example&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;title&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;style&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token style&quot;&gt;&lt;span class=&quot;token language-css&quot;&gt;
    &lt;span class=&quot;token selector&quot;&gt;form&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;font-size&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 16px&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;margin-bottom&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 1em&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token selector&quot;&gt;button&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;font-size&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 16px&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;cursor&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; pointer&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;style&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;head&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;body&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;form&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;button&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;button&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;close&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;关闭连接&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;button&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;form&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;message&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;result&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;

  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;script&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token script&quot;&gt;&lt;span class=&quot;token language-javascript&quot;&gt;
  &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; ev &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;EventSource&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;/sseapi&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;// 打印`ev`&lt;/span&gt;
  console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;ev:&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; ev&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  ev&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;addEventListener&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;message&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

    &lt;span class=&quot;token comment&quot;&gt;// 打印事件对象`e`&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;e:&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; e&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; message &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getElementById&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;message&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    message&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;innerHTML &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; e&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  ev&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;addEventListener&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;init&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; result &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getElementById&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;result&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; data &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;JSON&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;parse&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;e&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    result&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;innerHTML &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;&amp;lt;p&gt;Username: &amp;lt;span id=&quot;username&quot;&gt;&apos;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;
                      data&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;username &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;&amp;lt;/span&gt;&amp;lt;br&gt;&apos;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;
                      &lt;span class=&quot;token string&quot;&gt;&apos;Score: &amp;lt;span id=&quot;score&quot;&gt;&apos;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;
                      data&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;score &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;&amp;lt;/span&gt;&amp;lt;/p&gt;&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  ev&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;addEventListener&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;update&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; data &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;JSON&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;parse&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;e&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; score &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getElementById&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;score&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    score&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;innerHTML &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; data&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;score&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  ev&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;addEventListener&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;open&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;Connection was opened.&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  ev&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;addEventListener&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;error&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;error&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;Connection came across an error.&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; closeBtn &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getElementById&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;close&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  closeBtn&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;addEventListener&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;click&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    ev&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;close&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;EventSource was closed.&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;ev:&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; ev&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;script&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;body&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;html&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id=&quot;服务端&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E6%9C%8D%E5%8A%A1%E7%AB%AF&quot; aria-label=&quot;服务端 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;服务端&lt;/h3&gt;
&lt;p&gt;使用 NodeJS 及 Express 实现。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;sse-server.js&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; express &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;express&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; app &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;express&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;PORT&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;8020&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// Serve static file sse-example.html&lt;/span&gt;
app&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;/&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;req&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; res&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; next&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; fileName &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;sse-example.html&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  res&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;sendFile&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;fileName&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; root&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; __dirname &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;err&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;err&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;err&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      res&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;status&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;err&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;status&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;end&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;Sent: &apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; fileName&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// Server-sent events api&lt;/span&gt;
app&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;/sseapi&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;req&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; res&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; next&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;// 设置 HTTP Status Code 与 HTTP Headers&lt;/span&gt;
  res&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;writeHead&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;200&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    Connection&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;keep-alive&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&apos;Content-Type&apos;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;text/event-stream&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&apos;Cache-Control&apos;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;no-cache&apos;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;// 设定浏览器在连接断开后延迟多长时间重新建立连接&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// 通过 retry 字段控制，其单位为毫秒&lt;/span&gt;
  res&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;write&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;retry: 10000\n&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;// 通过 data 字段发送所要传输的数据，冒号后面的空格字符被忽略，&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// 必须以两个换行符结尾才会发送一个 Event&lt;/span&gt;
  res&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;write&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;data: Test default event name\n\n&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; score &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;// 如果不指定 event，其默认为 &quot;message&quot;，即客户端需要监听的事件名称&lt;/span&gt;
  res&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;write&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;event: init\n&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  res&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;write&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;data: {&quot;username&quot;: &quot;Alex Chao&quot;, &quot;score&quot;: &apos;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; score &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos; }\n\n&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  res&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;flushHeaders&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; timerId &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;setInterval&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    score&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    res&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;write&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;event: update\n&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    res&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;write&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;data: { &quot;score&quot;: &apos;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; score &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos; }\n\n&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    res&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;flushHeaders&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;3000&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;// 连接关闭后清除定时器&lt;/span&gt;
  req&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;connection&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;on&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;close&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;Connection was closed.&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;clearInterval&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;timerId&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

app&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;listen&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;PORT&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;Server listening on: http://127.0.0.1:%s&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;PORT&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/Alex1990/sse-example&quot;&gt;Github 下载代码&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&quot;注意事项&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9&quot; aria-label=&quot;注意事项 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;注意事项&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;服务端在连接关闭后应该中止任务，防止可能的内存泄露。&lt;/li&gt;
&lt;li&gt;如果浏览器到服务器端存在代理，则代理服务器转发 HTTP chunk 时可能会出现问题，比如 Nginx 会立即将接受到的数据包转发出去，此时可配置&lt;code class=&quot;language-text&quot;&gt;proxy_buffer off;&lt;/code&gt;，可参考 &lt;a href=&quot;http://stackoverflow.com/questions/13672743/eventsource-server-sent-events-through-nginx&quot;&gt;EventSource/Server-Sent Events through Nginx&lt;/a&gt;。&lt;/li&gt;
&lt;li&gt;网上有提到某些杀毒软件会阻止 event streaming data chunks，我是用的 OSX 系统安装了 Microsoft Endpoint Protection，没有发现有影响。&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;参考&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E5%8F%82%E8%80%83&quot; aria-label=&quot;参考 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;参考&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/API/Server-sent_events/Using_server-sent_events&quot;&gt;Using server-sent events&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.ibm.com/developerworks/library/wa-reverseajax1/&quot;&gt;Reverse Ajax, Part 1: Introduction to Commet&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.html5rocks.com/en/tutorials/eventsource/basics/&quot;&gt;Stream Updates with Server-Sent Events&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://html.spec.whatwg.org/multipage/comms.html#server-sent-events&quot;&gt;Serve-sent events specification&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://caniuse.com/#feat=eventsource&quot;&gt;Server-sent events support&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[2015 年终总结]]></title><description><![CDATA[本文写于 2017 年 1 月 8 日 22 点 201…]]></description><link>https://xiaocaoge.com//2015-summary/</link><guid isPermaLink="false">https://xiaocaoge.com//2015-summary/</guid><category><![CDATA[2015]]></category><category><![CDATA[年终总结]]></category><dc:creator><![CDATA[Alex]]></dc:creator><pubDate>Wed, 30 Dec 2015 16:00:00 GMT</pubDate><content:encoded>&lt;p&gt;&lt;strong&gt;本文写于 2017 年 1 月 8 日 22 点&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;2015 年，从南方回到了北方，从卓博进了滴滴。&lt;/p&gt;
&lt;h2 id=&quot;卓博&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E5%8D%93%E5%8D%9A&quot; aria-label=&quot;卓博 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;卓博&lt;/h2&gt;
&lt;h3 id=&quot;同事&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E5%90%8C%E4%BA%8B&quot; aria-label=&quot;同事 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;同事&lt;/h3&gt;
&lt;p&gt;好吧，想半天，却不知从何说起，还是直说本职工作方面吧。记得我刚进来时，有五个前端，相对来说，前端团队还是挺强大的。但是，我进来后，陆陆续续走了三个，其他后端人员也有离职的，以至于我都怀疑和我进来有什么关系了。想想，这也是正常的人事波动吧，有聚也有散。虽然同事之间极少聚餐，或组织其他活动，但是工作相处还是挺融洽的，经理人也不错，分配任务之后不会太催。行政和前台MM，办事问问题都是态度不错的，因我为了办户口和档案没少找她们，财务方面的一位上了年纪的阿姨反而态度不大好。&lt;/p&gt;
&lt;p&gt;至于老板，我也接触不到，不过有两事情：&lt;/p&gt;
&lt;p&gt;第一件事，春节前的公司晚会上面，老板发表了一顿讲话，鼓励下公司员工，展望下未来，说要从东莞地区性人才网站发展为广东全省，尤以深圳广州为主。那时，我早已了解了新兴的拉勾、内推网、猎聘网等人才招聘网站，然后根据我自己对本公司研发的了解，想要发展为深圳和广州还是很困难的。公司的研发节奏太慢了，说实话适合本地人养老。好吧，就此打住，免得我一个小小的码农又要对公司发展大计品头论足了。&lt;/p&gt;
&lt;p&gt;第二件事，公司首页改版的时候，我不明白为什么产品经理老是问老板的，还是老板主动对首页该如何设计进行指点。觉得改版之后还不如之前呢，但是个人却无可奈何，反倒是我们的竞争对手：智通人才网，我觉得发展愈来愈好了。&lt;/p&gt;
&lt;p&gt;当然，我个人持悲观态度，但是我也明白，这年头全靠同行衬托，好多其他互联网公司各种奇葩事不会少。比如我都无意中发现两三家盗取我们公司源码的网站了，就是看源码 99% 可以确定的那种，这些盗取源码的还是高度怀疑前同事。这使得我对他人的平均职业道德水准期望降了一大截，真是世风日下啊。&lt;/p&gt;
&lt;h3 id=&quot;工作内容&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E5%B7%A5%E4%BD%9C%E5%86%85%E5%AE%B9&quot; aria-label=&quot;工作内容 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;工作内容&lt;/h3&gt;
&lt;p&gt;公司前端分成了写页面的（HTML+CSS）和写 JS 的，我写 JS 的，所以本来就不算强的 CSS 水平日渐低下了。从进入公司有一半时间都在做一些小的功能添加或维护性工作，剩下时间主要做了：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;首页搜索框推荐&lt;/li&gt;
&lt;li&gt;触屏版职位推荐设置&lt;/li&gt;
&lt;li&gt;微信活动页&lt;/li&gt;
&lt;li&gt;个人和企业登录与注册页面&lt;/li&gt;
&lt;li&gt;验证码生成优化&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;然后快离职时做了一些优化性的工作，写了两个 Grunt 插件用于构建，优化了一个常用函数库&lt;code class=&quot;language-text&quot;&gt;util.js&lt;/code&gt;中的一些方法。&lt;/p&gt;
&lt;p&gt;其实从以前的代码（我来之前别人写的）当中还是学到一些东西的，大部分 UI 组件都是自己公司写的，读下他们的代码，了解下他们是如何设计一个 UI 组件的。还学到了如何组织代码，其实就是简单的目录结构，但是一些没经验的人这都做不好，我们当时的代码组织结构大概就是三类：jQuery 和第三方组件、自写组件和业务组件，然后使用 SeaJS 作为模块管理工具。另外一点儿就是从&lt;code class=&quot;language-text&quot;&gt;util.js&lt;/code&gt;当中学到了一些有用的工具函数如何写的：&lt;code class=&quot;language-text&quot;&gt;isObject&lt;/code&gt;/&lt;code class=&quot;language-text&quot;&gt;isString&lt;/code&gt;/&lt;code class=&quot;language-text&quot;&gt;map&lt;/code&gt;/&lt;code class=&quot;language-text&quot;&gt;filter&lt;/code&gt;/&lt;code class=&quot;language-text&quot;&gt;min&lt;/code&gt;/&lt;code class=&quot;language-text&quot;&gt;max&lt;/code&gt;等借鉴自 underscore 的方法、常见正则写法、Cookie、input 事件、escapeHTML、字符串长度计算等等。&lt;/p&gt;
&lt;h3 id=&quot;招聘&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E6%8B%9B%E8%81%98&quot; aria-label=&quot;招聘 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;招聘&lt;/h3&gt;
&lt;p&gt;这个是 2014 年下半年的事，现在补上。我入职后三个月走了三个前端，尽管我和另一个前端还能够忙得过来，不过经理还是要招聘一个。但是招聘了好长时间都招聘不到，大部分人都几乎没有前端基础，而有几个经验丰富的我们无法满足待遇要求。有一天，本来是另一个前端负责面试的，但是他请假几天，然后经理安排我去面试两个候选人。具体面试过程我忘记了，反正就是东莞本地刚毕业的学生，大学和我一样光顾着玩了，临毕业了跟着老师做个毕业设计，其他什么作品都没有，问了几个基础的前端问题，一个都不会，我便打发走了。其他一些候选人简历我看过一些，甚至我自己去网站上面捞人，都没有几个合适的，实在有点儿对不起一个人才招聘网站啊。幸好，经过差不多两个月等待，终于有一个我们两个前端都心仪的候选人来了，整过 github，写过小的 nodejs，有一年工作经验，这已经算是东莞很好的候选人了，后来也招聘进来了，是个爱学习的孩子。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;对于招聘，我有点儿浅见：&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;首先，不是老大钦定你作为面试官，你就是个合格的面试官了，还是需要学习如何出题、如何评价的，而且随着经验积累、阅历增加，也是需要不断学习如何面试候选人的。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;笔试&lt;/strong&gt;，往往作为第一个环节，我觉得需要结合公司的吸引力、岗位需求和技术的发展，必须&lt;strong&gt;亲自&lt;/strong&gt;准备一个笔试题库，也可以避免一些刷题者。像我当时的公司没必要弄些太偏太难的题，根本就用不到，面试官自己都没搞清楚，我个人倾向出一套覆盖全面的基础试卷。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;面试&lt;/strong&gt;，网上也说了最好能使用刨根问底或发散型方式问问题，一来避免死记硬背者，二来能了解候选人深度。另外，我还有两个看法：一是面试的环境可能影响候选人的发挥，最好能贴近实际工作环境，用电脑写代码，甚至提前给出几天时间来写；二是很多技术都只是加分项，可以折算成学习天数，比如 Git/Grunt/Gulp 这些工具一天上手，而 ES6 或 Angular/React 之类的框架可能要多花几天才能上手，除非掌握熟练，否则都只是一点儿加分项，而前端的基础 HTML/CSS/JavaScript 应该是必需项。当然，面试还应该考察一些软性的能力，思维如何、是否好相处等等。&lt;/p&gt;
&lt;p&gt;最后，很多企业，小企业尤其多见，对于网上发出的招聘要求也是很不负责任，要么东拼西凑出来一些，要么万年不更新，多个不同方向前端职位要求一样，又有一些明明不需要多高级的人，还非要把招聘要求写得很高，真的降低招聘效率。&lt;/p&gt;
&lt;h2 id=&quot;换工作准备&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E6%8D%A2%E5%B7%A5%E4%BD%9C%E5%87%86%E5%A4%87&quot; aria-label=&quot;换工作准备 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;换工作准备&lt;/h2&gt;
&lt;p&gt;首先，一件必须完成的事是把户口从东莞迁回家，这事比我期望的时间要长，前前后后一个月才搞定，以至于我离职的计划后推了一个月。&lt;/p&gt;
&lt;p&gt;因我家在河北邯郸，父母年事已高，我的同学又以北方居多，北方的城市只能选择北京了，尽管我爸告诉我算命的说我在北京事业发展不行，宜南下。但是像我这样有着马列信仰的人自然对这些算命的嗤之以鼻，不予理睬的，更有一种偏向虎山行的壮志。一开始我打算进行电话面试，在到北京前就找到工作的，但是准备面试的过程是一直延长的，最后到了北京还怕自己能力不行，想着得刷些面试题再去。&lt;/p&gt;
&lt;p&gt;在北京，我是先住在一读研的朋友 S 那里，准备了十多天我才开始投简历面试。一共面试了两家：滴滴和优酷。&lt;/p&gt;
&lt;p&gt;滴滴，当时在上地地铁站的上地佳园附近面试的，三个人面试了我，连等再面试，花了一个下午。当然，我回答不好的几个问题印象还是比较深刻的，其中有个算法问题：就是用两个栈模拟一个队列。我当时除了暴力直接的方法怎么也想不出来，后来回到住处有了电脑反而试了一会儿就想起来了。&lt;/p&gt;
&lt;p&gt;优酷，一面我印象深的是有个问题我觉得面试官错了，我还再三和他确认问题了，结果他总是不同意我，我当时有点儿生气说话也变得激动起来说“不信现在就可以拿电脑来试”，后来不了了之了。这个给我留的印象很不好，当然面试官难免有些知识盲点，不多谈。第二面是电话面试，似乎是个比较高级的前端，问到一些基础的 JavaScript 问题时，我有个回答错了，因为一直使用&lt;code class=&quot;language-text&quot;&gt;===&lt;/code&gt;比较，竟然忘记了&lt;code class=&quot;language-text&quot;&gt;==&lt;/code&gt;在比较不同数据类型的情况了。有几个错误的情况，我记忆似乎告诉我是对的，竟然还回答十分坚决，面试官也没有反（打）驳（脸），感觉好丢人。&lt;/p&gt;
&lt;p&gt;两家都表示想要我的意愿，因我急早接受了滴滴的 Offer，而且综合比较觉得优酷给不出更好的条件了，就早早到滴滴上班去了。另外，读研的朋友也准备回家了，我待了半个月也是麻烦他了。&lt;/p&gt;
&lt;h2 id=&quot;滴滴&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E6%BB%B4%E6%BB%B4&quot; aria-label=&quot;滴滴 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;滴滴&lt;/h2&gt;
&lt;p&gt;工作部门是滴滴运维组，工作内容是运维平台前端，我和另外一个比我早来的负责前端。当时一入职就是运维平台改版，两天之后就开干，然后每天加班加点儿花了大概一两个星期赶出来了，感觉抵得上我在上一家工作半年的任务量了。&lt;/p&gt;
&lt;p&gt;现在又记不清楚刚进来那半年做得什么内容了，印象最深的就两件事：一是写了 Modal、Popover、Tooltip 三个组件替代了 Layer，因为 Layer 不好看，某些功能不符合要求；二是写了一个用于模拟后端 API 的 Mock Server，因为当时后端的测试服务老是挂，而且返回的数据还不能由自己操控，特别是开发新功能时。Mock Server 的一个难点就是读取目录所有文件构造一个树，并实现增删改查功能。当时用了现成的 Npm 包用于文件系统遍历，发现性能都不行，就只好自己学了下树的遍历算法实现了一个。&lt;/p&gt;
&lt;p&gt;很快就到年底了，然而年会估计 15% 的高额中奖率和我没有什么关系，作为一个已经不能靠脸生活了的人，难道注定不能靠运气了吗。&lt;/p&gt;
&lt;h2 id=&quot;家里&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E5%AE%B6%E9%87%8C&quot; aria-label=&quot;家里 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;家里&lt;/h2&gt;
&lt;p&gt;刚入职滴滴不到一个月，家里就传来父亲病重入院的消息，我请了三天假回家。仔细了解病情后，得知已经接近晚期了，只能维持一段时间了。是的，从大三病情上来之后，几乎每年都会住院，只是病情越来越重。这次必须做一种手术才能维持个半年到一年，如果不做，则随时都可能因为大出血而死。近几天，父母执意要为我盖房子（这点儿我不赞同，因为我不打算回家生活的)，导致家里也没有太多钱，加上我刚发的工资和借的钱，凑够了手术费。&lt;/p&gt;
&lt;p&gt;另外就是，这是我第一次参与照顾病人，发现是很劳心劳累的，发现得两三个人才能照顾的了。首先需要 24 小时看着，这就得两人交替，就这还是经常睡眠不足的。还因为行动力受限，在换一次性尿布或翻身时需要两个人才能照顾的了。真的，照顾生病的老人其实比小孩要辛苦得多，我爸本来脾气就不好，生病时期就更不会好了。&lt;/p&gt;
&lt;p&gt;根据我医院所见以及听父母八卦的，再加上儿时姥姥生病的状况，我个人认为女儿在照顾生病的老人时出力更多，当然要是有人说儿子出钱更多的，那我反而听到见到很多女儿儿子出一样钱，而且还都不大乐意的。所以我对于上一辈的重男轻女思维不是很理解，养女儿防老也比养儿子强。那又有人说，老人一直在儿子家住着呢，我却发现房子地全是从老人继承而来的，父母的付出其实远远比当孩子的付出要多。当然，各家的家庭情况也是千差万别，我只说我见到的一种现象。&lt;/p&gt;
&lt;p&gt;人老了，基本都会生病的，只是轻重急慢而已，即使成年人很多也都是各种小慢性病的。想到自己老时，我是想来个痛痛快快地结束的，查了安乐死，发现是不合法的，也确实不能合法，否则不知道多少老人被安乐死。&lt;/p&gt;</content:encoded></item><item><title><![CDATA[变量命名]]></title><description><![CDATA[…]]></description><link>https://xiaocaoge.com//naming-variable/</link><guid isPermaLink="false">https://xiaocaoge.com//naming-variable/</guid><category><![CDATA[变量名]]></category><category><![CDATA[名字]]></category><category><![CDATA[可读性]]></category><dc:creator><![CDATA[Alex]]></dc:creator><pubDate>Fri, 20 Nov 2015 16:00:00 GMT</pubDate><content:encoded>&lt;p&gt;我想有点儿代码洁癖的人，在编写代码的过程中，或多或少地想过“如何给一个变量起一个好名？”的问题。然而，一般的编程书或代码规范都不会详细地讲这个问题，也就是一两句话带过。比如全局变量或常量全大写字母，变量名采用小驼峰。这里不仅指变量命名，还有函数或方法名、常量名、类名、对象名、文件名等。我以前也多次思考过如何缩写变量名，发现不少人采用取辅音字母方法不错，然而没有深入学习过如何给变量命名，经常起变量名时比较纠结。直到读了《代码大全》的“变量名的力量”一章发现这正是我一直想读而未读的内容，也将我以前学习的有关变量命名的内容串联起来了。&lt;/p&gt;
&lt;h2 id=&quot;为什么要起一个好的名字？&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E8%B5%B7%E4%B8%80%E4%B8%AA%E5%A5%BD%E7%9A%84%E5%90%8D%E5%AD%97%EF%BC%9F&quot; aria-label=&quot;为什么要起一个好的名字？ permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;为什么要起一个好的名字？&lt;/h2&gt;
&lt;p&gt;如果代码只是一个人写，如果代码写完之后再也不看了，那起一个好的名字并不是必需的事情。然后很多情况下，不仅别人会看我们的代码，写完之后我们还会阅读自己的代码。这个时候就需要有变量命名方面的统一风格，对于那些几十上百人合作的大型多语言项目，命名方面需要规定的更细致。&lt;/p&gt;
&lt;h2 id=&quot;命名注意事项&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E5%91%BD%E5%90%8D%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9&quot; aria-label=&quot;命名注意事项 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;命名注意事项&lt;/h2&gt;
&lt;p&gt;《代码大全》给出了多条命名时考虑的问题及指导建议，其中不少我都考虑过，然后都是零碎地思考过。&lt;/p&gt;
&lt;h3 id=&quot;最重要的注意事项&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E6%9C%80%E9%87%8D%E8%A6%81%E7%9A%84%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9&quot; aria-label=&quot;最重要的注意事项 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;最重要的注意事项&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;变量名应该准确地反映出它所代表的事物&lt;/strong&gt;，由于自己英语比较渣，母语不是英语，所以查字典也不一定能选择准确的名字，还是要靠积累。&lt;/p&gt;
&lt;h3 id=&quot;命名风格&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E5%91%BD%E5%90%8D%E9%A3%8E%E6%A0%BC&quot; aria-label=&quot;命名风格 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;命名风格&lt;/h3&gt;
&lt;p&gt;这个好多书或规范都会提到，常见的风格：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;小驼峰：首字母小写，后面所有单词首字母大写，如&lt;code class=&quot;language-text&quot;&gt;userName&lt;/code&gt;；&lt;/li&gt;
&lt;li&gt;大驼峰：与小驼峰唯一区别时首字母也大写，如&lt;code class=&quot;language-text&quot;&gt;UserName&lt;/code&gt;；&lt;/li&gt;
&lt;li&gt;下划线分隔：包括变量或函数常用的全小写字母、下划线分隔，如&lt;code class=&quot;language-text&quot;&gt;create_box&lt;/code&gt;，也包括全局常量的全大写字母、下划线分隔，如&lt;code class=&quot;language-text&quot;&gt;NAME_MAX_LEN&lt;/code&gt;；&lt;/li&gt;
&lt;li&gt;匈牙利命名法：曾经在 Windows API 中为主流形式，目前少见；&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;另外还有些针对特定类型名字的风格，比如 JavaScript 私有成员命名以下划线开头，数组名字用复数形式。&lt;/p&gt;
&lt;h3 id=&quot;名字长度&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E5%90%8D%E5%AD%97%E9%95%BF%E5%BA%A6&quot; aria-label=&quot;名字长度 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;名字长度&lt;/h3&gt;
&lt;p&gt;《代码大全》上面说 8 ~ 20 个字符最好，意思是最好不要超过 20 个字符，代码中也不要有很多长的名字。另外作用域对变量名也有影响，如果是不常用的全局变量可能长些，如果是临时用的局部变量就会短一些。可能最短的就是循环语句当中的索引变量，而且常用&lt;code class=&quot;language-text&quot;&gt;i&lt;/code&gt;、&lt;code class=&quot;language-text&quot;&gt;j&lt;/code&gt;、&lt;code class=&quot;language-text&quot;&gt;k&lt;/code&gt;。&lt;/p&gt;
&lt;h3 id=&quot;对仗词&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E5%AF%B9%E4%BB%97%E8%AF%8D&quot; aria-label=&quot;对仗词 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;对仗词&lt;/h3&gt;
&lt;p&gt;即那些互为反义词的单词，还是会经常用到的，大部分都是简单的英文单词。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;begin/end, start/end&lt;/li&gt;
&lt;li&gt;first/last&lt;/li&gt;
&lt;li&gt;min/max&lt;/li&gt;
&lt;li&gt;previous/next&lt;/li&gt;
&lt;li&gt;old/new&lt;/li&gt;
&lt;li&gt;visible/invisible&lt;/li&gt;
&lt;li&gt;source/target&lt;/li&gt;
&lt;li&gt;open/close&lt;/li&gt;
&lt;li&gt;show/hide&lt;/li&gt;
&lt;li&gt;on/off&lt;/li&gt;
&lt;li&gt;up/down&lt;/li&gt;
&lt;li&gt;...&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;一些特定类型变量的命名&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E4%B8%80%E4%BA%9B%E7%89%B9%E5%AE%9A%E7%B1%BB%E5%9E%8B%E5%8F%98%E9%87%8F%E7%9A%84%E5%91%BD%E5%90%8D&quot; aria-label=&quot;一些特定类型变量的命名 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;一些特定类型变量的命名&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;循环索引：尽量用&lt;code class=&quot;language-text&quot;&gt;i&lt;/code&gt;、&lt;code class=&quot;language-text&quot;&gt;j&lt;/code&gt;、&lt;code class=&quot;language-text&quot;&gt;k&lt;/code&gt;，这已经是约定俗成，绝大多数程序员都熟悉的了；&lt;/li&gt;
&lt;li&gt;状态变量：我觉得应该使用形容词，比如&lt;code class=&quot;language-text&quot;&gt;closed&lt;/code&gt;、&lt;code class=&quot;language-text&quot;&gt;hidden&lt;/code&gt;等；&lt;/li&gt;
&lt;li&gt;临时变量：书中作者说尽量不要使用&lt;code class=&quot;language-text&quot;&gt;temp&lt;/code&gt;/&lt;code class=&quot;language-text&quot;&gt;tmp&lt;/code&gt;这种含义太泛的名字，应该使用所指代的含义，我觉得两个变量交换时经常使用&lt;code class=&quot;language-text&quot;&gt;temp&lt;/code&gt;/&lt;code class=&quot;language-text&quot;&gt;tmp&lt;/code&gt;可能是个例外；&lt;/li&gt;
&lt;li&gt;布尔变量：变量隐含”真/假”含义，并且不要使用&lt;code class=&quot;language-text&quot;&gt;isFound&lt;/code&gt;、&lt;code class=&quot;language-text&quot;&gt;isError&lt;/code&gt;这种形式，我自己倒是经常使用&lt;code class=&quot;language-text&quot;&gt;is&lt;/code&gt;作为前缀；&lt;/li&gt;
&lt;li&gt;枚举类型：JavaScript 中没有真正的枚举类型，但是枚举也就是一组相关的变量，可以用数组或对象表示的，使用复数形式。&lt;/li&gt;
&lt;li&gt;常量：全大写字母，下划线分隔形式。但是全大写字母对于非母语的国内程序员来说可读性其实并不好，我在 JavaScript 中见得也不多，倒是觉得&lt;code class=&quot;language-text&quot;&gt;g_&lt;/code&gt;作为前缀这种形式更好一些。另外 C 语言中全大写字母似乎是主流形式，可能还得采用。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;书中还给出了 C、C++、Java 命名规则示例，区分的比较细致，比如局部变量、成员变量、函数等都要区分，自己写代码时区分的没这么细致。可能和 JavaScript 语言本身有关，或者自己没有编写过大中型项目有关。&lt;/p&gt;
&lt;p&gt;另外书中提到了一种很好的思路：&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;可以通过命名方面的约定来增强某种语言的功能，从而弥补该语言自身的缺陷。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;JavaScript 当中使用下划线&lt;code class=&quot;language-text&quot;&gt;_&lt;/code&gt;开头的命名表示私有成员正是这种思路的体现啊。&lt;/p&gt;
&lt;h2 id=&quot;标准前缀&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E6%A0%87%E5%87%86%E5%89%8D%E7%BC%80&quot; aria-label=&quot;标准前缀 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;标准前缀&lt;/h2&gt;
&lt;p&gt;用户自定义一些单词的缩写形式作为命名的前缀，这样通过较短的名字传达更多的信息，但是会增加记忆这些前缀的成本。&lt;/p&gt;
&lt;h2 id=&quot;如何缩写&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E5%A6%82%E4%BD%95%E7%BC%A9%E5%86%99&quot; aria-label=&quot;如何缩写 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;如何缩写&lt;/h2&gt;
&lt;p&gt;书中列举了一些指导原则，个人常见的：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;标准缩写，即词典中的缩写&lt;/li&gt;
&lt;li&gt;去掉所有非前置元音字母&lt;/li&gt;
&lt;li&gt;取前几位字母&lt;/li&gt;
&lt;li&gt;取所有单词首字母&lt;/li&gt;
&lt;li&gt;参考一些开源项目当中常见的缩写形式&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;我觉得应该有一份 JavaScript Web 开发方面常用变量缩写形式参考表，我一般会参考一些书中或著名的开源项目中的缩写形式。比如元素&lt;code class=&quot;language-text&quot;&gt;element&lt;/code&gt;的缩写有&lt;code class=&quot;language-text&quot;&gt;elem&lt;/code&gt;、&lt;code class=&quot;language-text&quot;&gt;el&lt;/code&gt;，事件对象&lt;code class=&quot;language-text&quot;&gt;event&lt;/code&gt;的缩写形式为&lt;code class=&quot;language-text&quot;&gt;evt&lt;/code&gt;、&lt;code class=&quot;language-text&quot;&gt;e&lt;/code&gt;，但是遇到&lt;code class=&quot;language-text&quot;&gt;ele&lt;/code&gt;、&lt;code class=&quot;language-text&quot;&gt;ev&lt;/code&gt;的形式后就感觉内心很不舒服，可能就像密集恐惧症患者见到含有密集物的图片一样，恨不得撕碎它。当然，也有可能是我孤陋寡闻了。&lt;/p&gt;
&lt;h2 id=&quot;避免的名字&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E9%81%BF%E5%85%8D%E7%9A%84%E5%90%8D%E5%AD%97&quot; aria-label=&quot;避免的名字 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;避免的名字&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;避免使用含义完全无关的名字&lt;/li&gt;
&lt;li&gt;避免使用过于简短的名字：最讨厌使用一个字母变量的形式了；&lt;/li&gt;
&lt;li&gt;避免使用在名字中使用数字：这个我常见到一些人用&lt;code class=&quot;language-text&quot;&gt;2&lt;/code&gt;表示&lt;code class=&quot;language-text&quot;&gt;to&lt;/code&gt;，用&lt;code class=&quot;language-text&quot;&gt;4&lt;/code&gt;表示&lt;code class=&quot;language-text&quot;&gt;for&lt;/code&gt;，个人不太喜欢这种形式；&lt;/li&gt;
&lt;li&gt;避免单词拼写错误：这也是我最讨厌的错误了，花个十几秒查下词典就行了，对于那些开放 API 当中的拼写错误最应该避免了；&lt;/li&gt;
&lt;li&gt;不要使用标准类型、变量和子程序的名字：每种语言都有一些内置的类型、方法，尽量不要冲突；&lt;/li&gt;
&lt;li&gt;易混淆的名字：典型的就是&lt;code class=&quot;language-text&quot;&gt;I&lt;/code&gt;、&lt;code class=&quot;language-text&quot;&gt;1&lt;/code&gt;、&lt;code class=&quot;language-text&quot;&gt;l&lt;/code&gt;三个字符在某些字体下很难区分。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;另外，个人认为尽量不用汉语拼音作为变量，所以这也就要英语词汇量丰富些，也要针对某方面，比如图形编程方面可能对几何、坐标、向量等方面的英文词汇要熟悉些。&lt;/p&gt;
&lt;h2 id=&quot;总结&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E6%80%BB%E7%BB%93&quot; aria-label=&quot;总结 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;总结&lt;/h2&gt;
&lt;p&gt;代码风格与变量命名风格并不是永久不变的，那些著名开源项目似乎能影响代码风格和变量命名的主流形式。项目的代码风格或变量命名尽量和主流形式一致，但也并非强制要求。&lt;/p&gt;
&lt;p&gt;当然，对于某些连基本的代码风格都不太注意的人，更别提变量命名的风格了，这些很多书都不会讲，似乎全凭自觉了或者项目负责人的规定了。&lt;/p&gt;</content:encoded></item><item><title><![CDATA[个人读书感悟]]></title><description><![CDATA[…]]></description><link>https://xiaocaoge.com//choosing-and-reading-books/</link><guid isPermaLink="false">https://xiaocaoge.com//choosing-and-reading-books/</guid><category><![CDATA[选书]]></category><category><![CDATA[读书]]></category><category><![CDATA[书]]></category><dc:creator><![CDATA[Alex]]></dc:creator><pubDate>Tue, 07 Jul 2015 16:00:00 GMT</pubDate><content:encoded>&lt;h2 id=&quot;大学时代&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E5%A4%A7%E5%AD%A6%E6%97%B6%E4%BB%A3&quot; aria-label=&quot;大学时代 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;大学时代&lt;/h2&gt;
&lt;p&gt;大学以前，我几乎没有考虑过如何选书的问题，因为读的书差不多就是课本、班里传阅的课外书及很普通的小书店里的书。而且读的书也杂，小说、杂志、科普、鸡汤（励志）、军事等等，可以说几乎没有读过专业且有深度的书。也没有想过这些，就只是看遇到的书，感兴趣可能读一下，或者说真的没有其他有趣的事来做，也只好读这些书了。&lt;/p&gt;
&lt;p&gt;而到大学以后，图书馆有数百万的书可供选择，无论是畅销的小说，还是专业的书籍，你只知道永远都不可能读完的。这时，就得考虑选择哪些书的问题。而我保持了一贯地爱读鸡汤书的爱好，选择几本名人传记，另外借阅过几本编程、Photoshop、小说、经管等方面的书，我几乎都是根据书名选择书的。准确地说，我大四以前是根据书名及扫上几眼选择书的，尤其钟爱从入门到精通系列。读下来的书也就一二十本，课外加上逃课时间基本上都用来玩游戏、看电影、睡觉了，这些都是高中时认为浪费时间的事情，还玩得不专业，实在是浑浑噩噩的几年。&lt;/p&gt;
&lt;p&gt;直到大四时，因为马上毕业找工作了，也因为玩得很无聊了，想着自己该学点儿什么。大四想过学好 PPT 设计，也正好开始使用豆瓣了。然后就是学习过程中不断查找 PPT 的&lt;strong&gt;资源&lt;/strong&gt;，比如博客、网络教程、书籍等。使用&lt;strong&gt;资源&lt;/strong&gt;这个抽象的词来指代这些很关键，尽管我很早就知道，但是从来没有稍微深入自学过任何方面的知识，哪怕是游戏。&lt;/p&gt;
&lt;h2 id=&quot;毕业三年&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E6%AF%95%E4%B8%9A%E4%B8%89%E5%B9%B4&quot; aria-label=&quot;毕业三年 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;毕业三年&lt;/h2&gt;
&lt;p&gt;大四上学期慢慢在脑中酝酿，并最终决定学习前端这个方向，尽管实际上这时对前端知之甚少。过年期间，家人、朋友、关系不错的同学在询问我以后的打算时，我回答了这一决定，并且这次没有指望 21 天从入门到精通，比较实际地预估花两三年才能学成。从大四毕业实习时开始了自学前端，当然学习资源只能靠自己来找，而书籍方面通过豆瓣、博客文章选择，差不多就是豆瓣评价 8.0 分以上的 HTML、CSS 和 JavaScript 方面的书籍。然后从入门的开始读，先 HTML，再 CSS，然后 JavaScript，这中间还读了其他方面的书。甚至觉得这些调味用的书带给我的影响更深远：&lt;/p&gt;
&lt;h3 id=&quot;《失控》&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E3%80%8A%E5%A4%B1%E6%8E%A7%E3%80%8B&quot; aria-label=&quot;《失控》 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;《失控》&lt;/h3&gt;
&lt;p&gt;我只读了前面几章，现在只留下了自组织形成的模糊描写，甚至忘记了出没出现过“自组织”这个词，但是自组织形成的简单描写对我自学过程的思考很有帮助。在我自学前端前，我对前端方面的知识只限于拼写 HTML、CSS 和 JavaScript 这几个单词。这时，我还没有听过浮动、弹性布局、闭包、DOM、jQuery等等这些概念，即使听过也完全不知道它们究竟意味着什么。所以，我把我掌握的前端知识体系想象成一个自组织系统，而不断学习的过程，就是这个自组织系统不断形成的过程。我列一个前端书单，然后遍历这个书单，我发现书上的相关链接或者我想搜索的问题，我就搜索，我在阅读搜索文章的过程中，又发现了相关链接或不懂的地方，然后继续搜索，最后堆栈溢出，忘记自己刚开始学的是什么了。扯远了，我的意思是概念的掌握是自下而上的，一点一点相关细节的积累，然后觉得应该归类或者起个名字来指代了，然后形成了概念。我这里的描述可能随便了点儿。&lt;/p&gt;
&lt;h3 id=&quot;《doom启示录》&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E3%80%8Adoom%E5%90%AF%E7%A4%BA%E5%BD%95%E3%80%8B&quot; aria-label=&quot;《doom启示录》 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;《DOOM启示录》&lt;/h3&gt;
&lt;p&gt;读的电子档，是在一个漆黑的夜晚，一个人上着夜班，守着 RoHS 测试仪器，边工作边通过手机阅读，读的过程中内心热血沸腾，真的不是鸡汤，胜似鸡汤。这本书很明显给了我坚持自学前端的动力，当时的自己，工作很不理想，完全是一个人自学，生活上也可能算无趣的很。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;只要有一台便宜的二手电脑，一张 Linux 光盘和一个互联网账户，你就已经拥有了把自己提升到任何级别的编程水平所需的全部工具。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;是的，现在的前端学习资源更是这样，只不过现在才知道具体有哪些资源也是需要学习与积累的。另外就是，很多人知道有哪些资源，也知道该学哪些，但是往往低估了其重要性，尤其是长期价值。翻墙与英语算是学习编程中的基础，我也不知道我从什么时候以及从哪里逐渐形成的这种观点，反正不是凭空冒出来的。我很庆幸我对这种观点一开始就没有抵触过，当我某天想学 GAE 翻墙时，发现比我想象地顺利多了，当我开始读英文文章时，虽然吃力，但连蒙带猜能看懂大概在说什么吧，当然遇到的大部分生词都查有道字典了。我发现有些人这两项掌握不好的原因有：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;臆测：&lt;/strong&gt;一旦不能在自己臆测的时间内掌握就退缩了，没认识到学习都是一点点儿积累的，事物之间有着自己的运行规则，也许开始难，但是以后难度就不一定了。我感觉一位 Dota 解说，09 说得一句话能表达我的意思：“The truth is what it is, not what you see”。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;低估长期价值：&lt;/strong&gt;可能因为这个，觉得 VPN 每月几十块很不值得，而且说实话，是英语学习资源重要，Google 搜索只是用来搜索这些的，所以我个人认为中文网络学习资源质量也影响了百度搜索结果。另外，我也常常这样，比如之前想着补计算机编程核心课程的（不单单是课本，是指涉及到的知识体系），但是总觉得与现阶段工作联系不大而一再拖延。就在刚刚，我突然觉得与现阶段工作关系不大，可能是我想错了，因为自己以前想做的几个小工具需要编译、树结构、网络相关的知识，但是要学这些又要花费时间，而且这些难于上手一样，就半途而废了。&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;《软件随想录》&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E3%80%8A%E8%BD%AF%E4%BB%B6%E9%9A%8F%E6%83%B3%E5%BD%95%E3%80%8B&quot; aria-label=&quot;《软件随想录》 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;《软件随想录》&lt;/h3&gt;
&lt;p&gt;现在只是隐约记得作者提到了自己公司开发的一个软件，使用了一种迭代统计方法，然后我结合自己多年制定小计划的习惯，发现自己制定的计划有很大缺陷，就是把事物运行规则假设为线性的了。比如，我要学习某本书，然后就有点儿毫无根据地规定两个月看完，然后看下书有多少页内容，然后算算每天应该看多少页，这样就算计划好了，每天只要看完计划好的页数就算完成了，看不完心里就觉得这下完了。但实际上，对于技术书籍，至少是我读过的技术书籍来说，每章每节的难度都是不同的，往往前几章简单，后面就难了。也因此，每章甚至每页花费的时间都是不同的，不应该以每天读多少页，多长时间读完为目标，除非是为了完成特别紧急的事情，而应该以理解知识为目标。从书名、目录、前几章或者豆瓣上的评论都只能大体上估计一本书的好坏，另外适不适合自己现阶段读就是另一回事了。&lt;/p&gt;
&lt;p&gt;不过从我这几年的读书及学习经验来看，从来就没有一本&lt;strong&gt;书&lt;/strong&gt;能够使人精通某一方面技能，书只是作者的经验总结，只是作者所掌握能力的冰山一角，大部分时间还是要花在实际的编码、思考上。我甚至觉得技术书只分两种：入门和高级入门，书只不过是用来入门某个领域或细分领域的，这些领域还是人为划分的。后来，这一观念，再加上前 Node 界的知名大神 TJ 说自己没有上过大学，也很少读书，就是从源码学习，想着“How it works”，我就差点走向了一个极端，我也要不读书，从源码中学习，真是作死。于是又想到，也有很多很多其他的大神都要通过读书吸取知识的啊，每个人都有适合自己的学习方法，我还是得好好读书，先把编程基础打好再说吧，虽然只读书是远远不够的。&lt;/p&gt;
&lt;h2 id=&quot;翻译与原版&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E7%BF%BB%E8%AF%91%E4%B8%8E%E5%8E%9F%E7%89%88&quot; aria-label=&quot;翻译与原版 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;翻译与原版&lt;/h2&gt;
&lt;p&gt;不知道其他方面的书籍如何，就我了解到的计算机方面的，国人写得好的书，不多。我在学前端早期，根据豆瓣上的评分与评论，大致弄了两份书单，一份前端方面，一份计算机科学方面，几乎没有国人写的，都是翻译的。有能力的还是直接看原版英文的好，除了以后接触的学习资源以英文为主外，翻译的不能 100% 传达原作者要表达的，有些英文也比较难翻译，在加上翻译者不认真的话，有些句子读起来不如英文好理解些。当然，就目前国内能进行高质量翻译的人翻译这些书也获取不到多少版税，应该比他们的工资差远了吧，毕竟他们只图名，不图利。后面这句话开玩笑的，这些书还是帮助了不少国内的学习者的，特别是像我这种一开始读英文吃力的人。&lt;/p&gt;
&lt;p&gt;这半年来，我又逐渐地意识到我之前高估了读英文原著的难度，或者因为我英文阅读能力进步了吧。记得一开始读 John Resig 写得那本《Secrets of the JavaScript Ninja》真的很吃力，也留下了恐惧的第一阴影，导致后来长时间不敢读，不过说实话这里面确实多一些生词和不好理解的句式，现在也是一知半解。读英文原版的好处也是有很多的，可以第一时间就学习，不需要等别人翻译，不用担心翻译质量，也能够直接看到作者说得话。另外一个读英文原版的好处是：建立一个英文概念构成的知识体系，有助于使用 Google 搜索时，知道该使用什么关键词。所以下一步的方向就是增大读书量，尤其要尝试读些英文原著。&lt;/p&gt;
&lt;h2 id=&quot;结语&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E7%BB%93%E8%AF%AD&quot; aria-label=&quot;结语 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;结语&lt;/h2&gt;
&lt;p&gt;写得有点儿乱，这些都是零碎的感悟，平日里也不写这些文章的，感觉自己语言表达能力还需提升啊。其实，实际的思考过程，更零碎，也更跳跃，感觉用自己的语言表达不出来一样，觉得需要有相似的经历才好理解。&lt;/p&gt;</content:encoded></item><item><title><![CDATA[标签页操作与快捷键]]></title><description><![CDATA[标签的操作 在开发过程中，几个经常使用的工具会采用标签机制，目前有三个工具： 浏览器：经常查找资料或其他上网活动时会打开几个，甚至十几二十几个标签页。 编辑器：自己主用 Sublime…]]></description><link>https://xiaocaoge.com//tab-operations-and-shortcuts/</link><guid isPermaLink="false">https://xiaocaoge.com//tab-operations-and-shortcuts/</guid><category><![CDATA[标签页]]></category><category><![CDATA[快捷键]]></category><category><![CDATA[Tab]]></category><dc:creator><![CDATA[Alex]]></dc:creator><pubDate>Sat, 04 Jul 2015 16:00:00 GMT</pubDate><content:encoded>&lt;h2 id=&quot;标签的操作&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E6%A0%87%E7%AD%BE%E7%9A%84%E6%93%8D%E4%BD%9C&quot; aria-label=&quot;标签的操作 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;标签的操作&lt;/h2&gt;
&lt;p&gt;在开发过程中，几个经常使用的工具会采用标签机制，目前有三个工具：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;浏览器&lt;/strong&gt;：经常查找资料或其他上网活动时会打开几个，甚至十几二十几个标签页。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;编辑器&lt;/strong&gt;：自己主用 Sublime，但是其他我见过的所有代码编辑器都支持标签页的，在敲代码时也会打开几个或十几个文件，就连以前操作 Word 时也安装个支持标签页的插件。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;终端&lt;/strong&gt;：开发者也要经常使用命令行进行多种操作，也会打开几个或更多标签页。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;而标签页通常有着固定的几个操作，可能不同软件名字不一样，不过实质一样：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;创建&lt;/li&gt;
&lt;li&gt;关闭&lt;/li&gt;
&lt;li&gt;选择前一个&lt;/li&gt;
&lt;li&gt;选择后一个&lt;/li&gt;
&lt;li&gt;选择第N个&lt;/li&gt;
&lt;li&gt;重新打开上一个关闭的&lt;/li&gt;
&lt;li&gt;关闭其他所有&lt;/li&gt;
&lt;li&gt;重新排序&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;标签操作的快捷键&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E6%A0%87%E7%AD%BE%E6%93%8D%E4%BD%9C%E7%9A%84%E5%BF%AB%E6%8D%B7%E9%94%AE&quot; aria-label=&quot;标签操作的快捷键 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;标签操作的快捷键&lt;/h2&gt;
&lt;p&gt;这些操作通常比较常用，也会对应一些快捷键，很重要的一点就是：&lt;strong&gt;在同一系统平台下，虽然软件不同，但是这些操作对应的快捷键都是大同小异的&lt;/strong&gt;。具体来说，Windows 与 Ubuntu 一样，而 Mac 通常只是把&lt;code class=&quot;language-text&quot;&gt;Ctrl&lt;/code&gt;换成了&lt;code class=&quot;language-text&quot;&gt;Command&lt;/code&gt;。这样就可以显著降低学习成本，我不知道有没有什么规范，但是觉得软件开发者也应该遵循这些惯例。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Tab操作与三大系统平台上快捷键&lt;/strong&gt;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Tab操作&lt;/th&gt;
&lt;th&gt;Window/Linux&lt;/th&gt;
&lt;th&gt;Mac&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;创建&lt;/td&gt;
&lt;td&gt;&lt;code class=&quot;language-text&quot;&gt;Ctrl+T&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code class=&quot;language-text&quot;&gt;Command+T&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;关闭&lt;/td&gt;
&lt;td&gt;&lt;code class=&quot;language-text&quot;&gt;Ctrl+W&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code class=&quot;language-text&quot;&gt;Command+W&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;选择前一个&lt;/td&gt;
&lt;td&gt;&lt;code class=&quot;language-text&quot;&gt;Ctrl+Tab&lt;/code&gt;或&lt;br&gt;&lt;code class=&quot;language-text&quot;&gt;Ctrl+PageUp&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code class=&quot;language-text&quot;&gt;Command+{&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;选择后一个&lt;/td&gt;
&lt;td&gt;&lt;code class=&quot;language-text&quot;&gt;Ctrl+Shift+Tab&lt;/code&gt;或&lt;br&gt;&lt;code class=&quot;language-text&quot;&gt;Ctrl+PageDown&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code class=&quot;language-text&quot;&gt;Command+}&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;选择第N个（N&amp;#x3C;=8）&lt;/td&gt;
&lt;td&gt;&lt;code class=&quot;language-text&quot;&gt;Ctrl+[1-8]&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code class=&quot;language-text&quot;&gt;Command+[1-8]&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;选择最后一个&lt;/td&gt;
&lt;td&gt;&lt;code class=&quot;language-text&quot;&gt;Ctrl+9&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code class=&quot;language-text&quot;&gt;Command+9&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;重新打开上次关闭的&lt;/td&gt;
&lt;td&gt;&lt;code class=&quot;language-text&quot;&gt;Ctrl+Shift+T&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code class=&quot;language-text&quot;&gt;Command+Shift+T&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;关闭其他所有&lt;/td&gt;
&lt;td&gt;无快捷键&lt;/td&gt;
&lt;td&gt;无快捷键&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;重新排序&lt;/td&gt;
&lt;td&gt;鼠标拖动，或 Ubuntu Gnome Terminal&lt;br&gt;可以使用&lt;code class=&quot;language-text&quot;&gt;Ctrl+Shift+PageUp/PageDown&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;鼠标拖动&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;备注：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;这里的快捷键不是所有软件都完全支持。&lt;/li&gt;
&lt;li&gt;Chrome或其他软件的Tab操作可能比这里列出的多几个，如关闭右边所有的、固定当前。&lt;/li&gt;
&lt;li&gt;“关闭其他所有”没有默认的快捷键，但是可以通过插件来设置。&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;总结&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E6%80%BB%E7%BB%93&quot; aria-label=&quot;总结 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;总结&lt;/h2&gt;
&lt;p&gt;这里只是简单地列出了标签的操作与快捷键，而标签机制属于 GUI 设计范畴，称之为 TDI（Tabbed Document Interface），与之相关的概念还有：窗口（Window）、MDI（Multiple Document Interface）、SDI（Single Document Interface），细节请查看参考链接。&lt;/p&gt;
&lt;h2 id=&quot;参考链接&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E5%8F%82%E8%80%83%E9%93%BE%E6%8E%A5&quot; aria-label=&quot;参考链接 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;参考链接&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://en.wikipedia.org/wiki/Tab_(GUI)&quot;&gt;GUI Tab&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://en.wikipedia.org/wiki/Multiple_document_interface&quot;&gt;MDI (Multiple Document Interface)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://en.wikipedia.org/wiki/Desktop_metaphor&quot;&gt;Desktop metaphor&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[从WordPress迁移博客到Hexo]]></title><description><![CDATA[为什么迁移？ 实际上，迁移博客的决定大半年前，大概 2014 年 7 月份就已经决定了。当时考虑到托管在 Github 上面的静态博客有这么几种优势： 采用 Markdown 方式书写，可采用任何自己喜欢的编辑器，含有代码块，书写方便，甚至以后写数学公式也可以采用 TeX…]]></description><link>https://xiaocaoge.com//migrate-to-hexo-from-wordpress/</link><guid isPermaLink="false">https://xiaocaoge.com//migrate-to-hexo-from-wordpress/</guid><category><![CDATA[WordPress]]></category><category><![CDATA[Hexo]]></category><category><![CDATA[Blog]]></category><category><![CDATA[Github]]></category><dc:creator><![CDATA[Alex]]></dc:creator><pubDate>Fri, 22 May 2015 16:00:00 GMT</pubDate><content:encoded>&lt;h2 id=&quot;为什么迁移？&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E4%B8%BA%E4%BB%80%E4%B9%88%E8%BF%81%E7%A7%BB%EF%BC%9F&quot; aria-label=&quot;为什么迁移？ permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;为什么迁移？&lt;/h2&gt;
&lt;p&gt;实际上，迁移博客的决定大半年前，大概 2014 年 7 月份就已经决定了。当时考虑到托管在 Github 上面的静态博客有这么几种优势：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;采用 Markdown 方式书写，可采用任何自己喜欢的编辑器，含有代码块，书写方便，甚至以后写数学公式也可以采用 TeX 语法。当然，WordPress 也可以，不过总觉得安装插件不太直接。&lt;/li&gt;
&lt;li&gt;Github Pages 免费，可以节省每年 200 大洋的虚拟主机费用，且托管在 Github 很放心。&lt;/li&gt;
&lt;li&gt;静态页面速度快，不过这个现在体现不出来了，国内访问 Github Pages 网速慢。&lt;/li&gt;
&lt;li&gt;不得不说我受到了流行趋势的影响，看到很多人采用了这种方式，我就想尝试下。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;大致就是以上几点原因使我最终决定迁移博客到 Github Pages。&lt;/p&gt;
&lt;h2 id=&quot;选择静态博客系统&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E9%80%89%E6%8B%A9%E9%9D%99%E6%80%81%E5%8D%9A%E5%AE%A2%E7%B3%BB%E7%BB%9F&quot; aria-label=&quot;选择静态博客系统 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;选择静态博客系统&lt;/h2&gt;
&lt;p&gt;一开始，我先听说的 Jekyll，在尝试时，发现要安装自己不熟悉的工具，因为它是 Ruby 写成的，而且我当时用的 Windows 系统，最终闲它麻烦而放弃。然后就搜索了一些其他的静态博客，发现各种语言写的都有，最后发现了 &lt;a href=&quot;http://hexo.io&quot;&gt;Hexo&lt;/a&gt; 这个用 NodeJS 写的，而且是一个台湾人写的，发现已有不少人在用。当时自己也有学习一些 NodeJS 的知识，想着用了 Hexo 也可以顺便学习下别人怎么写的，于是就这样决定选择 Hexo 了。&lt;/p&gt;
&lt;h2 id=&quot;有点后悔选择-hexo-了&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E6%9C%89%E7%82%B9%E5%90%8E%E6%82%94%E9%80%89%E6%8B%A9-hexo-%E4%BA%86&quot; aria-label=&quot;有点后悔选择 hexo 了 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;有点后悔选择 Hexo 了&lt;/h2&gt;
&lt;p&gt;我感觉 Hexo 有几点不足，&lt;strong&gt;纯属个人拙见&lt;/strong&gt;。&lt;/p&gt;
&lt;h3 id=&quot;主题质量低&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E4%B8%BB%E9%A2%98%E8%B4%A8%E9%87%8F%E4%BD%8E&quot; aria-label=&quot;主题质量低 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;主题质量低&lt;/h3&gt;
&lt;p&gt;我查看了所有的主题，发现大部分简直就是半成品，质量太低了，只有几个还可以。似乎缺乏用心的，且有设计能力的人来写 Hexo 主题。刚开始时，主题都只给主题源码的 Github 链接，没有截图，所以选择成本很高，有些链接失效了也没人管理。当然，Hexo 几乎只有一个人在管理所有的事情，所以很难忙得过来的，得多人协作。&lt;/p&gt;
&lt;h3 id=&quot;早期代码组织乱&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E6%97%A9%E6%9C%9F%E4%BB%A3%E7%A0%81%E7%BB%84%E7%BB%87%E4%B9%B1&quot; aria-label=&quot;早期代码组织乱 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;早期代码组织乱&lt;/h3&gt;
&lt;p&gt;我只读了一些 2.8.* 时代的代码，感觉读懂代码好吃力，打断点调试都得同时打开很多个文件。读了一两个星期，才弄懂了一点点，当然这和我水平低也有很大关系。不过还是学到好多小的知识的，到 3.* 时代发现代码进行了大的重构，已经放弃阅读了。&lt;/p&gt;
&lt;h3 id=&quot;其他-n-多小问题&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E5%85%B6%E4%BB%96-n-%E5%A4%9A%E5%B0%8F%E9%97%AE%E9%A2%98&quot; aria-label=&quot;其他 n 多小问题 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;其他 N 多小问题&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;只针对 2.8.3 版本，3.0.0 以后不太了解&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;不支持一篇文章多个分类目录，我在 WordPress 用到了一篇文章多个分类目录，结果 Hexo 不支持，我不得不把所有文章都变成一个分类目录。有人解释说可以使用标签，但是我认为分类属于相对固定的，而标签术语文章的几个核心关键词。另外，前端一些文章经常同时涉及到 CSS 和 JavaScript，这就决定一篇文章属于两个分类目录是很合理的，总不能都概括为前端吧。&lt;/li&gt;
&lt;li&gt;Markdown 代码块必须使用四个空格缩进语法，用 &apos;`&lt;code class=&quot;language-text&quot;&gt;&lt;/code&gt;&apos; 就不行，这还得自己写脚本转换已有的文章。&lt;/li&gt;
&lt;li&gt;使用 highlightjs 的 theme 时，需要修改 CSS，去掉 &apos;hljs-&apos;，不知道为什么 Hexo 默认这样选择，且没法配置。&lt;/li&gt;
&lt;li&gt;分类目录&lt;code class=&quot;language-text&quot;&gt;list_categories()&lt;/code&gt;没法控制汉字排序，而且没法像 WordPress 方便获取一个目录列表，然后自己定制排序。&lt;/li&gt;
&lt;li&gt;README.md 文件的渲染和删除，现在好像可以配置路径来过滤了。&lt;/li&gt;
&lt;li&gt;文章更新日期当成创建日期，结果首页文章顺序发生了变化，需要自己手动日期。&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;写一个-hexo-主题&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E5%86%99%E4%B8%80%E4%B8%AA-hexo-%E4%B8%BB%E9%A2%98&quot; aria-label=&quot;写一个 hexo 主题 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;写一个 Hexo 主题&lt;/h2&gt;
&lt;p&gt;一开始规划时，什么 Off-Canvas、响应式、社交网站链接、自定义字体、动画效果、兼容到IE8等都整上去，后来实际做时，发现每个都要花不少时间。而且很长时间没有写过什么 CSS，导致水平下降，写起来不熟练啊。&lt;/p&gt;
&lt;p&gt;做有关设计方面的决定时，内心很纠结，比如超链接四种状态下的颜色选择、标题或内容的颜色、侧边栏的布局等，每次写主题时感觉这些好难做决定。主题的大致颜色是参考的原来的主题配色，网站整体布局参考了其他人的，而且这种布局不少见。每写一个主题，都被自己渣一样的设计能力虐心，也越来越倾向于不要这些布局了，就文章列表就行了。&lt;/p&gt;
&lt;p&gt;另外，花时间的还有要了解 Hexo 写主题的一些 Helpers，主题的代码结构等，幸好是参考官网的一款主题，自己从头开始写更麻烦了。&lt;/p&gt;
&lt;p&gt;虽然每次写博客主题时，感觉特别虐心，不过当渐渐完成之时，都会感觉比上一个主题有进步。另外，写博客主题必然要写文章的 CSS 样式，文章在很多网站都会呈现，写好这个很关键，要注意很多细节或者说临界情况。&lt;/p&gt;
&lt;h2 id=&quot;将-wordpress-的内容迁移到-hexo&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E5%B0%86-wordpress-%E7%9A%84%E5%86%85%E5%AE%B9%E8%BF%81%E7%A7%BB%E5%88%B0-hexo&quot; aria-label=&quot;将 wordpress 的内容迁移到 hexo permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;将 WordPress 的内容迁移到 Hexo&lt;/h2&gt;
&lt;p&gt;首先可以按照官网文档来操作，不过之后还有一些工作要做：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;所有的超链接确保正确，包括图片、DEMO 等的链接；&lt;/li&gt;
&lt;li&gt;代码块高亮，以前用的 WordPress 一个插件，然后自己用 Node 写个脚本替换下或者使用 Sublime 自带的正则替换功能；&lt;/li&gt;
&lt;li&gt;修复在转 Markdown 时的错误，确实有一些要自己调整，主要是加粗、列表；&lt;/li&gt;
&lt;li&gt;有发现了不少文章中的错别字，顺便修正了；&lt;/li&gt;
&lt;li&gt;DEMO文件、图片文件、附件等目录要放到所采用主题的&lt;code class=&quot;language-text&quot;&gt;source&lt;/code&gt;目录下；&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;部署到-github-及配置自定义域名&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E9%83%A8%E7%BD%B2%E5%88%B0-github-%E5%8F%8A%E9%85%8D%E7%BD%AE%E8%87%AA%E5%AE%9A%E4%B9%89%E5%9F%9F%E5%90%8D&quot; aria-label=&quot;部署到 github 及配置自定义域名 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;部署到 Github 及配置自定义域名&lt;/h2&gt;
&lt;p&gt;Github Pages 分两种：User or organization site 和 Project site。我见到的很多人的博客都是前一种，而且前一种设置及配置自定义域名比较简便，跟着官方的文档和帮助说明就可以了。但是，有一个问题，所有其他项目的 Github Pages 页面的域名也会都跳转到你博客的域名下面，成为一个目录，如：&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;http://username.github.io/someproject&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;跳转到&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;http://www.yourblogdomain.com/someproject&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;这不是我想要的结果，我不希望博客域名影响到 Github 上面的项目链接。所以，我只好采用后一种：Project site，这种设置起来也难一点儿，主要是配置自定义域名。&lt;/p&gt;
&lt;p&gt;设置步骤（我是采用 DNSPod 来解析域名）：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;为自己的博客创建一个 Repository，并创建&lt;code class=&quot;language-text&quot;&gt;gh-pages&lt;/code&gt;分支；&lt;/li&gt;
&lt;li&gt;在 DNS 服务商处配置自己的 DNS，需要添加一条 A 记录和一条 CNAME 记录：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;  添加 A 记录，查找你 Github 子域名地址的静态 IP 地址：&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;    $ nslookup alex1990.github.io
    Server:		211.162.96.1
    Address:	211.162.96.1#53

    Non-authoritative answer:
    alex1990.github.io	canonical name = github.map.fastly.net.
    Name:	github.map.fastly.net
    Address: 103.245.222.133&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;  A 记录主机记录字段选择&lt;code class=&quot;language-text&quot;&gt;@&lt;/code&gt;，记录值（填写IP地址的地方）填写使用&lt;code class=&quot;language-text&quot;&gt;nslookup&lt;/code&gt;查找到的地址，此处为：&lt;code class=&quot;language-text&quot;&gt;103.245.222.133&lt;/code&gt;。&lt;/p&gt;
&lt;p&gt;  添加 CNAME 记录，是为了能解析&lt;code class=&quot;language-text&quot;&gt;www&lt;/code&gt;域名。主机记录字段选择&lt;code class=&quot;language-text&quot;&gt;www&lt;/code&gt;，记录值填写自己的 Github 域名，此处为&lt;code class=&quot;language-text&quot;&gt;alex1990.github.io&lt;/code&gt;。&lt;/p&gt;
&lt;ol start=&quot;3&quot;&gt;
&lt;li&gt;在 Repository 根目录下创建一个文件&lt;code class=&quot;language-text&quot;&gt;CNAME&lt;/code&gt;，其内容&lt;code class=&quot;language-text&quot;&gt;www.xiaocaoge.com&lt;/code&gt;，带&lt;code class=&quot;language-text&quot;&gt;www&lt;/code&gt;时，Github 会将&lt;code class=&quot;language-text&quot;&gt;xiaocaoge.com&lt;/code&gt; 跳到 &lt;code class=&quot;language-text&quot;&gt;www.xiaocaoge.com&lt;/code&gt;，可根据自己需要选择带或不带，将创建的文件 Push 到 Github 上面，等待几分钟以便 Github 刷新域名的跳转。&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;另外要注意的是，如果先前建立过 User Pages，则所有的 Project Pages 域名仍然跳转，此时需要更新所有项目的&lt;code class=&quot;language-text&quot;&gt;gh-pages&lt;/code&gt;分支，即提交来刷新缓存。如果还不行，可尝试下面措施：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;清理浏览器缓存&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;chrome://net-internals#dns&lt;/code&gt; 点击&lt;code class=&quot;language-text&quot;&gt;clear host cache&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;在实际的配置过程中，我花了两个晚上，看了十几个网页的教程，试了 N 多次，看了一篇文章 &lt;a href=&quot;https://larry-price.com/blog/2014/02/12/custom-domain-with-github-pages&quot;&gt;Custom Domain With Github Pages&lt;/a&gt; 才尝试成功。&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Mac上手]]></title><description><![CDATA[使用 Mac OSX 小半年了，记录下上手历程，虽然还是用得不好。 购买 不知道从什么时候开始关注起 Mac 的，可能是在QQ群、招聘信息、知乎等地方不断接触到 Mac 相关的信息，所以就开始关注。甚至，潜移默化的形成了“Mac 是最适合前端的电脑，主要是 OSX…]]></description><link>https://xiaocaoge.com//get-started-on-using-mac/</link><guid isPermaLink="false">https://xiaocaoge.com//get-started-on-using-mac/</guid><category><![CDATA[Mac]]></category><category><![CDATA[OSX]]></category><dc:creator><![CDATA[Alex]]></dc:creator><pubDate>Sun, 12 Apr 2015 16:00:00 GMT</pubDate><content:encoded>&lt;p&gt;使用 Mac OSX 小半年了，记录下上手历程，虽然还是用得不好。&lt;/p&gt;
&lt;h2 id=&quot;购买&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E8%B4%AD%E4%B9%B0&quot; aria-label=&quot;购买 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;购买&lt;/h2&gt;
&lt;p&gt;不知道从什么时候开始关注起 Mac 的，可能是在QQ群、招聘信息、知乎等地方不断接触到 Mac 相关的信息，所以就开始关注。甚至，潜移默化的形成了“Mac 是最适合前端的电脑，主要是 OSX 系统”这种观念，然后就想尝试一下。于是就办了张招行信用卡，没敢狠心买 MacBook Pro，就从官网买了中配的 Mac mini。显示器是优派的带 HDMI 接口的，键鼠是随便选的一款 PC 无线键鼠。&lt;/p&gt;
&lt;h2 id=&quot;osx系统&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#osx%E7%B3%BB%E7%BB%9F&quot; aria-label=&quot;osx系统 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;OSX系统&lt;/h2&gt;
&lt;p&gt;硬件安装对于我来说没有什么难度，插好电源、网线、HDMI数据线等之后直接开机。初次开机要求设置用户名与密码，可以直接使用 Apple ID 登录，官网购买时就要 Apple ID 的。然后设置地区/语言之后等一小会儿就直接进入桌面了。&lt;/p&gt;
&lt;h3 id=&quot;桌面&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E6%A1%8C%E9%9D%A2&quot; aria-label=&quot;桌面 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;桌面&lt;/h3&gt;
&lt;p&gt;底部是一排 Dock 图标，顶部的 menu bar 和 Ubuntu 采用的 Unity 桌面挺像的。左上角的苹果 Logo 按钮里面可以设置系统偏好，类似于 Windows 的控制面板，里面可以设置鼠标、键盘、网络、语言等。还有关机与睡眠命令，我一般只用睡眠命令，可以快速唤醒，经常十几天才重启一次。&lt;/p&gt;
&lt;h3 id=&quot;复制、粘贴与剪切快捷键&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E5%A4%8D%E5%88%B6%E3%80%81%E7%B2%98%E8%B4%B4%E4%B8%8E%E5%89%AA%E5%88%87%E5%BF%AB%E6%8D%B7%E9%94%AE&quot; aria-label=&quot;复制、粘贴与剪切快捷键 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;复制、粘贴与剪切快捷键&lt;/h3&gt;
&lt;p&gt;不管是文件和文件夹，还是文本，原来的快捷键按起来不大习惯，不知道是不是因为用惯了 Windows 的缘故，反正这三个快捷键是最常用，但按起来很别扭。所以，我就根据网上的一篇文章改成了和 Windows/Ubuntu 一样的。&lt;/p&gt;
&lt;h3 id=&quot;光标控制快捷键&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E5%85%89%E6%A0%87%E6%8E%A7%E5%88%B6%E5%BF%AB%E6%8D%B7%E9%94%AE&quot; aria-label=&quot;光标控制快捷键 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;光标控制快捷键&lt;/h3&gt;
&lt;p&gt;除了四个方向键以外，还有：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;行首：&lt;code class=&quot;language-text&quot;&gt;Control + A&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;行尾：&lt;code class=&quot;language-text&quot;&gt;Control + E&lt;/code&gt; （正好这两个和我在 Sublime 中一直设置的一样）&lt;/li&gt;
&lt;li&gt;单词间移动：Option + 左/右方向键&lt;/li&gt;
&lt;li&gt;删除一个单词：&lt;code class=&quot;language-text&quot;&gt;Option + Backspace&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Windows/Linux 下删除一个单词快捷键是&lt;code class=&quot;language-text&quot;&gt;Ctrl + Backspace&lt;/code&gt;，有次发现一个同事不知道，我有点儿惊讶。&lt;/p&gt;
&lt;h3 id=&quot;文件系统&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F&quot; aria-label=&quot;文件系统 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;文件系统&lt;/h3&gt;
&lt;p&gt;主要是 Finder，还没有用习惯。重命名直接按 &lt;code class=&quot;language-text&quot;&gt;Return&lt;/code&gt;/&lt;code class=&quot;language-text&quot;&gt;Enter&lt;/code&gt; 就可以了，确实比 Windows 的要快捷多了。但是文件的排序方式不太喜欢，首先默认情况下是不自动排序和组织文件与文件夹的，需要设置，而且我希望文件夹一起，文件一起，不要按名字混合在一起。&lt;/p&gt;
&lt;p&gt;另外就是 Finder 窗口显示有点小，不能保持上次的大小，在上传文件时的选择文件窗口也是。&lt;/p&gt;
&lt;h3 id=&quot;内置软件&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E5%86%85%E7%BD%AE%E8%BD%AF%E4%BB%B6&quot; aria-label=&quot;内置软件 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;内置软件&lt;/h3&gt;
&lt;p&gt;内置软件比 Windows 的丰富实用，即有办公处理套件 Keynote、Pages、Numbers，也有图书、图片、音乐和视频管理软件，浏览器比 IE 好吧，虽然自己最喜欢 Chrome。&lt;/p&gt;
&lt;p&gt;Mac OSX 是基于 FreeBSD 的，属于 *nix 系的，提供了与其他 Linux 相似的命令，也自带了一些编程工具，如 Python、Ruby、git 等。&lt;/p&gt;
&lt;h3 id=&quot;命令行&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E5%91%BD%E4%BB%A4%E8%A1%8C&quot; aria-label=&quot;命令行 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;命令行&lt;/h3&gt;
&lt;p&gt;自己使用的自带的 Terminal，听说 iTerm2 不错，但是没怎么用过。首先用户名目录下的&lt;code class=&quot;language-text&quot;&gt;.bash_profile&lt;/code&gt;是 Bash 命令的配置文件，和 Ubuntu 不一样。其次，要熟悉几个快捷键：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;新建 Tab：&lt;code class=&quot;language-text&quot;&gt;Command + T&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;前一个 Tab：&lt;code class=&quot;language-text&quot;&gt;Command + {&lt;/code&gt;，就是&lt;code class=&quot;language-text&quot;&gt;Command + Shift + [&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;后一个 Tab：&lt;code class=&quot;language-text&quot;&gt;Command + }&lt;/code&gt;，就是&lt;code class=&quot;language-text&quot;&gt;Command + Shift + ]&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;上一页：&lt;code class=&quot;language-text&quot;&gt;Control + PageUp&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;下一页：&lt;code class=&quot;language-text&quot;&gt;Control + PageDown&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;另外，&lt;code class=&quot;language-text&quot;&gt;Control + A&lt;/code&gt;/&lt;code class=&quot;language-text&quot;&gt;Control + E&lt;/code&gt;，以及经过改键之后的&lt;code class=&quot;language-text&quot;&gt;Control + C&lt;/code&gt;/&lt;code class=&quot;language-text&quot;&gt;Control + V&lt;/code&gt;也能直接在 Terminal 中使用。&lt;/p&gt;
&lt;p&gt;哦，还有一点儿要提的就是，很多软件的快捷键是相通的，软件设计人员设计时也会参考出名的软件的某些功能。比如 Tab 的创建、关闭、前一个、后一个、恢复，有几个快捷键在 Chrome/Sublime 下与 Terminal 一样的。&lt;/p&gt;
&lt;h3 id=&quot;软件安装与卸载&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E8%BD%AF%E4%BB%B6%E5%AE%89%E8%A3%85%E4%B8%8E%E5%8D%B8%E8%BD%BD&quot; aria-label=&quot;软件安装与卸载 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;软件安装与卸载&lt;/h3&gt;
&lt;p&gt;有多种安装方式：AppStore、软件官网、命令行。&lt;/p&gt;
&lt;p&gt;AppeStore 用的不多，就几款软件是在这里安装的，比如有道翻译、WeiboX、Xcode等。对大陆用户来说挺难用的，连接速度太慢了，中国区软件就没几款质量高的，但是中国区的 Apple ID 又不能在美国区下载安装。&lt;/p&gt;
&lt;p&gt;一些常用软件的官网都提供 &lt;code class=&quot;language-text&quot;&gt;.dmg&lt;/code&gt; 格式的安装包，如 QQ、百度输入法、Chrome等。&lt;code class=&quot;language-text&quot;&gt;.dmg&lt;/code&gt;格式的安装包也很容易安装，把图标拖到 Application 图标上面就可以了，其实就是放到了 Application 目录下面。&lt;/p&gt;
&lt;p&gt;命令行对于程序员来说用得反而是最多的了，除了一些语言包管理器， 还有 Homebrew。&lt;/p&gt;
&lt;h2 id=&quot;常用软件&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E5%B8%B8%E7%94%A8%E8%BD%AF%E4%BB%B6&quot; aria-label=&quot;常用软件 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;常用软件&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;输入法&lt;/strong&gt;：自己使用百度输入法，其他还有搜狗、QQ、FIT等，比 Ubuntu 上面的输入法好多了。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;QQ&lt;/strong&gt;：虽然功能没有 Windows 上面多，但也够用了，还显得简洁。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;浏览器&lt;/strong&gt;：最习惯用 Chrome，而且 Chrome 自己带了 Flash 播放组件，所以看国内一些在线视频网站是没有问题的，要不好像得用&lt;a href=&quot;https://github.com/zythum/mama2&quot;&gt;妈妈计划&lt;/a&gt;提供的 HTML5 播放方式。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Alfred&lt;/strong&gt;：神器榜排行第一的软件，虽然我还没深度学习过怎么用。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;编辑器&lt;/strong&gt;：我自己常用 Sublime 与 Vim，这两款都是跨平台的，虽然 Sublime 在 Ubuntu 下不用使用 iBus 直接输入中文。而 Vim，我没有尝试使用 macvim 呢，可能以后会尝试吧。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;命令行工具&lt;/strong&gt;：就直接使用自带的终端（Terminal），目前发现最方便的一点是可以使用快捷键复制与粘贴，最不方便的是自带的 Vim 中复制到系统剪切板或从系统剪切板复制到 vim 里麻烦，网上搜索的方法只有&lt;code class=&quot;language-text&quot;&gt;:1,50!pbcopy&lt;/code&gt;/&lt;code class=&quot;language-text&quot;&gt;:r !pbpaste&lt;/code&gt;有用。当然也有其他命令行工具，比如 iTerm。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;笔记&lt;/strong&gt;：使用 Evernote，刚开始安装后总是不能同步，后来不知怎么自己好了。跨设备、跨平台就是我的基本要求，其实我还想要任何编辑器都可以写的呢，所以有时用编辑器+github方式记笔记。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;虚拟机&lt;/strong&gt;：使用 VirtualBox，跨平台，安装简单，就是默认不开启 USB 访问、系统剪切板共享和显卡3D（安装游戏时需要）。VMware 功能更好，但是不免费，而且记得第一次为了双开游戏安装时花费了一天一夜，心里留下了阴影。当然，听说最好的虚拟系统是 Parallels Desktop。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;音乐播放器&lt;/strong&gt;：平时不怎么听音乐，因为听音乐时老是分心，偶尔使用豆瓣FM和网易云音乐听下。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;视频播放器&lt;/strong&gt;：几乎只在优酷网看。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;词典&lt;/strong&gt;：有道词典或者自带的 Dictionary，只不过都不太方便，有道词典不可以在 Chrome 中划词翻译，好像是 Chrome 权限设置太严格。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;改键&lt;/strong&gt;：因为使用的 PC 键盘，为了接近 Mac 的键盘，就得改键，使用 Karabiner。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;手册&lt;/strong&gt;：Dash，各种语言、库等的手册，但是很少用，都是直接查官方在线的。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Xcode&lt;/strong&gt;：用来测试网页在 iOS safari 中的效果。&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;双系统&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E5%8F%8C%E7%B3%BB%E7%BB%9F&quot; aria-label=&quot;双系统 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;双系统&lt;/h2&gt;
&lt;p&gt;官方提供了 Bootcamp 来安装 Windows，安装教程网上可以查到，按步骤来操作就可以了。需要注意的就是要准备至少一个优盘，用来做安装盘及下载 Bootcamp 相关的软件。遇到的一个问题就是 Bootcampe 安装的 Windows 系统与 Mac OSX 系统时间始终相差 8 小时，可以通过修改 Windows 注册表解决，原因分析及方法参考：&lt;a href=&quot;http://wenku.baidu.com/link?url=tLob_jRaLDPiVrOqqhOeHGL2FtxUGny3d3KfFhDVMvh7DajwmOrk381yvmjy7KYH3gCFyUI6N-dbkUW0GAOqPiqtoA04C0WG-WQz_8MUphq&quot;&gt;完美解决苹果电脑双系统时间同步问题&lt;/a&gt;。&lt;/p&gt;
&lt;p&gt;另外，听说 Parallels Desktop 安装的虚拟机，不仅可以方便在系统间切换，而且每个系统都能充分利用硬件的性能，有银子了一定要尝试下。&lt;/p&gt;
&lt;h2 id=&quot;科学上网&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E7%A7%91%E5%AD%A6%E4%B8%8A%E7%BD%91&quot; aria-label=&quot;科学上网 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;科学上网&lt;/h2&gt;
&lt;p&gt;一开始是利用 GoAgent 和修改hosts混合方式，后来两种方法总是出现问题，需要频繁更新。后来，看到同事用 VPN，还看到了 SSH Socks 方式，就想自己买个云主机玩玩。也是很早就关注到了 Linode 与 DigitalOcean 这两家，最终选择了后者，因为便宜，而且现阶段主要是用来学习及科学上网的。在建立虚拟主机（droplet）之前最好测试下连接速度，我测试之后发现 NYC2 最快，下载有三四百KB了，但是看 Youtube 视频还是巨卡。没有我同事的 VPN 速度快，同事用的专业 VPN，虽然有流量限制，但是无论打开网页，还是看视频，速度都可以。我自己是利用 PPTP 方式，这种方式手机也支持，至于如何安装与配置 pptpd，可以网上查到，也能查到 OSX 怎么连接到 VPN Server。&lt;/p&gt;
&lt;h2 id=&quot;游戏&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E6%B8%B8%E6%88%8F&quot; aria-label=&quot;游戏 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;游戏&lt;/h2&gt;
&lt;p&gt;尽管很少玩游戏，以前的笔记本性能太渣，没办法玩，然后买了 Mac 之后就尝试下安装 Dota2。其过程很不顺利，除了需要使用 steam 下载外，还要设置参数以便连接到中国区。之后在绑定完美账号时，有时不显示输入框，有时输入之后又一片黑了，虽然可以去网吧完成绑定步骤，但是我懒得去，就不玩了。谁知过了一两个月之后，又尝试绑定下，竟然成功了，可能是完美修复了吧，总之能玩了。然后十几个小时上手之后，和真人匹配，不出意料的被虐了，遂删档不玩了，要玩好太费时间了。&lt;/p&gt;
&lt;p&gt;还尝试了 CSR Racing 赛车游戏，感觉不如极品飞车好玩，提不起一点儿兴趣。当然，魔兽世界、LOL海外版提供 Mac 版的，但是感觉 Mac 下玩个游戏这么难，我这不自己跟自己过不去嘛，我不玩了。&lt;/p&gt;</content:encoded></item><item><title><![CDATA[MDN翻译小总结]]></title><description><![CDATA[加入MDN翻译 一开始学习前端时经常查的手册是 www.w3school.com.cn 和 css.doyoe.com，后来在金山的招聘信息中看到了很多新的前端技术名词，其中有 MDN。发现 MDN 上面的要更详细些，尤其是 DOM…]]></description><link>https://xiaocaoge.com//mdn-translation-summary/</link><guid isPermaLink="false">https://xiaocaoge.com//mdn-translation-summary/</guid><category><![CDATA[MDN]]></category><category><![CDATA[翻译]]></category><dc:creator><![CDATA[Alex]]></dc:creator><pubDate>Wed, 01 Apr 2015 16:00:00 GMT</pubDate><content:encoded>&lt;h2 id=&quot;加入mdn翻译&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E5%8A%A0%E5%85%A5mdn%E7%BF%BB%E8%AF%91&quot; aria-label=&quot;加入mdn翻译 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;加入MDN翻译&lt;/h2&gt;
&lt;p&gt;一开始学习前端时经常查的手册是 &lt;a href=&quot;http://www.w3school.com.cn&quot;&gt;www.w3school.com.cn&lt;/a&gt; 和 &lt;a href=&quot;http://css.doyoe.com&quot;&gt;css.doyoe.com&lt;/a&gt;，后来在金山的招聘信息中看到了很多新的前端技术名词，其中有 MDN。发现 MDN 上面的要更详细些，尤其是 DOM 方面，好吧其实是很多方面，所以经常会在午休甚至上班时间学习 MDN 上面的基础知识。为啥说在午休及甚至上班呢？这是我第一份前端工作，特点是：工资少，加班多。&lt;/p&gt;
&lt;p&gt;大概过了四五个月之后，2014年五月份换了一份工作，在学习怎么输出格式化的 JSON 数据时，在 MDN 上了解到了 &lt;code class=&quot;language-text&quot;&gt;JSON.stringify()&lt;/code&gt; 方法的第二第三个参数，顺便也学习了&lt;code class=&quot;language-text&quot;&gt;JSON.parse()&lt;/code&gt;方法。突然发觉自己能翻译这两个页面时，就顺便翻译了。第二天看到紫云飞修改了一下，我就查看改了哪些，发现自己确实没翻译好，那两个方法没有理解透。不过 MDN 翻译之路已经起步了，慢慢总结需要改进的地方。&lt;/p&gt;
&lt;p&gt;然后，我加入了 MDN 中文翻译的 Leader 紫云飞创建的一个群，这个群联系方式页面太难找了，以至于我再找时都找不到了，我加入群里时算上我只有三个人。正好换的工作双休、不加班，且工作不繁忙，我就晚上用来学习及翻译 MDN 上面的文档，主要是 JavaScript 内置对象的属性和方法。翻译的速度并不算快，因为我要先技术过关，即使以前学过，但是一些细节需要学习，而且有些句子并不好翻译。快的话，10分钟能翻译一个页面，慢的话一晚上可能都翻译不完一个页面。七八两个月份是高产期，到九月份之后，工作忙了，晚上大部分时间学习 seajs、nodejs、hexo 等其他知识了，翻译就慢下来了。而且有时候会想翻译 MDN 有什么意义，因为我怀疑会有多少人看 MDN 的中文页面呢，基础的前端 JavaScript 知识可以通过《JavaScript权威指南》和《JavaScript高级程序设计》来学习，而且也有国内的参考手册。当然我没有页面浏览的数据，所以觉得人少只是自己的臆测。另外，对我自己来说还是有意义的，一来学习基础知识，二来增加点儿翻译经验。&lt;/p&gt;
&lt;h2 id=&quot;几个方面的总结：&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E5%87%A0%E4%B8%AA%E6%96%B9%E9%9D%A2%E7%9A%84%E6%80%BB%E7%BB%93%EF%BC%9A&quot; aria-label=&quot;几个方面的总结： permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;几个方面的总结：&lt;/h2&gt;
&lt;h3 id=&quot;我的翻译流程：&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E6%88%91%E7%9A%84%E7%BF%BB%E8%AF%91%E6%B5%81%E7%A8%8B%EF%BC%9A&quot; aria-label=&quot;我的翻译流程： permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;我的翻译流程：&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;通读英文文档，并练习，有不少是以前学过，但是学得不细的；&lt;/li&gt;
&lt;li&gt;如果有插入超链接，复制Source并把“en-US”替换为“zh-CN”，这是紫云飞教的，我一直手动一个个改的，反正也不多；&lt;/li&gt;
&lt;li&gt;先把标题快速翻译完；&lt;/li&gt;
&lt;li&gt;从头开始往下翻译，不断查字典，不断做练习等，直到翻译完；&lt;/li&gt;
&lt;li&gt;通读一遍查看错别字及格式错误；&lt;/li&gt;
&lt;li&gt;提交，再浏览一遍确认。&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&quot;mdn文档编辑器&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#mdn%E6%96%87%E6%A1%A3%E7%BC%96%E8%BE%91%E5%99%A8&quot; aria-label=&quot;mdn文档编辑器 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;MDN文档编辑器&lt;/h3&gt;
&lt;p&gt;需要调整格式的地方并不多，只需保留英文文档格式通常就可以了。经常用的格式也就是&lt;code class=&quot;language-text&quot;&gt;H2&lt;/code&gt;、&lt;code class=&quot;language-text&quot;&gt;H3&lt;/code&gt;、&lt;code class=&quot;language-text&quot;&gt;p&lt;/code&gt;、&lt;code class=&quot;language-text&quot;&gt;Code&lt;/code&gt;，以及插入链接和代码块。我以前遇到的最大麻烦就是插入代码块老是有问题，不是没有高亮效果，就是高亮嵌套高亮了，后来明白了选择&lt;code class=&quot;language-text&quot;&gt;Syntax Highlighter&lt;/code&gt;下拉列表对应的编程语言，初始化一个代码块，然后将英文的代码块复制粘贴到初始化的代码块中，但必须粘贴&lt;strong&gt;纯文本&lt;/strong&gt;。&lt;/p&gt;
&lt;p&gt;另外一个要学习的地方就是 MDN 的宏标记，或者叫宏标签，英文称为“Custom macros”，可以查看 &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/MDN/Contribute/Content/Custom_macros&quot;&gt;Custom macros&lt;/a&gt;，比如{% raw %}&lt;code class=&quot;language-text&quot;&gt;{{APIRef(&amp;quot;DOM Events&amp;quot;)}}&lt;/code&gt;{% endraw %}用来显示文档左侧的树形导航，比如{% raw %}&lt;code class=&quot;language-text&quot;&gt;{{jsxref(&amp;quot;Boolean&amp;quot;)}}&lt;/code&gt;{% endraw %}用来插入链接到&lt;code class=&quot;language-text&quot;&gt;Boolean&lt;/code&gt;对象页面的超链接，且语言为当前文档采用的语言。还可以查看相应宏标记的源码：&lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Template:jsxref&quot;&gt;https://developer.mozilla.org/en-US/docs/Template:jsxref&lt;/a&gt;。&lt;/p&gt;
&lt;h3 id=&quot;中英文混合编辑&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E4%B8%AD%E8%8B%B1%E6%96%87%E6%B7%B7%E5%90%88%E7%BC%96%E8%BE%91&quot; aria-label=&quot;中英文混合编辑 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;中英文混合编辑&lt;/h3&gt;
&lt;p&gt;主要有两个问题：一是中文和英文之间是否有空格；二是标点符号的使用，主要就是引号、括号、中文顿号与英文逗号。我参考了知乎上面的回答，我自己选择加空格，文章以中文为主时，也以中文标点为主。请查看知乎的讨论：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://www.zhihu.com/question/19587406&quot;&gt;中英文混排时中文与英文之间是否要有空格？&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.zhihu.com/question/19695720&quot;&gt;中英文混排的时候如何使用标点符号？&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.zhihu.com/question/20488833&quot;&gt;中英文文本混排时，园括号该用中文括号还是西文括号？&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;当然，这个问题以及排版问题对我来说很复杂，涉及很多细节，我只是统一了自己的风格。MDN 上面各人编辑的风格也不同，目前没有统一的规范供参考。&lt;/p&gt;
&lt;h3 id=&quot;术语管理&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E6%9C%AF%E8%AF%AD%E7%AE%A1%E7%90%86&quot; aria-label=&quot;术语管理 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;术语管理&lt;/h3&gt;
&lt;p&gt;这里的术语主要包括前端技术术语以及标题。前端技术术语一部分自然属于计算机科学与技术，另一部分是前端独有的，甚至会出现创造的词汇。我个人对于那些翻译很固定的词汇才会只保留中文，对于其他的会在括号里面注明英文，毕竟有部分英文术语可能有两种或多种中文翻译，怕拿捏不准；对于新出现的词汇一定保留英文，有些感觉一时很难翻译，或者一句话才能讲清楚。&lt;/p&gt;
&lt;p&gt;而对于标题，主要是一二级标题，因为这些是文档之间公用的，而且又是很多人在翻译，所以还是要统一管理的。虽然 MDN 提供了术语的管理页面，但是极少查看，作用不大。&lt;/p&gt;
&lt;p&gt;国内有计算机技术相关的术语库：&lt;a href=&quot;http://www.cnctst.cn/&quot;&gt;国家科技名词审查委员会&lt;/a&gt;和&lt;a href=&quot;http://www.microsoft.com/Language/zh-cn/Search.aspx&quot;&gt;微软的术语库&lt;/a&gt;。但是这两个只是供参考用的，既无法解决术语的统一性，也无法解决前端技术的快速发展。所以我有时会参考《JavaScript高级程序设计》这本书的一些术语翻译，之所以会参考这本，因为手头上没有其他相关的前端书，这本书的翻译质量高，读的人多。当然我确实应该参考更多的前端及其他计算机编程书籍的，另外也经常查有道词典。&lt;/p&gt;
&lt;p&gt;所以，我期待能有个专门管理术语的网站，就像 github 一样，可以在翻译某个项目时建立一个术语库，可以在翻译某本书时建立一个术语库，也可以专门为前端建立一个权威的术语库，人人都可以建立，最终马太效应会让术语变得统一，我想这也符合语言的发展规律吧，统一才能交流。不仅仅计算机领域，各行各业都要翻译，也不仅仅英语翻译为中文，日语、韩语、俄语都需要。&lt;/p&gt;
&lt;h3 id=&quot;中文翻译贡献者&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E4%B8%AD%E6%96%87%E7%BF%BB%E8%AF%91%E8%B4%A1%E7%8C%AE%E8%80%85&quot; aria-label=&quot;中文翻译贡献者 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;中文翻译贡献者&lt;/h3&gt;
&lt;p&gt;以前紫云飞做过一个 2014 年&lt;a href=&quot;http://weibo.com/p/1001603800332185524370&quot;&gt;统计&lt;/a&gt;，大概有 400 个人都翻译过。不过，70%都只翻译了一个页面，这其中又有不少只翻译了一句话。我也不知道为什么他们只翻译一个页面就不再翻译了。我猜想可能的原因：翻译比较枯燥，只是尝鲜的，编辑器不好用，觉得难翻译的，只是顺手翻译的等等。我突然觉得贡献者翻译的页数跟一些 github 上面的项目提交记录一样，会有几个贡献特别多的，但是贡献少的也是需要的。&lt;/p&gt;
&lt;p&gt;今年，紫云飞会把新来的翻译者邀请到QQ群，QQ群以前几乎没人说话的，现在稍微活跃了点儿，每月翻译的页面似乎比去年增加了一点儿。我自己翻译的速度也慢了，每月只有几个页面，也不知道自己何时会停止，我想着把最常需要的翻译完。MDN 上面有些文档质量低，有些就直接照搬的 W3C 上面的规范，有些又缺 &lt;a href=&quot;help.dottoro.com&quot;&gt;help.dottoro.com&lt;/a&gt; 上面的细节，而我的英文写作能力又渣，自己不想完善英文文档，也不太想翻译这些了。&lt;/p&gt;
&lt;p&gt;对于 2015 年，如果工作不忙的话，我还是想着继续翻译 MDN 的文档，想着翻译 CSS 与 SVG 方面的，并尝试做几个相关的小工具。&lt;/p&gt;</content:encoded></item><item><title><![CDATA[2014 年终总结]]></title><description><![CDATA[本文写于 2017 年 1 月 1 日 16 点 201…]]></description><link>https://xiaocaoge.com//2014-summary/</link><guid isPermaLink="false">https://xiaocaoge.com//2014-summary/</guid><category><![CDATA[年终总结]]></category><category><![CDATA[2014]]></category><dc:creator><![CDATA[Alex]]></dc:creator><pubDate>Tue, 30 Dec 2014 16:00:00 GMT</pubDate><content:encoded>&lt;p&gt;&lt;strong&gt;本文写于 2017 年 1 月 1 日 16 点&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;2014 年春节过后，公司的业务员和客服在一两个月内离职了一半，我打算坚持几个月之后离职，比工资低更让我难以忍受的是老板们对互联网的不懂与总是想做投机取巧的生意，对客户不是很尊重。但是，离职比我预期中来得早一点儿。&lt;/p&gt;
&lt;p&gt;那段时间，公司的技术主管让我设计一个能兼容 PC 和移动端的响应式网站，我就做了一个，不过 PC 上面怎么也设计得不满意，因为我不知道到底要显示什么内容，显得很空旷。当然，技术主管也是不满意，总是说要高大上，还说什么见我也经常看一些设计网站，怎么就设计不出来呢。当时，我心里是想说“我去你大爷的！见过一些优秀的设计就能设计出来，神马逻辑”。接下来忘记和他聊了什么，他就说我不务正业的意思，而且就站在我显示器面前，显示器就显示着 Photoshop，Photoshop 打开他要我设计的网站。当时我心里积攒的怒火爆发了，语气比较冲地说“我这不是正在设计吗，看不清这是什么吗”。后来，他也满脸不悦地离开了，过来大概半个小时，他让我到会议室单独谈谈，对于刚才冤枉我的事，他向我道歉了，然后忘记说了什么，总之我说了我要离职，他也同意了。&lt;/p&gt;
&lt;p&gt;离职办的很快，第二天就办理离职，也是够迅速的，明显感觉到一旦你决定离职，老板们就一副你赶紧滚蛋的表情。&lt;/p&gt;
&lt;h2 id=&quot;第二份前端工作&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E7%AC%AC%E4%BA%8C%E4%BB%BD%E5%89%8D%E7%AB%AF%E5%B7%A5%E4%BD%9C&quot; aria-label=&quot;第二份前端工作 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;第二份前端工作&lt;/h2&gt;
&lt;p&gt;从 2014 年 3 月 22 日离职之后，我就在准备找下一份工作，准备了一个月时间，这一个月内在博客上面水了几篇文章。投了三家公司，基本上都让面试了，一家团贷网，面试官使用一个专门验证 IE 浏览器的软件，可以同时打开 IE6-9 的软件，我忘记了软件的名字，打开我的作品，结果有些不兼容性，也没有其他亮点儿，面试就没通过。回来之后我好好修复了兼容性问题，又发现那个软件的 IE6 有问题，我是用真正的 VirtualBox 虚拟出来的 IE6 就没发现问题。接下来两家公司都通过面试了，一家刚成立的小公司，业务是汽车相关的，开 5000 工资，但离我住处太远了。另一家是我认为的东莞前列的互联网公司，卓博网，虽然只给我开 4000 工资，想着能到里面学习一些技术，离我住处又很近，就选择这家了。&lt;/p&gt;
&lt;p&gt;新的公司技术研发部有大概二三十人，后端、前端、客户端、测试都齐备了，其中前端就有四五个，好几个技术都不比我差。平时工作使用的系统是 Linux，我用的是 Ubuntu，后来发现 Linux 系统真的是不适合前端用，当时 Linux 下的 Chrome 开发者工具有 bug，另外浏览器观看 Flash 也要折腾一下。更不用说 Photoshop 不可以使用了，虽然有 GIMP，但是我一点儿都不熟悉，而且和 Photoshop 比起来界面一点儿也不酷。&lt;/p&gt;
&lt;p&gt;公司使用的技术有：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;服务端：Linux + Java + Nginx + Resin + SQL Server&lt;/li&gt;
&lt;li&gt;前端：SeaJS + jQuery + 自写 jQuery 插件 + Ant&lt;/li&gt;
&lt;li&gt;源码管理：SVN&lt;/li&gt;
&lt;li&gt;项目管理：JIRA&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;说实话工作的强度一点儿都不大，首先从不加班，其次安排的任务会给你比较长的时间去做。在我进公司一个月之后就熟悉了工作，所以闲暇时间比较多，我也是在这段时间继续学习 MDN 上面的 JavaScript 知识，并进行翻译工作，没想到就在这段时间翻译的文档，已经成为了 MDN 中文翻译的第二位贡献者，当然第一位的紫云飞一个人就抵得上所有其他人的总和了。虽然翻译一个 API 的文档就常常花费两三个小时，但是理解会更深刻，印象也比简单看一下要深。只是后来学习的兴趣转移了，就只是偶尔翻译一下了。&lt;/p&gt;
&lt;h2 id=&quot;mac-mini&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#mac-mini&quot; aria-label=&quot;mac mini permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Mac Mini&lt;/h2&gt;
&lt;p&gt;因为之前在知乎上面了解到了 Mac，发现很多程序员都用，甚至在不少公司都成了程序员的标配，经过一段时间的考（zan）察（qian），Mac 挺适合前端开发人员的，有不少优秀的开发者工具、设计软件，另外因为 OSX 是基于 BSD 系统的，也支持很多 Unix/Linux 命令，就是命令行工具足够强大。&lt;/p&gt;
&lt;p&gt;本来想买 MacBook Pro 的，但是我不想负债太多，而且怕家人觉得我买这么贵的电脑有问题，就买了 Mac Mini 中配，又花了一千凑齐了显示器和键盘。因为对于 Windows 和 Ubuntu 都熟悉，所以 Mac OSX 系统上手很快，常用的软件在其他系统上面都有的。&lt;/p&gt;
&lt;p&gt;至今，我都认为当时买 Mac 电脑是一个很正确的选择。对于我来说 Mac 显著的一大优点就是不可以玩 Dota 和 LOL 了，或者说玩起来不像 Windows 那么方便与流畅了。当然这对于很多游戏党来说显然是不能忍受的，理想的情况应该是一台玩游戏的高配台式机，一台 Mac 笔记本。&lt;/p&gt;
&lt;h2 id=&quot;总结&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E6%80%BB%E7%BB%93&quot; aria-label=&quot;总结 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;总结&lt;/h2&gt;
&lt;p&gt;这年开始工作也算逐渐走上正轨了，剩下的就是慢慢积累知识、学习技术。另外，因为学习资源更多的来源于网上，所以今年也没有读多少书。还有一点儿就是已经离毕业过去两年了，我只完成了当时的期望的两个目标之一，找到前端工作，另一个学习计算机科学基础知识始终没有认真开始过。&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Ubuntu 下安装 Windows 7]]></title><description><![CDATA[由于要学习 Flash 头像上传组件制作，所以必须切换到 Windows 系统，但是目前的系统是 Ubuntu。在 Windows 下安装 Ubuntu 有经验，比较容易，但是反过来就得网上查一下怎么弄了，主要是 Windows 安装时会把 Ubuntu 的引导系统 grub…]]></description><link>https://xiaocaoge.com//install-windows7-in-ubuntu/</link><guid isPermaLink="false">https://xiaocaoge.com//install-windows7-in-ubuntu/</guid><category><![CDATA[grub rescue]]></category><category><![CDATA[Ubuntu]]></category><category><![CDATA[windows7]]></category><dc:creator><![CDATA[Alex]]></dc:creator><pubDate>Wed, 13 Aug 2014 16:00:00 GMT</pubDate><content:encoded>&lt;p&gt;由于要学习 Flash 头像上传组件制作，所以必须切换到 Windows 系统，但是目前的系统是 Ubuntu。在 Windows 下安装 Ubuntu 有经验，比较容易，但是反过来就得网上查一下怎么弄了，主要是 Windows 安装时会把 Ubuntu 的引导系统 grub 给覆盖。&lt;/p&gt;
&lt;p&gt;系统现状：Debian 与 Ubuntu 14.04 双系统，Debian 是前一位离职人员使用的，我安装 Ubuntu 时没有把它删除。&lt;/p&gt;
&lt;p&gt;由于没有删除 Debian，所以 boot 分区是它所在的分区（/sda1），然后我怎么改 Ubuntu 里面的 grub 配置，都没办法使 Ubuntu 成为开机启动项的第一项，我觉得和 boot 分区是 Debian 所在分区有关。当然，这是我在直接格式化 Debian 所在的分区之后才反应过来的，因为删除之后，重启直接进入了 grub rescue 模式。至于我为什么去格式化 Debian 分区，因为我要装 Win7，我一直修改 Ubuntu 里面的 grub，总是无法让 Ubuntu 成为启动项第一，心里烦了，反正 Debian 里面有什么与我无关，反正我也不知道删除它会怎么样。&lt;/p&gt;
&lt;p&gt;至于如何从 grub rescue 模式正常进入系统，并修复 grub 引导，先把 Win7 装好再说，毕竟这是主要目的来着。&lt;/p&gt;
&lt;p&gt;用光盘或 U 盘启动盘安装 Win7，就像刚组装好机器安装 Win7 那样。首先应该建立 NTFS 分区，现在我该庆幸当初留着 Debian 了，这样就可以把 Win7 装到它所占的分区了，当然应该先利用分区工具把 ext4 格式分区删除，然后重新建立 Win7 要用的 NTFS 主分区。如果我当初删了 Debian 的话，估计安装 Ubuntu 时会占满这个硬盘，而且能不分区尽量不分区，现在我到觉得应该分几个区比较好，而且分区不一定非要把整个硬盘用完，反正不弄视频之类的也用不了多大容量。建立 NTFS 分区时会重写 MBR，因此就不能再进入到 grub 了。&lt;/p&gt;
&lt;p&gt;既然已经建立了 NTFS 分区，剩下就好办了，直接把 Win7 安装到里面就行了。安装完 Win7 之后使用 EasyBCD 工具给 Win7 的启动管理器（就是启动项菜单），添加进入到 Ubuntu 的选项，该工具很好用，直接“添加项目”，并选择 Linux 类型，找到 Ubuntu 所在的分区就可以了。然后重启，就会在 Win7 的启动项菜单里面看到新添加的进入到 Ubuntu 的条目，选择进入，然后就回到了 grub rescue 模式。&lt;/p&gt;
&lt;p&gt;如何从 grub rescue 模式进入到 Ubuntu 呢？详细可参考此文：&lt;a href=&quot;http://blog.chinaunix.net/uid-22915173-id-229241.html&quot;&gt;grub rescue 救援模式的处理&lt;/a&gt;。&lt;/p&gt;
&lt;p&gt;grub rescue 模式下，只有几个命令可用：&lt;code class=&quot;language-text&quot;&gt;ls&lt;/code&gt;、&lt;code class=&quot;language-text&quot;&gt;set&lt;/code&gt;、&lt;code class=&quot;language-text&quot;&gt;insmod&lt;/code&gt;、&lt;code class=&quot;language-text&quot;&gt;root&lt;/code&gt;、&lt;code class=&quot;language-text&quot;&gt;prefix&lt;/code&gt;。&lt;/p&gt;
&lt;p&gt;执行以下命令：&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;shell&quot;&gt;&lt;pre class=&quot;language-shell&quot;&gt;&lt;code class=&quot;language-shell&quot;&gt;grub rescue&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;set &lt;span class=&quot;token assign-left variable&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;hd0,msdos2&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; // 设定 grub 启动分区，Ubuntu 所在分区
grub rescue&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;set &lt;span class=&quot;token assign-left variable&quot;&gt;prefix&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;hd0,msdos2&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;/boot/grub // 设定 grub 启动路径
grub rescue&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;set // 查看设置情况
grub rescue&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;insmod /boot/grub/i386-pc/normal.mod // 加载基本模块
grub rescue&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;normal // 进入正常模式，会出现 grub 的开机启动菜单，选择 ubuntu 进入&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;上面需要注意 normal.mod 模块位置，我的 Ubuntu 14.04 在 &lt;code class=&quot;language-text&quot;&gt;grub/i386-pc/&lt;/code&gt; 目录下，有些就在 &lt;code class=&quot;language-text&quot;&gt;grub/&lt;/code&gt; 目录下。&lt;/p&gt;
&lt;p&gt;进入到 Ubuntu 之后，还要重新安装 grub 引导，更新 grub 配置才可以。执行以下命令：&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;shell&quot;&gt;&lt;pre class=&quot;language-shell&quot;&gt;&lt;code class=&quot;language-shell&quot;&gt;grub-install /dev/sda
&lt;span class=&quot;token function&quot;&gt;update-grub&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;OK，再次开机时 grub 启动项就会多一个 Windows 7 的选项了。有趣的是 grub 启动菜单选择 windows 7 进入到 Windows 启动菜单，而 Windows 启动菜单里面有前面添加的 Ubuntu 选项，然后可以回到 grub 启动菜单，然会无限轮回。&lt;/p&gt;</content:encoded></item><item><title><![CDATA[修复 grub 及相关工具]]></title><description><![CDATA[今天在升级 Ubuntu 时，到 grub 处卡住了，自带的升级管理器窗口变黑了，一直没有反应，然后我强制关闭了，重启之后发现杯具了。进入了 grub rescue 模式，说是 “crypto.mod” 未找到。我装的双系统，另外一个是 Windows7，由于 Windows…]]></description><link>https://xiaocaoge.com//repair-grub-and-some-useful-tools/</link><guid isPermaLink="false">https://xiaocaoge.com//repair-grub-and-some-useful-tools/</guid><category><![CDATA[grub]]></category><category><![CDATA[Ubuntu]]></category><category><![CDATA[系统引导]]></category><dc:creator><![CDATA[Alex]]></dc:creator><pubDate>Wed, 13 Aug 2014 16:00:00 GMT</pubDate><content:encoded>&lt;p&gt;今天在升级 Ubuntu 时，到 grub 处卡住了，自带的升级管理器窗口变黑了，一直没有反应，然后我强制关闭了，重启之后发现杯具了。进入了 grub rescue 模式，说是 “crypto.mod” 未找到。我装的双系统，另外一个是 Windows7，由于 Windows7 要靠 grub 引导，自然也进不去了。&lt;/p&gt;
&lt;p&gt;想着先利用分区工具修复 Windows7 的 MBR（到最后发现这个思路走远了），然后从网上或同事那里弄一个 crypto.mod 放进去试试。但是，发现U盘启动盘不见了，应该没带，只好向同事借了一个，里面还没有我需要的工具，只是一个 CentOS 安装盘。由于我不会在 Linux 下面制作启动盘，只好借了一位同事的 Windows 电脑，是利用U启动这款软件来制作的，功能挺全，就是有点大，300多M。很快我就制作好了，并利用里面的图形分区工具 DiskGenius 重新安装了 MBR，从而可以进入 Windows7 系统了。&lt;/p&gt;
&lt;p&gt;我一开始是想从网上下载 crypto.mod 的，但是只有源代码，我想下载一个 minGW 来编译一下，但是我怕编译后的文件不能用于 Linux 系统下（话说到底能用吗），然后从同事那里复制了一个。哦，说明一下，上周我装双系统 Windows7 时，已经知道了 Ext2Fsd 这款工具可以让 Windows 系统读写 Linux 的 Ext2/3/4 分区，通过设置就可以像操作 Windows 分区那样操作 Linux 下的分区（另外一款相似工具 Ext2explore 在我的电脑上只能读，不能写，而且界面类似于很多 FTP 工具那样的，我是不大喜欢）。这样我就可以把 crypto.mod 拷贝到 Ubuntu 中了。&lt;/p&gt;
&lt;p&gt;重启电脑，这次倒是没有进入 grub rescue 模式，反而进入了 grub4dos，当时我就晕了，这个 grub4dos 是什么工具呢？这个当然百度一下就知道了，grub4dos 是一个系统引导软件，grub 的分支，这个看名字也能猜出和 grub 有关系。然后我就根据网上查到的在 grub4dos 里面设置 root、kernel、initrd，然后执行 boot 命令，我没有期望这样就能进入 Ubuntu，当然它确实也没进去。因为某种原因失败了，然后进入到了 busybox 里面，并且提示可以执行几十个常见的 Linux 命令。经搜索知道了 busybox 是一个集成了一百多个常用 Linux 命令及一些常用工具的迷你版 Linux，在嵌入式开发中很常用。当然我也试着搜索“ubuntu busybox”，“busybox 引导 Ubuntu”，“busybox 安装 grub”，但是打开几个网页没有找到想要的结果，试了几个 StackOverflow 上面的回答，但是因为问题不完全一样中途失败了。&lt;/p&gt;
&lt;p&gt;另外 SO 上面也说了第一选择是利用 Ubuntu 的 Live CD 版来修复该问题，而我考虑到本地硬盘没有，Ubuntu 体积大，公司网络下载慢，所以就把这个作为最后的尝试了。当然经过上面的一系列折腾、失败，时间也从早上九点到了下午三点左右了，我这一天啥都没干呢，就为了修复 grub 升级失败。更悲催的是下载 Ubuntu 的速度慢的超出我的预料，我是从官网下的，无论是直接下，还是通过 goagent 代理下，都只有 20KB 的均速，经常下了快 100M 时就变成 0 了。看来还是自己电脑里有才是王道，网络不可靠，我只好下载 1.5G 的 Ubuntu Kylin 了，经过一个多小时下载好了。&lt;/p&gt;
&lt;p&gt;然后就是做一个 Ubuntu Kylin 的 Live USB 版，毕竟这年头光盘少啊。经过查询有好几款工具都可以制作：LinuxLive USB Creator，Unetbootin，grub4dos 等，见此文&lt;a href=&quot;http://www.360doc.com/content/12/1109/10/5698935_246765552.shtml&quot;&gt;U盘启动 Ubuntu 的 Live USB&lt;/a&gt;。原来 grub4dos 也可以制作啊，但是操作可能复杂，最后我选择了简单的 LinuxLive USB Creator。从官网下载软件后，按照软件操作步骤即可，非常简单，需要注意的是有一步是要选择固定系统模式的大小，这一步保持默认的 0 就可以了，结果我选择了2040M，这样最后一步应该是对这个 2040M 的空间特殊处理了，费了较长时间。U盘毕竟不是 USB 3.0 的，写入1.5G 也要好长时间呢，还好顺利地制作了 Ubuntu Kylin 的 Live USB 版。&lt;/p&gt;
&lt;p&gt;现在可以重启电脑，进入 Live Ubuntu Kylin 系统中了，加载确实比硬盘安装慢多了。进入系统之后，需要重新安装 grub，详请可参考 &lt;a href=&quot;http://blog.csdn.net/haoyunsheng_1201/article/details/7266941&quot;&gt;LiveCD 安装 Ubuntu 开机引导 grub&lt;/a&gt;。关键的步骤：&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;shell&quot;&gt;&lt;pre class=&quot;language-shell&quot;&gt;&lt;code class=&quot;language-shell&quot;&gt;&lt;span class=&quot;token function&quot;&gt;sudo&lt;/span&gt; -i
&lt;span class=&quot;token function&quot;&gt;mkdir&lt;/span&gt; /media/tempdir
&lt;span class=&quot;token function&quot;&gt;mount&lt;/span&gt; /dev/sda2 /media/tempdir
grub-install --root-directory&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;/media/tempdir /dev/sda&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;然后，重启就可以进入到 grub 启动菜单了，如果启动菜单里面没有 windows，则需要进入到 Ubuntu 中，并执行下面命令就可以了。&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;shell&quot;&gt;&lt;pre class=&quot;language-shell&quot;&gt;&lt;code class=&quot;language-shell&quot;&gt;&lt;span class=&quot;token function&quot;&gt;sudo&lt;/span&gt; update-grub2&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;修复完之后，已经快下班了，用了半天多时间，最后发现其实只要有 LiveCD 或 LiveUSB 版的 Ubuntu 就可以在十分钟内搞定了，而我偏偏绕了很大一个圈子。看来修复系统这事，必须准备齐全工具才行，可以节省非常多的时间。比如这次的问题，我最理想的情况是有个 LiveUSB 版的 Ubuntu，次一点自己或别人硬盘里面存着 Ubuntu ISO 文件，再次一点针对 Windows 系统的 U盘启动盘得有个吧。就当这些都没有，网速够快也可以吧，偏偏所有这些都没有，而我当时也不知道 Live 版是最简单直接的修复方式，所有这些结合就导致我今天花费近一天时间。&lt;/p&gt;</content:encoded></item><item><title><![CDATA[重新定义清除浮动]]></title><description><![CDATA[经典 以前最经典的清除浮动方法是利用伪元素，代码如下： 这种方法可兼容几乎所有浏览器，使用方便，不用在HTML代码中增加一个空标签，因此仍然被很多人使用。 但是，实际上针对IE6/7的方法与针对现代浏览器增加伪元素的方法本质上是不同的。针对IE6/…]]></description><link>https://xiaocaoge.com//redefine-clearfix-float/</link><guid isPermaLink="false">https://xiaocaoge.com//redefine-clearfix-float/</guid><category><![CDATA[CSS]]></category><category><![CDATA[float]]></category><category><![CDATA[清除浮动]]></category><dc:creator><![CDATA[Alex]]></dc:creator><pubDate>Sat, 24 May 2014 16:00:00 GMT</pubDate><content:encoded>&lt;h2 id=&quot;经典&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E7%BB%8F%E5%85%B8&quot; aria-label=&quot;经典 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;经典&lt;/h2&gt;
&lt;p&gt;以前最经典的清除浮动方法是利用&lt;code class=&quot;language-text&quot;&gt;:after&lt;/code&gt;伪元素，代码如下：&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;css&quot;&gt;&lt;pre class=&quot;language-css&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token selector&quot;&gt;.clearfix:after&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;content&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;.&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;/* 元素内容后面，即元素闭合标签前面加个点 */&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;height&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 0&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;/* 伪元素高度为0 */&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;visibility&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; hidden&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;/* 隐藏伪元素内容 */&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;display&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; block&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;/* 默认是inline，所以默认clear不起作用 */&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;clear&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; both&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;/* 清除浮动 */&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token selector&quot;&gt;.clearfix&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;zoom&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 1&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;/* 针对IE6/7，触发hasLayout */&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;这种方法可兼容几乎所有浏览器，使用方便，不用在HTML代码中增加一个空标签，因此仍然被很多人使用。&lt;/p&gt;
&lt;p&gt;但是，实际上针对IE6/7的方法与针对现代浏览器增加&lt;code class=&quot;language-text&quot;&gt;:after&lt;/code&gt;伪元素的方法本质上是不同的。针对IE6/7的&lt;code class=&quot;language-text&quot;&gt;zoom:1;&lt;/code&gt;使得元素触发了&lt;a href=&quot;http://satzansatz.de/cssd/onhavinglayout.html&quot;&gt;hasLayout&lt;/a&gt;这个IE专有特性，从而使得元素表现得如同现代浏览器里的&lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/Guide/CSS/Block_formatting_context&quot;&gt;BFC&lt;/a&gt; (Block Formatting Context)一样，比如阻止与子元素垂直方向的&lt;a href=&quot;http://www.w3school.com.cn/css/css_margin_collapsing.asp&quot;&gt;外边距叠加&lt;/a&gt;、包裹内部的浮动元素、不与浮动元素重叠。而针对现代浏览器的&lt;code class=&quot;language-text&quot;&gt;:after&lt;/code&gt;伪元素方法具有了“包裹内部的浮动元素”这一功能，因此在特别的布局中会产生问题，比如被清除浮动元素与浮动元素并排时，又比如被清除浮动元素内部第一个元素具有垂直方向的外边距时，关于可能产生的问题详见这篇文章：&lt;a href=&quot;http://www.cssmojo.com/clearfix_block-formatting-context_and_hasLayout/&quot;&gt;Everything you Know about Clearfix is Wrong&lt;/a&gt;。&lt;/p&gt;
&lt;h2 id=&quot;增强&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E5%A2%9E%E5%BC%BA&quot; aria-label=&quot;增强 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;增强&lt;/h2&gt;
&lt;p&gt;鉴于以上问题，上面文章的作者后来在&lt;a href=&quot;http://www.yuiblog.com/blog/2010/09/27/clearfix-reloaded-overflowhidden-demystified/&quot;&gt;clearfix Reloaded + overflow:hidden Demystified&lt;/a&gt;一文中介绍了一种技术，利用&lt;code class=&quot;language-text&quot;&gt;:before&lt;/code&gt;伪元素在被清除浮动元素的内容前面插入伪元素，并设置&lt;code class=&quot;language-text&quot;&gt;overflow:hidden&lt;/code&gt;使该伪元素具有BFC，因此可以阻止与内部元素垂直方向的外边距叠加。代码如下：&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;css&quot;&gt;&lt;pre class=&quot;language-css&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token selector&quot;&gt;.clearfix:before,
.clearfix:after&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;content&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;.&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;display&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; block&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;height&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 0&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;overflow&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; hidden&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token selector&quot;&gt;.clearfix:after&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;clear&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; both&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token selector&quot;&gt;.clearfix&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;zoom&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 1&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=&quot;精简&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E7%B2%BE%E7%AE%80&quot; aria-label=&quot;精简 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;精简&lt;/h2&gt;
&lt;p&gt;此后，来自Twitter的Nicolas Gallagher，也是normalize.css的作者，提出了一个更精简的实现方法，被他称为“micro clearfix”，此方法讲解可参考其写的一篇文章：&lt;a href=&quot;http://nicolasgallagher.com/micro-clearfix-hack/&quot;&gt;A new micro clearfix hack&lt;/a&gt;。其代码如下：&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;css&quot;&gt;&lt;pre class=&quot;language-css&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token selector&quot;&gt;.cf:before,
.cf:after&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;content&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot; &quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;display&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; table&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token selector&quot;&gt;.cf:after&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;clear&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; both&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token selector&quot;&gt;.cf&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;zoom&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 1&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;该技术关键之处：一是空格默认不会显示，二是利用&lt;code class=&quot;language-text&quot;&gt;display:table;&lt;/code&gt;可以产生一个&lt;code class=&quot;language-text&quot;&gt;display:table-cell;&lt;/code&gt;的匿名元素，而&lt;code class=&quot;language-text&quot;&gt;display:table-cell;&lt;/code&gt;可以使元素成为Block Formatting Context，从而避免了外边距叠加问题，从而和针对IE6/7的&lt;code class=&quot;language-text&quot;&gt;zoom: 1;&lt;/code&gt;设置表现一致。&lt;/p&gt;
&lt;p&gt;另外，如果不打算兼容IE6/7，则可以去掉&lt;code class=&quot;language-text&quot;&gt;zoom:1;&lt;/code&gt;，也不用&lt;code class=&quot;language-text&quot;&gt;:before&lt;/code&gt;伪元素，而&lt;code class=&quot;language-text&quot;&gt;content:” ”&lt;/code&gt;;加一个空格是为了避免Opera里面的一个bug，但是在国内Opera的份额可以忽略不计。&lt;/p&gt;
&lt;p&gt;另外的另外，我在&lt;a href=&quot;http://stackoverflow.com/questions/211383/which-method-of-clearfix-is-best#answer-9932508&quot;&gt;这里&lt;/a&gt;看到一个更精简的方法，兼容IE6+，代码只有三行：&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;css&quot;&gt;&lt;pre class=&quot;language-css&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token selector&quot;&gt;.cf&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;display&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; inline-block&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;width&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 100%&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;zoom&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 1&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=&quot;参考资源&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E5%8F%82%E8%80%83%E8%B5%84%E6%BA%90&quot; aria-label=&quot;参考资源 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;参考资源&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;CSS 101: Block Formatting Context: &lt;a href=&quot;http://www.yuiblog.com/blog/2010/05/19/css-101-block-formatting-contexts/&quot;&gt;http://www.yuiblog.com/blog/2010/05/19/css-101-block-formatting-contexts/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;How To Clear Floats Without Structural Markup: &lt;a href=&quot;http://www.positioniseverything.net/easyclearing.html&quot;&gt;http://www.positioniseverything.net/easyclearing.html&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Which method of clearfix is best?: &lt;a href=&quot;http://stackoverflow.com/questions/211383/which-method-of-clearfix-is-best&quot;&gt;http://stackoverflow.com/questions/211383/which-method-of-clearfix-is-best&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[搭建Linux工作环境之路]]></title><description><![CDATA[最近刚入职一家公司，老大问我用什么操作系统，还推荐我用Linux操作系统，我一听这，顿时来劲，凭着我深厚的（两个星期）Ubuntu功底，坚定地对老大说：“我用Ubuntu“，于是就有了接下来两天艰辛而悲催的搭建Ubuntu工作环境之路。 电脑本来装着的是Debian…]]></description><link>https://xiaocaoge.com//build-linux-workspace/</link><guid isPermaLink="false">https://xiaocaoge.com//build-linux-workspace/</guid><category><![CDATA[Ubuntu]]></category><category><![CDATA[系统搭建]]></category><dc:creator><![CDATA[Alex]]></dc:creator><pubDate>Sat, 17 May 2014 16:00:00 GMT</pubDate><content:encoded>&lt;p&gt;最近刚入职一家公司，老大问我用什么操作系统，还推荐我用Linux操作系统，我一听这，顿时来劲，凭着我深厚的（两个星期）Ubuntu功底，坚定地对老大说：“我用Ubuntu“，于是就有了接下来两天艰辛而悲催的搭建Ubuntu工作环境之路。&lt;/p&gt;
&lt;p&gt;电脑本来装着的是Debian，我以前没见过，本来也不会什么Linux，结果很抗拒它的桌面系统，呵呵。刚开始老大给了我一个Ubuntu 12.04的安装U盘，然后我在网上查了半天怎么把U盘挂载到Debian，我试了很多命令或方法，发现就是没反应。后来同事说主机前面的USB接口可能不能用，我心想：怪不得我试任何命令都没反应。于是我换到了主机后面的接口，一插上去就自动挂载了，很兴奋地可以从U盘启动了，出现了安装引导界面，但是在从U盘读取镜像文件时一直报错，我又查了半天，折腾了半天，最后说什么MD5错误。好吧就这样半天过去了，后来老大又给我下载了Ubuntu 14.04，果然只用半个多小时就安装好了。就这样半天过去，下班了。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;第二天，我开始安装并配置我经常使用的软件：&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;输入法：ibus + 小鹤双拼&lt;/li&gt;
&lt;li&gt;浏览器：Chrome&lt;/li&gt;
&lt;li&gt;编辑器：Sublime Text 2&lt;/li&gt;
&lt;li&gt;翻墙工具：goagent&lt;/li&gt;
&lt;li&gt;网盘：DBank&lt;/li&gt;
&lt;li&gt;FTP：Filezilla&lt;/li&gt;
&lt;li&gt;虚拟机：Virtualbox&lt;/li&gt;
&lt;li&gt;本地服务器：NodeJS及NPM&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;以及公司用到的几个软件：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;邮件客户端：Thunderbird&lt;/li&gt;
&lt;li&gt;IDE：Eclipse&lt;/li&gt;
&lt;li&gt;内部聊天：CTI&lt;/li&gt;
&lt;li&gt;本地服务器：Nginx&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;我发现安装这些软件基本上很顺利，也花不了多少时间，就是配置或者遇到意外问题时会花很多很多时间，其中有些问题到现在都没有很好解决。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ibus小鹤双拼：&lt;/strong&gt;我在自己电脑的Ubuntu 12.04上用得很好，到Ubuntu 14.04就发现an、en、ou等不符合小鹤的编码规则，这些变成了an-&gt;oj、en-&gt;of等。另一个问题就是只敲一个字母时，不会出现任何候选字，比如敲d，应该出现”的“，另外还要查查怎么安装鹤形辅码。ibus也没有云猜测功能，总之与Windows下的QQ、搜狗拼音差距很远，当然ibus人力财力也和他们差很远，而且已经两年没有更新了。我越来越觉得商业软件还是会占据主流，且使用方面也不一定比开源免费的差，这里商业软件指那些为实现商业价值而开发的软件，不一定收费。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Chrome的Flashplayer插件：&lt;/strong&gt;我安装了Ubuntu软件管理中心里面的flashplayer但是，打开的很多网页都会出现flashplayer的问题，问我是否安装。我又查了半天，试了变天，幸而最后终于解决了。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Sublime：&lt;/strong&gt;安装很顺利，就是再把Windows里面的个人配置复制到这里面时费了一段时间，首先我得知道Ubuntu下的Sublime配置文件放哪里。然后在使用Emmet时，发现不起作用，弹出一个让我安装其依赖PyV8的窗口，然后查了下，才知道PyV8不同操作系统有不同版本，还得专门下Linux的，而Windows下的当然没用了。然后在输入汉字时，发现ibus根本就没反应，网上一查属于Sublime对CJK输入支持不友好的问题，似乎Fcitx输入法可用，但ibus就只能安装一个InputHelper插件了，输入也很不方便。不支持GBK，然后下载了支持GBK的插件。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;DBank：&lt;/strong&gt;公司屏蔽了官网域名，我下载客户端都没法下，虽然可翻墙，但是我不想什么都翻墙，后来发现几乎所有网盘都被公司屏蔽了，这是个啥意思呢？正好我在Windows下的Dbank客户端已经一个月不能同步了，华为都没啥回应，到是搞什么企业云计算和移动端网盘很上心啊，我决定放弃华为的DBank了。再说我用它主要就是同步源码用的，我决定用github来同步源码，至于网盘我决定换一家可靠的，比如Dropbox。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Virtualbox：&lt;/strong&gt;还别说这个也费了几个小时，我打算安装Windows7的，但总是出现cdrom=0 cdrom=d的问题，查了半天才反应过来是镜像有问题。于是就先安装XP了，我安装虚拟机的一个重要目的就是安装QQ，结果公司屏蔽了QQ，不知道个什么屏蔽法，使用代理可以上WebQQ，但是不可以用QQ客户端。&lt;/p&gt;
&lt;p&gt;至于Filezilla和NodeJS安装没什么大问题，到是NPM安装Grunt时，全局安装要使用root权限，而且安装源总是有问题一样，安装了三四次才成功，后来我知道可以将下载失败的包从其官网手动下载拷贝到相应目录里。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Thunderbird：&lt;/strong&gt;在配置公司邮箱的时候出现了问题，应该是配置SMTP和POP时某个选项应该选择none，但是它之前总是提示我帐号和密码有问题。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Eclipse：&lt;/strong&gt;这个在安装svnclipse时一直下载到一段失败，后来不知道怎么弄的终于弄好了，然后是需要从SVN下载源码，再然后是配置resin，当然这些基本都是同事帮忙弄的，要是我估计得半天才能弄好吧。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Nginx：&lt;/strong&gt;安装之后要配置下本地端口，是同事帮忙弄得。&lt;/p&gt;
&lt;p&gt;才安装了以上这些软件就花了一天多，配置永远是最花时间的。还有其他不少东西都需要花时间尝试，比如字体设置、桌面设置、截图工具、查看图片工具、图片简单编辑工具、词典等等很多都需要学，而且很多软件不如Windows下的软件操作简单方便。&lt;/p&gt;
&lt;p&gt;还有Linux下文件与目录管理、权限管理、账户管理、Bash等等很多都需要学习，于是我开始了读《鸟哥的私房菜》的历程。&lt;/p&gt;</content:encoded></item><item><title><![CDATA[响应式图片]]></title><description><![CDATA[从定宽布局转向响应式布局的过程中，要想把PC…]]></description><link>https://xiaocaoge.com//responsive-images/</link><guid isPermaLink="false">https://xiaocaoge.com//responsive-images/</guid><category><![CDATA[Responsive]]></category><category><![CDATA[响应式]]></category><category><![CDATA[响应式图片]]></category><dc:creator><![CDATA[Alex]]></dc:creator><pubDate>Mon, 21 Apr 2014 16:00:00 GMT</pubDate><content:encoded>&lt;p&gt;从定宽布局转向响应式布局的过程中，要想把PC端显示的内容显示在小屏幕的手机或平板上，首先也是最基本的就是采用流式布局，而图片的显示需要加下面一行代码：&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;css&quot;&gt;&lt;pre class=&quot;language-css&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token selector&quot;&gt;img&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token property&quot;&gt;max-width&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 100%&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;这样图片最大宽度就不会超过小屏幕设备浏览器的宽度，但是把大图片在小屏幕设备上显示会带来额外的带宽消耗。尤其是现今移动端网络速度慢于PC端，且速度上下浮动太大，慢的是2.5G网络，快的是4G，又会经常从WiFI切换到2.5G或3G。而且对于大部分网站，图片的流量会占一半以上，因此缩减图片大小，节省带宽成为响应式图片的一大挑战。幸而开源社区已经有了很多响应式图片解决方案，但是要注意并没有完美的方案，要根据具体需要来选择合适的方案。&lt;/p&gt;
&lt;h2 id=&quot;adaptive-images&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#adaptive-images&quot; aria-label=&quot;adaptive images permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;adaptive-images&lt;/h2&gt;
&lt;p&gt;官网：&lt;a href=&quot;http://adaptive-images.com/&quot;&gt;http://adaptive-images.com/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;这是一个服务端解决方案，优点：一是不用更改现有的HTML标签结构，因此可快捷地应用于过去的项目；二是对于任何图片，包括JS添加的，都会起作用，即图片宽度不会大于浏览器宽度，三是由于其采用服务端解决方案，兼容性很广。&lt;/p&gt;
&lt;p&gt;但是，其缺点也是明显的：首先，其依赖Cookie和JS，这导致一些禁用或不能使用Cookie和JS的浏览器不能使用。然后是其对所有图片都起作用，这不适用于那些需要加载大图片的情形；再次，这是一个PHP解决方案，虽然也有Net方案，但还远不够用；最后，不适用于CDN，因为图片都是针对特定设备即时生成的（我觉得可以修改后端代码做到，但是我不会啊）。&lt;/p&gt;
&lt;h2 id=&quot;picturefill&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#picturefill&quot; aria-label=&quot;picturefill permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;picturefill&lt;/h2&gt;
&lt;p&gt;官网：&lt;a href=&quot;http://scottjehl.github.io/picturefill/&quot;&gt;http://scottjehl.github.io/picturefill/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;这是picture元素的一个polyfill，picture元素目前还没有任何浏览器实现。不过对于少量的图片，采用picturefill还是非常合适的。picturefill可以只应用于特定的图片，可以解决”Art Direction”问题，可以应用于CDN。同时应用picturefill也有些条件或限制，需要添加额外的标签，需要不同尺寸的图片，需要支持media query（可以采用&lt;a href=&quot;https://github.com/paulirish/matchMedia.js&quot;&gt;matchMedia&lt;/a&gt;）。&lt;/p&gt;
&lt;h2 id=&quot;responsive-imagesjs&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#responsive-imagesjs&quot; aria-label=&quot;responsive imagesjs permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;responsive-images.js&lt;/h2&gt;
&lt;p&gt;官网：&lt;a href=&quot;https://github.com/kvendrik/responsive-images.js&quot;&gt;https://github.com/kvendrik/responsive-images.js&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;这个与picturefill类似，不过它不依赖media query，而是通过JS检测浏览器的可见视口宽度来决定选择合适的图片，因此其兼容性很广，所有的主流浏览器。同时也不需要额外的标签，而是需要额外的属性，但是它不支持JS添加的图片，至少目前还不支持。&lt;/p&gt;
&lt;h2 id=&quot;其他&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E5%85%B6%E4%BB%96&quot; aria-label=&quot;其他 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;其他&lt;/h2&gt;
&lt;p&gt;此外还有很多其他的解决方案，如拥有速度检测的foresight.js、第三方服务的src.sencha.io等等，这里有一份目前响应式图片解决方案列表：&lt;a href=&quot;https://docs.google.com/spreadsheet/ccc?key=0Al0lI17fOl9DdDgxTFVoRzFpV3VCdHk2NTBmdVI2OXc#gid=0&quot;&gt;Responsive Images Chart&lt;/a&gt;。&lt;/p&gt;
&lt;p&gt;相对于缩减图片大小，节省带宽的要求，我觉得Art Direction是一个更难解决或者说更麻烦的问题。Art Direction其实就是移动端与PC端是不同的图片，这增加了工作量。而且我认为响应式设计相对于为移动端专门设计网站，工作量减少的并不多，且没有专门的移动端网站要完美，毕竟屏幕大小所造成的布局以及移动与PC端网速的差别都是很大的。对于中大型互联网公司，我始终认为专门设计移动端网站才是合适的。&lt;/p&gt;
&lt;h2 id=&quot;参考资源&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E5%8F%82%E8%80%83%E8%B5%84%E6%BA%90&quot; aria-label=&quot;参考资源 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;参考资源&lt;/h2&gt;
&lt;p&gt;Choosing A Responsive Image Solution: &lt;a href=&quot;http://www.smashingmagazine.com/2013/07/08/choosing-a-responsive-image-solution-2/&quot;&gt;http://www.smashingmagazine.com/2013/07/08/choosing-a-responsive-image-solution-2/&lt;/a&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[图标解决方案: CSS Sprites, DataURI和@font-face]]></title><description><![CDATA[很多网站都需要用到小的图标，而且不止一个，会用很多个。最先接触到（也是最早出现的）的一种解决方案是CSS Sprites，把所有图标都合并成一张大图。后来又了解了DataURI这种把图片编码成字符的方法，接着是现在大行其道的@font-face…]]></description><link>https://xiaocaoge.com//web-icons-css-sprites-datauri-and-font-face/</link><guid isPermaLink="false">https://xiaocaoge.com//web-icons-css-sprites-datauri-and-font-face/</guid><category><![CDATA[CSS Sprites]]></category><category><![CDATA[DataURI]]></category><category><![CDATA[font-face]]></category><dc:creator><![CDATA[Alex]]></dc:creator><pubDate>Sun, 13 Apr 2014 16:00:00 GMT</pubDate><content:encoded>&lt;p&gt;很多网站都需要用到小的图标，而且不止一个，会用很多个。最先接触到（也是最早出现的）的一种解决方案是CSS Sprites，把所有图标都合并成一张大图。后来又了解了DataURI这种把图片编码成字符的方法，接着是现在大行其道的@font-face方法，将常用的图标都制作成字体。三种方法的共同点是都能减少请求数，从而提高页面加载速度，同时又各有优劣：&lt;/p&gt;
&lt;h2 id=&quot;css-sprites&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#css-sprites&quot; aria-label=&quot;css sprites permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;CSS Sprites&lt;/h2&gt;
&lt;p&gt;CSS Sprites历史悠久，大概在2004年之前就出现了，Dave Shea 在&lt;a href=&quot;http://alistapart.com/article/sprites&quot;&gt;这篇文章&lt;/a&gt;中提出了CSS Sprites这种技术。至于怎么应用这种技术，可以谷歌，也可以参考这两篇文章：&lt;a href=&quot;http://udc.weibo.com/2012/05/%E8%B0%88%E8%B0%88css-sprites%E6%8A%80%E6%9C%AF%E5%8F%8A%E5%85%B6%E4%BC%98%E5%8C%96/&quot;&gt;谈谈CSS Sprites技术及其优化&lt;/a&gt;和&lt;a href=&quot;http://css-tricks.com/css-sprites/&quot;&gt;CSS Sprites: What They Are, Why They’re Cool, And How to Use Them&lt;/a&gt;。&lt;/p&gt;
&lt;p&gt;由于早期的浏览器并发请求数不超过2个，而减少请求数作为性能优化的第一规则，CSS Sprites也是成为了很多网站性能优化规则中的一条。由于IE6不支持PNG32透明，所以要不用GIF图片，要不就得让IE6支持PNG32透明，PNG32可以支持更丰富的色彩。除了IE6这点，其他的几乎所有平台的所有浏览器（当然不包括只能看文字的浏览器，以及非常古老的）都支持这种技术。因此色彩丰富与兼容性极佳是这种技术的突出优势。&lt;/p&gt;
&lt;p&gt;当然，由于需要把所有小图片合并成一张大图，尤其需要知道每一个小图在大图上的坐标，以便写CSS，从而使得开发时间延长。通过将小图放到固定的网格中，再加上有很多辅助或者自动化生成CSS Sprites的工具可以大大缩短开发时间。小图在大图上的位置是死的，通常都是相关的放到一起，成为一组，而到后期如果要增加图片那么只能增加到最后面，然后邻近的图片变得不相关，位置越来越混乱，增加了维护难度。另外，图片的尺寸也是固定的，要改变大小，位置又受影响，而且也不能利用background-size来调整图片大小，所以前期的规划很重要。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;优势：&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;减少请求数&lt;/li&gt;
&lt;li&gt;可以是任意的图标，也即任何色彩&lt;/li&gt;
&lt;li&gt;兼容性极好，IE6+及其他现代浏览器，包括移动端&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;劣势：&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;增加开发时间&lt;/li&gt;
&lt;li&gt;增加维护成本&lt;/li&gt;
&lt;li&gt;图片尺寸固定&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;工具：&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;SpriteCow: &lt;a href=&quot;http://www.spritecow.com/&quot;&gt;http://www.spritecow.com/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;SpritePad: &lt;a href=&quot;http://wearekiss.com/spritepad&quot;&gt;http://wearekiss.com/spritepad&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;CSS Sprite Generator: &lt;a href=&quot;http://spritegen.website-performance.org/&quot;&gt;http://spritegen.website-performance.org/&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;datauri&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#datauri&quot; aria-label=&quot;datauri permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;DataURI&lt;/h2&gt;
&lt;p&gt;DataURI是利用Base64编码规范将图片转换成文本字符，不仅是图片，还可以编码JS、CSS、HTML等文件。通过将图标文件编码成文本字符，从而可以直接写在HTML/CSS文件里面，不会增加任何多余的请求。&lt;/p&gt;
&lt;p&gt;但是DataURI的劣势也是很明显的，首先不支持IE6/7，这对于国内某些非要支持IE6的网站不可接受，至于IE8的32KB限制，我认为不能算劣势，通常一个小图标不会大于32KB。而采用Base64编码后的字符串大小要比原图片大5-10%左右，这还是经过Gzip压缩之后的。每次加载之后都需要浏览器将文本字符解码为图片，增加了客户端CPU消耗。由于每次都需要解码从而阻塞了CSS渲染，可以通过分离出一个专用的CSS文件，不过那就需要增加一个请求，那样与CSS Sprites相比没有了任何优势，也因此，在实践中不推荐这种方法。需要注意的是通过缓存CSS可以来达到缓存的目的。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;优势：&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;不增加请求数&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;劣势：&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;通常比图片要大不到10%&lt;/li&gt;
&lt;li&gt;每次加载页面都需要解码&lt;/li&gt;
&lt;li&gt;不支持IE6/7，IE8最大支持32KB，来自&lt;a href=&quot;http://caniuse.com/datauri&quot;&gt;Can I use Data URIs&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;难于维护&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;工具：&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Image to Dat URI Convertor: &lt;a href=&quot;http://websemantics.co.uk/online_tools/image_to_data_uri_convertor/&quot;&gt;http://websemantics.co.uk/online&lt;em&gt;tools/image&lt;/em&gt;to&lt;em&gt;data&lt;/em&gt;uri_convertor/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Convert Images to base64: &lt;a href=&quot;http://webcodertools.com/imagetobase64converter&quot;&gt;http://webcodertools.com/imagetobase64converter&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;font-face&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#font-face&quot; aria-label=&quot;font face permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;@font-face&lt;/h2&gt;
&lt;p&gt;这种采用@font-face技术的的方法被称为font icons，似乎是伴随着HTML5、CSS3、Bootstrap以及扁平化设计趋势流行开来的。相对于前两种技术，最显著的优势就是大小与颜色设置非常便利，不必再用Photoshop等图片工具了，大大加快开发进程和降低门槛。但也伴随着最大的劣势，图标的颜色只能为单色，虽然可以通过CSS渐变、背景色或者font layering等技术稍微丰富下色彩，却仍旧弥补不了这天生的缺陷。好在是现在越来越注重内容，扁平化也大行其道，曾经的炫丽被不断抛弃，这很大程度上掩盖了色彩单一的缺陷，突出了其优势。&lt;/p&gt;
&lt;p&gt;至于兼容性，除了一些旧的或残的手机浏览器之外，能兼容IE6+及其他现代浏览器。哦，还有一个劣势，一般限于通用型的图标，如箭头、主页、搜索等几百个，其他要定制图标的话开发成本比较大，还不如采用CSS Sprites技术呢。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;优势：&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;减少请求数&lt;/li&gt;
&lt;li&gt;可以兼容至IE6+及其他现代浏览器，几乎所有移动端浏览器，&lt;a href=&quot;http://caniuse.com/fontface&quot;&gt;参考&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;大小、颜色的设置像操作字体般简单快捷&lt;/li&gt;
&lt;li&gt;体积通常比图片小&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;劣势：&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;只能单一色彩（font layering可以多种颜色，但兼容性难以保证）&lt;/li&gt;
&lt;li&gt;一般限于通用型图标&lt;/li&gt;
&lt;li&gt;不兼容旧的手机浏览器：Opera mini，Android 2.1，Windows Phone 7.5-7.8&lt;/li&gt;
&lt;li&gt;在手机上可能与系统字体冲突&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;工具：&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Font Awesome Icons: &lt;a href=&quot;http://fortawesome.github.io/Font-Awesome/icons/&quot;&gt;http://fortawesome.github.io/Font-Awesome/icons/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Fontello: &lt;a href=&quot;http://fontello.com/&quot;&gt;http://fontello.com/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Fontsquirrel: &lt;a href=&quot;http://www.fontsquirrel.com/tools/webfont-generator&quot;&gt;http://www.fontsquirrel.com/tools/webfont-generator&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;其他&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E5%85%B6%E4%BB%96&quot; aria-label=&quot;其他 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;其他&lt;/h2&gt;
&lt;p&gt;当然还有其他的解决方案，比如SVG Sprites、HTML实体符号、纯CSS图标。只是纯CSS图标只能兼容最新的浏览器，对IE8及IE8以下不兼容。而HTML实体符号的显示效果很不理想，图标有点丑，且种类很少。至于SVG Sprites，还没有尝试过，&lt;a href=&quot;http://ianfeather.co.uk/ten-reasons-we-switched-from-an-icon-font-to-svg/&quot;&gt;这篇文章&lt;/a&gt;说比@font-face方法要有优势，可以尝试一下。&lt;/p&gt;
&lt;h2 id=&quot;参考资源&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E5%8F%82%E8%80%83%E8%B5%84%E6%BA%90&quot; aria-label=&quot;参考资源 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;参考资源&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;CSS Sprites Sheets: &lt;a href=&quot;http://goo.gl/mVQ6AC&quot;&gt;http://goo.gl/mVQ6AC&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;The New Bulletproof @Font-face Syntax: &lt;a href=&quot;http://www.fontspring.com/blog/the-new-bulletproof-font-face-syntax&quot;&gt;http://www.fontspring.com/blog/the-new-bulletproof-font-face-syntax&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Bulletproof Accessible Font Icons: &lt;a href=&quot;http://filamentgroup.com/lab/bulletproof_icon_fonts/&quot;&gt;http://filamentgroup.com/lab/bulletproof&lt;em&gt;icon&lt;/em&gt;fonts/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Image Sprites Or Data URI?...: &lt;a href=&quot;http://benfrain.com/image-sprites-data-uris-icon-fonts-v-svgs/&quot;&gt;http://benfrain.com/image-sprites-data-uris-icon-fonts-v-svgs/&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[书签管理小记]]></title><description><![CDATA[在大学时代，电脑基本上玩游戏了，浏览的网站无非都是些QQ空间、淘宝、人人之类，一共也就那么几个，连标签栏都占不满，也就没必要管理。后来学习PPT…]]></description><link>https://xiaocaoge.com//bookmark-management/</link><guid isPermaLink="false">https://xiaocaoge.com//bookmark-management/</guid><category><![CDATA[bookmark]]></category><category><![CDATA[书签]]></category><category><![CDATA[前端资源]]></category><dc:creator><![CDATA[Alex]]></dc:creator><pubDate>Fri, 11 Apr 2014 16:00:00 GMT</pubDate><content:encoded>&lt;p&gt;在大学时代，电脑基本上玩游戏了，浏览的网站无非都是些QQ空间、淘宝、人人之类，一共也就那么几个，连标签栏都占不满，也就没必要管理。后来学习PPT，发现了一些相关的博客、工具、图片资源等大概几十个网址。这也很好管理，两三个文件夹，分类管理就可以了。我想这些对于大部分学生时代的人都够用了，说真的，书签还真不用怎么管理，没多少。&lt;/p&gt;
&lt;p&gt;后来学习前端后，书签开始持续增长。书签主要来自：百度或谷歌搜索、书上、博文或导航页面中的链接。书签虽然增长到了几百个，不过还是采用文件夹分组管理，大概就按技术来分：常用、手册、图片、前端、CSS、JS、博客、PHP、设计、待读等。&lt;/p&gt;
&lt;p&gt;一开始学习时，经常把书中或博文中的链接都看一下（做到这个就必须学会架fan梯qiang子和提高英语阅读水平，字典是必须随时查的），看一下具体什么内容，网站主题，是否值得收藏，可谓是人工爬虫，所以收藏了很多链接。经过一年半载之后，发现有很多链接从来不再访问，即使访问也是通过搜索引擎而不是书签访问的。而且这么多链接也太占地方了，决定筛选清理一下。&lt;/p&gt;
&lt;h2 id=&quot;常用类&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E5%B8%B8%E7%94%A8%E7%B1%BB&quot; aria-label=&quot;常用类 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;常用类&lt;/h2&gt;
&lt;p&gt;这个包含各类网站了，豆瓣读书、淘宝、微博、知乎、github、Stackoverflow、smashingmagazine、Gmail、dribbble等。Google排在最顶级的，所以不包含在常用类。&lt;/p&gt;
&lt;h2 id=&quot;手册类&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E6%89%8B%E5%86%8C%E7%B1%BB&quot; aria-label=&quot;手册类 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;手册类&lt;/h2&gt;
&lt;p&gt;像什么HTML、CSS、JavaScript、jQuery API、MDN reference、PHP Manual等会经常用到，虽然可以全部学习一遍，但是难免有些记不住，尤其一遍也学不到某些细节，或者时间久了自然会忘记一些。&lt;/p&gt;
&lt;h2 id=&quot;在线工具类&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E5%9C%A8%E7%BA%BF%E5%B7%A5%E5%85%B7%E7%B1%BB&quot; aria-label=&quot;在线工具类 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;在线工具类&lt;/h2&gt;
&lt;p&gt;我常用的有Base64 encode、在线压缩JS/CSS、在线生成CSS Sprites、font icons、ajaxload等。&lt;/p&gt;
&lt;h2 id=&quot;把不适合当前读的删除&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E6%8A%8A%E4%B8%8D%E9%80%82%E5%90%88%E5%BD%93%E5%89%8D%E8%AF%BB%E7%9A%84%E5%88%A0%E9%99%A4&quot; aria-label=&quot;把不适合当前读的删除 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;把不适合当前读的删除&lt;/h2&gt;
&lt;p&gt;比如说各大UED、大牛的博客、一些图片资源网站。我自己觉得那些大公司UED并不适合一个打基础的读，知识不系统，主题又不定。而大牛的博客与之类似，世界级大神的文章往往有深度，看得话要花时间啃。所以我决定暂时移出这些网址，如果学习某个主题的过程当中搜到了他们的文章，还是会看的，这也是我习惯的学习方式，按照某个主题疯狂的搜索文章，这方面谷歌甩百度十条街不止。至于图片资源网站，我只留一个iconfinder，其他的很少用到。&lt;/p&gt;
&lt;h2 id=&quot;待读链接&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E5%BE%85%E8%AF%BB%E9%93%BE%E6%8E%A5&quot; aria-label=&quot;待读链接 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;待读链接&lt;/h2&gt;
&lt;p&gt;这里面会存放近期要（继续）读的链接，或者是一些为了写博文而准备的链接。但是这个分类经常会存好多，发现大部分决定要读的文章后来再也没读过了，弃之可惜。&lt;/p&gt;
&lt;h2 id=&quot;将链接存到其他地方&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E5%B0%86%E9%93%BE%E6%8E%A5%E5%AD%98%E5%88%B0%E5%85%B6%E4%BB%96%E5%9C%B0%E6%96%B9&quot; aria-label=&quot;将链接存到其他地方 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;将链接存到其他地方&lt;/h2&gt;
&lt;p&gt;后来发现有很多网站属于觉得对自己可能有用，或者网站有再看的价值，但是现在没机会看，就把这些用Evernote收藏了。另外我会把我读过的所有文章都收藏到Evernote中，现在没什么价值，以后可能挖掘点儿什么数据。单纯收藏链接来说，我觉得Evernote还不太方便，还是应该用专业的delicious或者自己做一个书签管理工具。&lt;/p&gt;
&lt;h2 id=&quot;资源导航类&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E8%B5%84%E6%BA%90%E5%AF%BC%E8%88%AA%E7%B1%BB&quot; aria-label=&quot;资源导航类 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;资源导航类&lt;/h2&gt;
&lt;p&gt;有时候会突然发现一些资源导航类的链接，里面有很多相关的链接，比如&lt;a href=&quot;https://docs.google.com/document/d/1kuhUEiIkAUHO0LBBNM4A1Enc5QgVZn3CDkuSoPZJR1U/edit&quot;&gt;HTML CSS and JavaScript resources&lt;/a&gt;、&lt;a href=&quot;https://github.com/dypsilon/frontend-dev-bookmarks&quot;&gt;frontend-dev-bookmarks&lt;/a&gt;，然后一个个点开，自己觉得合适的就收藏起来，也突然增加一些陌生的链接。而实际上，我以后很长一段时间又很少会点开这些链接，这些都是一些新知识，我一时没时间去学。现在我觉得把这些资源导航类链接收藏起来，其他的收藏几个对当前有用的，所有链接都熟悉下，然后以后需要了再回头看。&lt;/p&gt;
&lt;h2 id=&quot;定期筛选清理&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E5%AE%9A%E6%9C%9F%E7%AD%9B%E9%80%89%E6%B8%85%E7%90%86&quot; aria-label=&quot;定期筛选清理 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;定期筛选清理&lt;/h2&gt;
&lt;p&gt;这个是必须的，就像房间一样，必须定期整理打扫才不至于又乱又脏（好吧！我房间比较乱）。我自己大概每个3-6个月筛选清理一下，但是现在的书签管理还是不便利，经过筛选留下的链接中很多还是不会看，有些链接一个就够看个把月了。混乱啊，该怎么管理是好？&lt;/p&gt;
&lt;p&gt;最后附自己书签：&lt;a href=&quot;/demo/re-bookmarks_4_12_14.html&quot;&gt;bookmarks&lt;/a&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Markdown语法学习]]></title><description><![CDATA[简介 Markdown是一种为了提高文档易读性与易写性的纯文本格式规范，其可以转换成HTML，从而可以利用CSS定制其样式。Markdown语法非常简单，而且语法符号也是为了快速书写文本而设计。Markdown发布已经很久了，其初由John Gruber与Aaron Swartz…]]></description><link>https://xiaocaoge.com//markdown-syntax/</link><guid isPermaLink="false">https://xiaocaoge.com//markdown-syntax/</guid><category><![CDATA[Markdown]]></category><category><![CDATA[Markdown语法]]></category><dc:creator><![CDATA[Alex]]></dc:creator><pubDate>Tue, 08 Apr 2014 16:00:00 GMT</pubDate><content:encoded>&lt;h2 id=&quot;简介&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E7%AE%80%E4%BB%8B&quot; aria-label=&quot;简介 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;简介&lt;/h2&gt;
&lt;p&gt;&lt;a href=&quot;http://en.wikipedia.org/wiki/Markdown&quot;&gt;Markdown&lt;/a&gt;是一种为了提高文档易读性与易写性的纯文本格式规范，其可以转换成HTML，从而可以利用CSS定制其样式。Markdown语法非常简单，而且语法符号也是为了快速书写文本而设计。Markdown发布已经很久了，其初由John Gruber与Aaron Swartz于2004年合作发布，&lt;a href=&quot;https://daringfireball.net/projects/markdown/basics&quot;&gt;最初的发布版本&lt;/a&gt;。直到现在，并没有一个统一的标准规范，各个实现版本会有些不同，不过基础的语法基本是相同的。Markdown已经应用在很多地方，如Github、Stackoverflow、reddit等网站，也应用于项目的ReadMe文件、一些论坛、写邮件、博客等地方。有多种实现的语言版本，也有多个系统平台上的编辑器实现，在线编辑器也有，这些可以谷歌会得到很多结果。&lt;/p&gt;
&lt;h2 id=&quot;语法&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E8%AF%AD%E6%B3%95&quot; aria-label=&quot;语法 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;语法&lt;/h2&gt;
&lt;h3 id=&quot;标题&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E6%A0%87%E9%A2%98&quot; aria-label=&quot;标题 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;标题&lt;/h3&gt;
&lt;p&gt;标题是以&lt;code class=&quot;language-text&quot;&gt;#&lt;/code&gt;开头的文本，如&lt;code class=&quot;language-text&quot;&gt;#标题&lt;/code&gt;，一级标题是一个&lt;code class=&quot;language-text&quot;&gt;#&lt;/code&gt;号，二级两个，直到六级，分别对应HTML当中的&lt;code class=&quot;language-text&quot;&gt;h1~h6&lt;/code&gt;标签。&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;#一级标题
##二级标题
###三级标题
…
######六级标题&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id=&quot;段落&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E6%AE%B5%E8%90%BD&quot; aria-label=&quot;段落 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;段落&lt;/h3&gt;
&lt;p&gt;段落就是普通的文本，空行表示换一个段落。&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;这是段落一这是段落一
这还是段落一

这是段落二&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id=&quot;引用&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E5%BC%95%E7%94%A8&quot; aria-label=&quot;引用 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;引用&lt;/h3&gt;
&lt;p&gt;引用是以&lt;code class=&quot;language-text&quot;&gt;&amp;gt;&lt;/code&gt;开头的文本。&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;&amp;gt; 这是一段引用这是一段引用
&amp;gt; 这和上面是同一段引用
&amp;gt; 这和上面是同一段引用&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id=&quot;代码&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E4%BB%A3%E7%A0%81&quot; aria-label=&quot;代码 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;代码&lt;/h3&gt;
&lt;p&gt;内嵌代码用反引号&lt;code class=&quot;language-text&quot;&gt;`&lt;/code&gt;，如&lt;code class=&quot;language-text&quot;&gt;`background: #fff;`&lt;/code&gt;。代码块使用四个空格或一个Tab缩进。&lt;/p&gt;
&lt;h3 id=&quot;列表&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E5%88%97%E8%A1%A8&quot; aria-label=&quot;列表 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;列表&lt;/h3&gt;
&lt;p&gt;无序列表用&lt;code class=&quot;language-text&quot;&gt;*&lt;/code&gt;或&lt;code class=&quot;language-text&quot;&gt;+&lt;/code&gt;或&lt;code class=&quot;language-text&quot;&gt;-&lt;/code&gt;开头表示：&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;* 项目一
* 项目二
* 项目三&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;或&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;+ 项目一
+ 项目二
+ 项目三&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;或&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;- 项目一
- 项目二
- 项目三&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;有序列表用数字跟一个英文句点表示：&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;1. 项目一
2. 项目二
3. 项目三&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id=&quot;强调&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E5%BC%BA%E8%B0%83&quot; aria-label=&quot;强调 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;强调&lt;/h3&gt;
&lt;p&gt;包括斜体与粗体，分别对应HTML中的&lt;code class=&quot;language-text&quot;&gt;em&lt;/code&gt;与&lt;code class=&quot;language-text&quot;&gt;strong&lt;/code&gt;标签。斜体为两边各一个&lt;code class=&quot;language-text&quot;&gt;#&lt;/code&gt;或&lt;code class=&quot;language-text&quot;&gt;_&lt;/code&gt;包裹，而粗体用&lt;code class=&quot;language-text&quot;&gt;##&lt;/code&gt;或&lt;code class=&quot;language-text&quot;&gt;__&lt;/code&gt;包裹，斜体可与粗体嵌套，比如：&lt;code class=&quot;language-text&quot;&gt;##_斜粗体_##&lt;/code&gt;。&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;#斜体#
_斜体_
##粗体##
__粗体__
##_斜粗体_##`&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id=&quot;超链接&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E8%B6%85%E9%93%BE%E6%8E%A5&quot; aria-label=&quot;超链接 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;超链接&lt;/h3&gt;
&lt;p&gt;超链接文本放在&lt;code class=&quot;language-text&quot;&gt;[]&lt;/code&gt;中，而超链接地址放在紧跟其后面的&lt;code class=&quot;language-text&quot;&gt;()&lt;/code&gt;中。&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;[百度](http://www.baidu.com)&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id=&quot;图片&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E5%9B%BE%E7%89%87&quot; aria-label=&quot;图片 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;图片&lt;/h3&gt;
&lt;p&gt;图片与超链接语法类似：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;一个英文感叹号&lt;code class=&quot;language-text&quot;&gt;!&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;接一个[]包裹的文本，其文本为图片无法显示时的替代文字，&lt;code class=&quot;language-text&quot;&gt;![替代文字]&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;接一个()包裹的图片链接，&lt;code class=&quot;language-text&quot;&gt;![替代文字](http://www.domain.com/photo.jpg)&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;在图片链接的后面还可以跟一个鼠标悬停在图片上时显示的文字：&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;![替代文字](http://www.domain.com/photo.jpg &amp;quot;鼠标悬停显示的文字&amp;quot;)&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id=&quot;转义特殊字符&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E8%BD%AC%E4%B9%89%E7%89%B9%E6%AE%8A%E5%AD%97%E7%AC%A6&quot; aria-label=&quot;转义特殊字符 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;转义特殊字符&lt;/h3&gt;
&lt;p&gt;Markdown允许通过反斜杠&lt;code class=&quot;language-text&quot;&gt;\&lt;/code&gt;来转义下面的特殊字符：&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;\   反斜杠
`   反引号
*   星号
_   下划线
{}  花括号
[]  方括号
()  括号
#   井号
+   加号
-   减号
.   英文句点
!   感叹号&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=&quot;更好的参考：&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E6%9B%B4%E5%A5%BD%E7%9A%84%E5%8F%82%E8%80%83%EF%BC%9A&quot; aria-label=&quot;更好的参考： permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;更好的参考：&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Markdown Here Cheatsheet: &lt;a href=&quot;https://github.com/adam-p/markdown-here/wiki/Markdown-Here-Cheatsheet&quot;&gt;https://github.com/adam-p/markdown-here/wiki/Markdown-Here-Cheatsheet&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Markdown语法说明：&lt;a href=&quot;http://wowubuntu.com/markdown/&quot;&gt;http://wowubuntu.com/markdown/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Github Markdown Basics: &lt;a href=&quot;https://help.github.com/articles/markdown-basics&quot;&gt;https://help.github.com/articles/markdown-basics&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;What is Markdown: &lt;a href=&quot;http://whatismarkdown.com/&quot;&gt;http://whatismarkdown.com/&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;在线编辑器&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E5%9C%A8%E7%BA%BF%E7%BC%96%E8%BE%91%E5%99%A8&quot; aria-label=&quot;在线编辑器 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;在线编辑器&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Cmd Markdown编辑阅读器：&lt;a href=&quot;https://www.zybuluo.com/mdeditor&quot;&gt;https://www.zybuluo.com/mdeditor&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Dillinger Online Markdown Editor: &lt;a href=&quot;http://dillinger.io/&quot;&gt;http://dillinger.io/&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[理解viewport与device-width]]></title><description><![CDATA[在响应式设计或移动Web开发当中经常见到的一句代码： content属性还包括initial-scale，user-scalable等，不过这里不谈，它们的意思都很容易理解。这里要谈得是：viewport代表什么？device-width又是啥？ 先来理解两个概念：device…]]></description><link>https://xiaocaoge.com//understanding-viewport-and-device-width/</link><guid isPermaLink="false">https://xiaocaoge.com//understanding-viewport-and-device-width/</guid><category><![CDATA[device-width]]></category><category><![CDATA[meta viewport]]></category><category><![CDATA[viewport]]></category><dc:creator><![CDATA[Alex]]></dc:creator><pubDate>Tue, 08 Apr 2014 16:00:00 GMT</pubDate><content:encoded>&lt;p&gt;在响应式设计或移动Web开发当中经常见到的一句代码：&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;meta&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;viewport&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;content&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;width=device-width&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;content属性还包括initial-scale，user-scalable等，不过这里不谈，它们的意思都很容易理解。这里要谈得是：viewport代表什么？device-width又是啥？&lt;/p&gt;
&lt;h3 id=&quot;先来理解两个概念：device-pixels与css-pixels。&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E5%85%88%E6%9D%A5%E7%90%86%E8%A7%A3%E4%B8%A4%E4%B8%AA%E6%A6%82%E5%BF%B5%EF%BC%9Adevice-pixels%E4%B8%8Ecss-pixels%E3%80%82&quot; aria-label=&quot;先来理解两个概念：device pixels与css pixels。 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;先来理解两个概念：device pixels与CSS pixels。&lt;/h3&gt;
&lt;p&gt;device pixels指设备的物理像素，在PC端就是你在操作系统里设置的屏幕分辨率y，其值可以通过&lt;code class=&quot;language-text&quot;&gt;screen.width/screen.height&lt;/code&gt;获取。在移动端下面再说。&lt;/p&gt;
&lt;p&gt;CSS pixels指在CSS文件中设置的字体大小、元素宽度等，如&lt;code class=&quot;language-text&quot;&gt;font-size: 14px;&lt;/code&gt; &lt;code class=&quot;language-text&quot;&gt;width: 100px;&lt;/code&gt; 。在PC端，浏览器缩放比例为100%，也即默认情况下，1 CSS pixel = 1 device pixel。&lt;/p&gt;
&lt;p&gt;当你放大页面到200%时，字体大小与元素宽度的像素值不会改变，是因为这些像素值是用CSS pixels表示的，实际上放大的是CSS pixels，此时 1 CSS pixel = 4 device pixels，高和宽都是200%。此时你获取&lt;code class=&quot;language-text&quot;&gt;screen.width/screen.height&lt;/code&gt;的值，并没有变化，而&lt;code class=&quot;language-text&quot;&gt;window.innerWidth&lt;/code&gt;和&lt;code class=&quot;language-text&quot;&gt;window.innerHeight&lt;/code&gt;的值变成了原来一半，是因为&lt;code class=&quot;language-text&quot;&gt;window.innerWidth/window.innerHeight&lt;/code&gt;的值也是用CSS pixels来表示的。&lt;/p&gt;
&lt;p&gt;当你进行流式布局时，会用百分比设置元素的宽度，比如一个块级元素宽度为10%，那么你也知道10%实际上是父级元素宽度的10%。但是你并没有设置父级元素的宽度啊，好吧，你也知道父级元素的宽度与其父级元素宽度一样（通过继承得来，假设这些元素都是块级元素）。然后向上到body元素的宽度，最终为html元素的宽度，其值可以通过&lt;code class=&quot;language-text&quot;&gt;document.documentElement.clientWidth&lt;/code&gt;获取。那这个宽度怎么来得呢？&lt;/p&gt;
&lt;h3 id=&quot;viewport&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#viewport&quot; aria-label=&quot;viewport permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Viewport&lt;/h3&gt;
&lt;p&gt;viewport，翻译为视口，也即可视区域的大小，PC端通过&lt;code class=&quot;language-text&quot;&gt;window.innerWidth&lt;/code&gt;和&lt;code class=&quot;language-text&quot;&gt;window.innerHeight&lt;/code&gt;获取。&lt;/p&gt;
&lt;p&gt;html元素也即文档的宽度，来自于viewport的宽度，在PC端要加上滚动条的宽度才会与viewport的宽度一样。因此，文档的宽度最终来自于viewport的宽度，PC端通过&lt;code class=&quot;language-text&quot;&gt;window.innerWidth&lt;/code&gt;获取。&lt;/p&gt;
&lt;h2 id=&quot;而在移动端，情况将变得复杂。&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E8%80%8C%E5%9C%A8%E7%A7%BB%E5%8A%A8%E7%AB%AF%EF%BC%8C%E6%83%85%E5%86%B5%E5%B0%86%E5%8F%98%E5%BE%97%E5%A4%8D%E6%9D%82%E3%80%82&quot; aria-label=&quot;而在移动端，情况将变得复杂。 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;而在移动端，情况将变得复杂。&lt;/h2&gt;
&lt;p&gt;首先，上面提到文档的宽度来自于viewport的宽度，我们把这个viewport称为layout viewport，因为它和布局有关。在手机上面，因为手机的屏幕很小，当初iphone发布时，为了显示完整的桌面网页，就把给layout viewport设置了一个980px的值。手机上，可以通过&lt;code class=&quot;language-text&quot;&gt;document.documentElement.clientWidth&lt;/code&gt;来获取，我在安卓手机上测试也是980px。&lt;/p&gt;
&lt;p&gt;但是这样显示网页，那网页的字体、元素都很小，小到打开这样一个网页，首先要做的就是放大页面。为了提高可读性，Apple允许通meta标签来设置layout viewport的宽度，也即文章开头的那行代码。&lt;/p&gt;
&lt;h3 id=&quot;但是，device-width又是什么呢？&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E4%BD%86%E6%98%AF%EF%BC%8Cdevice-width%E5%8F%88%E6%98%AF%E4%BB%80%E4%B9%88%E5%91%A2%EF%BC%9F&quot; aria-label=&quot;但是，device width又是什么呢？ permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;但是，device-width又是什么呢？&lt;/h3&gt;
&lt;p&gt;第一代iphone的分辨率为320*480，屏幕尺寸为3.5寸。当时把layout viewport设置成与浏览器宽度一样（而手机上浏览器宽度与手机屏幕宽度一样）时，不用每次打开网页放大了，而且显示的字体与桌面上差不多，可读性很好。因此就定义了一个device-width，即是手机的屏幕分辨率，此时device翻译为“设备”还合适。&lt;/p&gt;
&lt;p&gt;但是第二代iphone发布时，屏幕的分辨率变成了480*960，而屏幕尺寸仍然为3.5寸，如果device-width仍然为手机的屏幕分辨率宽度，那么字体将会比第一代小很多。所以，维持device-width的值不变将会是个很好得选择，能与前面兼容。也因此，iphone上的device-width的值一直为320，只不过device再表示“设备”已经不合适了，实际上代表的是一个中间层。而Android也采用了这一概念，其device-width的值为360的多，360=540/1.5，360=720/2。&lt;/p&gt;
&lt;h3 id=&quot;如何获取device-width的值呢？&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E5%A6%82%E4%BD%95%E8%8E%B7%E5%8F%96device-width%E7%9A%84%E5%80%BC%E5%91%A2%EF%BC%9F&quot; aria-label=&quot;如何获取device width的值呢？ permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;如何获取device-width的值呢？&lt;/h3&gt;
&lt;p&gt;浏览器并没有提供一个获取device-width的属性或方法，但是通过&lt;code class=&quot;language-text&quot;&gt;window.innerWidth&lt;/code&gt;可以获取，需要注意的是，必须添加文章开头那行代码才可以跨浏览器获取。如果不添加那行代码，我自己在HTC G18/ Andoird OS 4.0.3中测试，自带浏览器/UC9.6/QQ5.0可以获取，而在Chrome33和Opera20中通过screen.width可以获取。iPhone与iPad我没测试。这是测试网页地址：&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;/demo/viewport-screen-device-width-mobile.html&quot;&gt;/demo/viewport-screen-device-width-mobile.html&lt;/a&gt;。&lt;/p&gt;
&lt;p&gt;Chrome与Opera比较深入实现了中间层的概念，屏幕的实际分辨率与Web开发关系并不大，Chrome与Opera就将&lt;code class=&quot;language-text&quot;&gt;screen.width&lt;/code&gt;返回中间层的宽度。这里我也不明白哪种设计更好些。&lt;/p&gt;
&lt;p&gt;这里&lt;a href=&quot;http://viewportsizes.com/?filter=&quot;&gt;有个链接&lt;/a&gt;可以查看各种手机型号的device-width/device-height大小，虽然链接称为viewport size。&lt;/p&gt;
&lt;h2 id=&quot;参考资源：&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E5%8F%82%E8%80%83%E8%B5%84%E6%BA%90%EF%BC%9A&quot; aria-label=&quot;参考资源： permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;参考资源：&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;A tale of two viewports - part one: &lt;a href=&quot;http://www.quirksmode.org/mobile/viewports.html&quot;&gt;http://www.quirksmode.org/mobile/viewports.html&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;A tale of two viewports - part two: &lt;a href=&quot;http://www.quirksmode.org/mobile/viewports2.html&quot;&gt;http://www.quirksmode.org/mobile/viewports2.html&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;(上面译文) 两个viewport的故事 - 第一篇：&lt;a href=&quot;http://weizhifeng.net/viewports.html&quot;&gt;http://weizhifeng.net/viewports.html&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;两个viewport的故事 - 第二篇：&lt;a href=&quot;http://weizhifeng.net/viewports2.html&quot;&gt;http://weizhifeng.net/viewports2.html&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Using the viewport meta tag to control layout on mobile browsers: &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Mozilla/Mobile/Viewport_meta_tag&quot;&gt;https://developer.mozilla.org/en-US/docs/Mozilla/Mobile/Viewport&lt;em&gt;meta&lt;/em&gt;tag&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;An introduction to meta viewport and viewport: &lt;a href=&quot;http://dev.opera.com/articles/view/an-introduction-to-meta-viewport-and-viewport/&quot;&gt;http://dev.opera.com/articles/view/an-introduction-to-meta-viewport-and-viewport/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;什么是viewport，为什么需要viewport：&lt;a href=&quot;http://zhanchaojiang.iteye.com/blog/1470586&quot;&gt;http://zhanchaojiang.iteye.com/blog/1470586&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[Transition height from 0 to auto]]></title><description><![CDATA[CSS3的transition可以作用于大部分属性值为数值之类的属性，包括width、height、font-size、color、opacity等。但是将transition应用于，浏览器会识别height值为0，因此无法直接从过渡到。 一种简单的方法是，将过渡应用于max…]]></description><link>https://xiaocaoge.com//transition-height-from-0-to-auto/</link><guid isPermaLink="false">https://xiaocaoge.com//transition-height-from-0-to-auto/</guid><category><![CDATA[auto]]></category><category><![CDATA[height auto]]></category><category><![CDATA[transition]]></category><dc:creator><![CDATA[Alex]]></dc:creator><pubDate>Thu, 03 Apr 2014 16:00:00 GMT</pubDate><content:encoded>&lt;p&gt;CSS3的transition可以作用于大部分属性值为数值之类的属性，包括width、height、font-size、color、opacity等。但是将transition应用于&lt;code class=&quot;language-text&quot;&gt;height:auto;时&lt;/code&gt;，浏览器会识别height值为0，因此无法直接从&lt;code class=&quot;language-text&quot;&gt;height: 0;&lt;/code&gt;过渡到&lt;code class=&quot;language-text&quot;&gt;height: auto;&lt;/code&gt;。&lt;/p&gt;
&lt;p&gt;一种简单的方法是，将过渡应用于max-height属性，通过设置一个大于元素所可能达到的最大高度值。代码如下：&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;css&quot;&gt;&lt;pre class=&quot;language-css&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token selector&quot;&gt;.elem&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;max-height&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 0&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;overflow&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; hidden&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;-webkit-transform&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;translate3d&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;0&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;0&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;0&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;/* 开启硬件加速 */&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;transform&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;translate3d&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;0&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;0&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;0&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;-webkit-transition&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; all .3s ease-in&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;transition&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; all .3s ease-in&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token selector&quot;&gt;.elem-show&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;max-height&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 200px&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;/* 假如元素的最大可能高度为200px */&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;缺陷是，在元素最大可能高度与实际高度相差比较大时，由于过渡总是从最大可能高度过渡到0，因此会看到过渡效果有明显延迟。查看&lt;a href=&quot;/demo/transition-auto-delay.html&quot;&gt;DEMO&lt;/a&gt;
另一种方法是通过JS修正&lt;code class=&quot;language-text&quot;&gt;height:auto;&lt;/code&gt;不能过渡的问题，从而也避免了第一种方法的缺陷。思路是：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;先不设置最大可能高度，先在隐藏状态下获取该元素的实际高度，通过设置&lt;code class=&quot;language-text&quot;&gt;elem.style.visibility = &amp;#39;hidden&amp;#39;;&lt;/code&gt;隐藏该元素;&lt;/li&gt;
&lt;li&gt;要显示元素时，通过DOM2 Style的&lt;code class=&quot;language-text&quot;&gt;insertRule()&lt;/code&gt;方法将所获取的高度插入到样式表中，再添加一个class，触发过渡效果；&lt;/li&gt;
&lt;li&gt;待要隐藏元素时，再通过&lt;code class=&quot;language-text&quot;&gt;deleteRule()&lt;/code&gt;把刚才添加的CSS规则移除，并去掉添加的class；
由于改变样式表，所以导致了全局重绘，性能不如第一种。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;使用两种方法写的一个下拉菜单效果：&lt;a href=&quot;/demo/transition-height-from-0-to-auto.html&quot;&gt;DEMO&lt;/a&gt;，可查看相关源码&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;参考资源：&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;CSS transition height: 0; to height: auto;：&lt;a href=&quot;http://stackoverflow.com/questions/3508605/css-transition-height-0-to-height-auto&quot;&gt;http://stackoverflow.com/questions/3508605/css-transition-height-0-to-height-auto&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;CSS transition from/to auto values: &lt;a href=&quot;http://n12v.com/css-transition-to-from-auto/&quot;&gt;http://n12v.com/css-transition-to-from-auto/&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[电脑文件管理]]></title><description><![CDATA[…]]></description><link>https://xiaocaoge.com//compute-files-management/</link><guid isPermaLink="false">https://xiaocaoge.com//compute-files-management/</guid><category><![CDATA[文件管理]]></category><category><![CDATA[文件结构]]></category><dc:creator><![CDATA[Alex]]></dc:creator><pubDate>Tue, 01 Apr 2014 16:00:00 GMT</pubDate><content:encoded>&lt;p&gt;随着文件，尤其是新领域文件越来越多，发现电脑里面的文件又乱了，出现了很多操作不便的问题：找个文件要打开好几层文件夹，还不一定在；文件到底该放哪个文件夹，越来越随意了。是时候重新整理下混乱的文件了。&lt;/p&gt;
&lt;h2 id=&quot;首先，分析文件来源&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E9%A6%96%E5%85%88%EF%BC%8C%E5%88%86%E6%9E%90%E6%96%87%E4%BB%B6%E6%9D%A5%E6%BA%90&quot; aria-label=&quot;首先，分析文件来源 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;首先，分析文件来源&lt;/h2&gt;
&lt;p&gt;文件的来源无非两种：本地与外部。本地主要就是各种新建、复制、剪切等产生的文件，而外部包括下载的、传送的、其他存储器拷贝的。&lt;/p&gt;
&lt;h3 id=&quot;本地&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E6%9C%AC%E5%9C%B0&quot; aria-label=&quot;本地 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;本地&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;文档 (doc/ppt/xls/pdf/txt) ：其中office三剑客几乎没用过了，pdf做简历，txt主要记录小的技术点，其他的笔记主要用evernote&lt;/li&gt;
&lt;li&gt;源码 (html/css/js/php/less) ：主要就是编辑器notepad++或sublime产生的&lt;/li&gt;
&lt;li&gt;图片 (jpg/png/gif/psd) ：来源主要是iSee图片编辑器、Photoshop、FSCapture或QQ截图工具&lt;/li&gt;
&lt;li&gt;音频：少量的HTML5测试用的多种格式音频，经过格式工厂转换得来&lt;/li&gt;
&lt;li&gt;视频：少量的HTML5测试用的多种格式视频，经过格式转换工具转换得来&lt;/li&gt;
&lt;li&gt;压缩文件：通常用在QQ传送或微云上，然后应该删除本地的&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;外部&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E5%A4%96%E9%83%A8&quot; aria-label=&quot;外部 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;外部&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;文档 (doc/ppt/xls/pdf/txt) ：主要就是百度文库、QQ传送、Slideshare或其他网站&lt;/li&gt;
&lt;li&gt;源码 (html/css/js/php) ：第一来源是github，其他主要是各开放源码官网，下载工具要么是Chrome，要么就是git之类的客户端吧&lt;/li&gt;
&lt;li&gt;图片：几乎全是浏览器下载的，网站主要有Google Image、百度图片、deviantart、站酷、dribbble、iconfinder等，另外有少量的是手机的照片、手机的截图等通过QQ文件管理器传送&lt;/li&gt;
&lt;li&gt;软件：常用的软件通过腾讯管家之类下载，Web开发相关软件通过官网下载&lt;/li&gt;
&lt;li&gt;PS资源：主要就是笔刷、形状、渐变等资源，大部分都是在deviantart或站酷下载的&lt;/li&gt;
&lt;li&gt;音频：酷狗下载的歌曲&lt;/li&gt;
&lt;li&gt;视频：几部电影和测试用的视频文件&lt;/li&gt;
&lt;li&gt;压缩文件：压缩文件只是传输用的，解压之后就删除了&lt;/li&gt;
&lt;li&gt;字体文件：暂时很少用到吧&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;分析文件类别&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E5%88%86%E6%9E%90%E6%96%87%E4%BB%B6%E7%B1%BB%E5%88%AB&quot; aria-label=&quot;分析文件类别 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;分析文件类别&lt;/h2&gt;
&lt;p&gt;突然发现文件分本地与外部意义并不大，应该以类型分更有助于管理，包括文档、图片、源码、软件等。现阶段，源码和图片急需管理：&lt;/p&gt;
&lt;h3 id=&quot;源码&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E6%BA%90%E7%A0%81&quot; aria-label=&quot;源码 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;源码&lt;/h3&gt;
&lt;p&gt;源码清单包括：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;W3School与基础的前端书籍练习与附带源码，主要来自于入门时&lt;/li&gt;
&lt;li&gt;HTML5、CSS3、响应式设计等基础知识点练习或测试，会来自于MDN、CSS-Tricks、Stackoverflow、Google出的文章、即兴测试等&lt;/li&gt;
&lt;li&gt;类库或插件的源码，版本管理，常用类库的个别测试尽量使用公共CDN&lt;/li&gt;
&lt;li&gt;前端类库的入门学习，比如jQuery、Bootstrap、jQuery Mobile等&lt;/li&gt;
&lt;li&gt;前端小库或插件的学习，比如normalize.css、Respond.js、Modernizr、jQuery plugins、lazyload、swipe、responsive-nav、mediaelement等等，将来会达到数百个，而且考虑版本问题，其中有很多要在移动端测试，这些源码大多从github下载&lt;/li&gt;
&lt;li&gt;基础技术的兼容性测试，跨平台，跨终端&lt;/li&gt;
&lt;li&gt;自己练习写的功能组件&lt;/li&gt;
&lt;li&gt;工作或自己的项目文件&lt;/li&gt;
&lt;li&gt;各种小技术或问题点的总结，写在csstips.txt、jstips.txt、phptips.txt等文本文件中&lt;/li&gt;
&lt;li&gt;与html、css或js有关的pdf或ppt文档，集中在一起管理&lt;/li&gt;
&lt;li&gt;下载的电子版书籍，单独放文件夹即可&lt;/li&gt;
&lt;li&gt;后端源码&lt;/li&gt;
&lt;li&gt;其他语言&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;图片&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E5%9B%BE%E7%89%87&quot; aria-label=&quot;图片 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;图片&lt;/h3&gt;
&lt;p&gt;图片清单&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;图标文件，来自于iconfinder、站酷、自己制作等&lt;/li&gt;
&lt;li&gt;壁纸文件，大尺寸图片，可供测试用，分PC端与移动端&lt;/li&gt;
&lt;li&gt;个人相册，博客logo、照片等&lt;/li&gt;
&lt;li&gt;截图文件，来自于QQ截图或FSCapture&lt;/li&gt;
&lt;li&gt;设计素材，纹理、各种事物素材&lt;/li&gt;
&lt;li&gt;各种类别图片，如自然美景、创意、动物、植物、人物等&lt;/li&gt;
&lt;li&gt;设计图，网站设计、UI设计、logo设计等，设计图的标注文件&lt;/li&gt;
&lt;li&gt;字体特效，最好分文件夹建，包括相应的素材文件&lt;/li&gt;
&lt;li&gt;工作项目，包含相应的icon、设计图等&lt;/li&gt;
&lt;li&gt;表情图片，虽然极少&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;目测当前电脑里的文件，源码与图片文件最多，源码主要来自于编辑器或github，而图片主要来自于Google、百度、deviantart等浏览器下载。浏览器或下载软件下载的所有文件，我都放在了D盘的Downloads文件夹里，里面各种类型的文档都有，所以这是一个使用频繁的文件夹。另外三类使用频繁的文件夹为：htdocs、各技术分类对应文件夹及Pictures。htdocs为本地服务器根目录，主要用途为全栈练习、移动端测试、跨浏览器测试（在虚拟机系统中访问）。各技术分类对应文件夹包括HTML、CSS、JS、PHP、Web，为了便于访问将其直接建立在D盘下，将来可能会增加NodeJS、C等。Pictures文件夹存放图片文件。&lt;/p&gt;
&lt;p&gt;目前的存在的问题及解决方法有：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;js类库：存在于多处，Downloads、JS/jsplugin、Web、htdocs/jsplugin。应该将类库、源码等放在htdocs文件夹下，从而方便在移动端调试和集中管理。所有下载的js类库放于一处，好像本地CDN一样，并在htdocs文件夹下建一个连接到这个CDN文件夹的junction连接。而对于小的插件，不必这样，使用时直接复制一份。&lt;/li&gt;
&lt;li&gt;图片文件：既存在于D盘下Pictures文件夹，又存在于Downloads文件夹下的Pictures文件夹，应该合并成一个（通过junction连接）。&lt;/li&gt;
&lt;li&gt;同步策略：所有这些与工作或学习有关的文件夹（htdocs、Downloads、CSS、JS等）其实都是junction连接，真正的文件夹存在于DBank的同步盘中，从而可以实现这些文件夹的同步。&lt;/li&gt;
&lt;li&gt;文件的查找：可以通过everything来快速查找，很快速方便。&lt;/li&gt;
&lt;li&gt;源码文件夹结构与规划：主要是HTML、CSS、JS、PHP这些文件夹。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;现在的文件夹结构如下图，虚线框的代表junction链接&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://www.xiaocaoge.com/uploads/2014/04/%E7%94%B5%E8%84%91%E6%96%87%E4%BB%B6%E7%AE%A1%E7%90%86.png&quot;&gt;&lt;img src=&quot;http://www.xiaocaoge.com/uploads/2014/04/%E7%94%B5%E8%84%91%E6%96%87%E4%BB%B6%E7%AE%A1%E7%90%86.png&quot; alt=&quot;电脑文件管理&quot;&gt;&lt;/a&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Sublime Text 2配置与使用]]></title><description><![CDATA[从notepad++切换到Sublime Text 2已经有两个月了，已经不习惯notepad++了。总得来说，Sublime比notepad++有很多功能方面的改进，使用体验非常好，又有丰富的插件，活跃的开发者氛围。当然，还是有个别地方不如notepad…]]></description><link>https://xiaocaoge.com//sublime-text-2-settings-and-use/</link><guid isPermaLink="false">https://xiaocaoge.com//sublime-text-2-settings-and-use/</guid><category><![CDATA[Sublime]]></category><category><![CDATA[Sublime Text 2]]></category><category><![CDATA[编辑器]]></category><dc:creator><![CDATA[Alex]]></dc:creator><pubDate>Fri, 28 Mar 2014 16:00:00 GMT</pubDate><content:encoded>&lt;p&gt;从notepad++切换到Sublime Text 2已经有两个月了，已经不习惯notepad++了。总得来说，Sublime比notepad++有很多功能方面的改进，使用体验非常好，又有丰富的插件，活跃的开发者氛围。当然，还是有个别地方不如notepad++的，比如重命名文件，所有的配置都是json格式，难免使得习惯图形界面的人头大。当时配置与上手练习花了大概5个小时，再加上解决一些插件等使用的问题，少说也有十多个小时，这还是有notepadd++的配置与使用基础。但我还是觉得十分划算，毕竟这个是天天用，也会用个几年的东西，最开始的十小时能带来很大的效率提升。&lt;/p&gt;
&lt;h2 id=&quot;下载与安装&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E4%B8%8B%E8%BD%BD%E4%B8%8E%E5%AE%89%E8%A3%85&quot; aria-label=&quot;下载与安装 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;下载与安装&lt;/h2&gt;
&lt;p&gt;直接到&lt;a href=&quot;http://www.sublimetext.com/&quot;&gt;官网&lt;/a&gt;选择合适的版本下载即可，Windows、Mac和Linux系统都有。虽然Sublime是收费的，且70刀的价格对于我来说还是挺贵的，但是仔细想想，与买衣服的价格比起来也不算贵，这个要天天用，可能用好几年，又是工作必须的。之所以不买许可证，大概是因为它提供了不限期限不限功能的免费试用，与收费版本比起来，就是大概每个小时都会弹出一个让你购买许可证的窗口估计这个会让不少人去破解。要是衣服能像软件一样下载破解，还不吃官司，估计不少人都会尝试免费的衣服。&lt;/p&gt;
&lt;h2 id=&quot;包管理器插件管理器&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E5%8C%85%E7%AE%A1%E7%90%86%E5%99%A8%E6%8F%92%E4%BB%B6%E7%AE%A1%E7%90%86%E5%99%A8&quot; aria-label=&quot;包管理器插件管理器 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;包管理器/插件管理器&lt;/h2&gt;
&lt;p&gt;Sublime没有自带包管理器，所以得自己安装。安装方法：首先打开Sublime的控制台，快捷键&lt;code class=&quot;language-text&quot;&gt;Ctrl+\``或&lt;/code&gt;View &gt; Show Console`，然后到此网址&lt;a href=&quot;https://sublime.wbond.net/installation#st2&quot;&gt;https://sublime.wbond.net/installation#st2&lt;/a&gt;复制文本框中的一段代码即可，注意复制对应版本。&lt;/p&gt;
&lt;h2 id=&quot;包管理器的使用&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E5%8C%85%E7%AE%A1%E7%90%86%E5%99%A8%E7%9A%84%E4%BD%BF%E7%94%A8&quot; aria-label=&quot;包管理器的使用 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;包管理器的使用&lt;/h2&gt;
&lt;p&gt;快捷键&lt;code class=&quot;language-text&quot;&gt;ctrl+shift+p&lt;/code&gt;可以打开万能的命令面板，然后输入Package Control会列出相关的命令，如Install Package、List Packages、Remove Package等。输入ip/lp/rp简写可直接出现Install Package/List Packages/Remove Package命令。&lt;/p&gt;
&lt;p&gt;选择Install Package会列出&lt;a href=&quot;https://sublime.wbond.net/&quot;&gt;https://sublime.wbond.net/&lt;/a&gt;网站上的包列表，输入包名称，然后选择即可安装。有时候这个网站打不开，从而等好久都无法列出包列表，需要梯子翻过去。List Packages会列出目前安装的插件，Remove Package会列出当前安装的插件，选择即可删除。&lt;/p&gt;
&lt;h2 id=&quot;配置&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E9%85%8D%E7%BD%AE&quot; aria-label=&quot;配置 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;配置&lt;/h2&gt;
&lt;p&gt;Sublime的配置在&lt;code class=&quot;language-text&quot;&gt;Preferences &amp;gt; Settings - *&lt;/code&gt;， 其中Default为默认配置，User为用户配置，一般不要更改Default，而将自己的配置写在User中，这样升级不会被覆盖，也方面多平台多设备同步配置。另外，对于插件的设置通常也分为Default与User。&lt;/p&gt;
&lt;p&gt;常用配置项：字体大小，tab键转换成space，tab&lt;em&gt;size，auto&lt;/em&gt;indent, auto&lt;em&gt;match&lt;/em&gt;enabled等。具体的解释可以见Default文件中的注释说明，基本上不用设置太多。&lt;/p&gt;
&lt;h2 id=&quot;快捷键设置&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E5%BF%AB%E6%8D%B7%E9%94%AE%E8%AE%BE%E7%BD%AE&quot; aria-label=&quot;快捷键设置 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;快捷键设置&lt;/h2&gt;
&lt;p&gt;首先应该熟悉编辑器常用的快捷键：&lt;/p&gt;
&lt;p&gt;新建、打开、保存、另存为、复制、粘贴、剪切、全选、切换标签、关闭标签、查找、替换、块语句缩进、复制当前行、选择当前行、删除当前行等，这些都是通用的功能，快捷键大都一样，可能复制/选择/删除当前行不一样，在Sublime中分别是&lt;code class=&quot;language-text&quot;&gt;Ctrl+Shift+D/Ctrl+L/Ctrl+Shift+L&lt;/code&gt;。&lt;/p&gt;
&lt;p&gt;光标控制快捷键的设置，我自己不习惯默认的光标键控制光标的移动，而且常常需要移动到行首、行尾、词首、词尾，因此设置了这几个快捷键：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;上: &lt;code class=&quot;language-text&quot;&gt;Ctrl+I&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;下：&lt;code class=&quot;language-text&quot;&gt;Ctrl+M&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;左：&lt;code class=&quot;language-text&quot;&gt;Ctrl+J&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;右：&lt;code class=&quot;language-text&quot;&gt;Ctrl+O&lt;/code&gt; (本来想设置成K的，但是Sublime已经占用了，而且改不了，且还有其他重要的用途)&lt;/li&gt;
&lt;li&gt;行首：&lt;code class=&quot;language-text&quot;&gt;Ctrl+A&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;行尾：&lt;code class=&quot;language-text&quot;&gt;Ctrl+E&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;词首：&lt;code class=&quot;language-text&quot;&gt;Ctrl+/&lt;/code&gt; (这里是指英文单词)&lt;/li&gt;
&lt;li&gt;词尾：&lt;code class=&quot;language-text&quot;&gt;Ctrl+\&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;文件开头：&lt;code class=&quot;language-text&quot;&gt;Ctrl+Home&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;文件结尾：&lt;code class=&quot;language-text&quot;&gt;Ctrl+End&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;这里的一些快捷键我覆盖了默认的功能，将默认的快捷键改成其他的了，尤其是那些使用频率不高的，比如打开文件、全选文件等。能体现Sublime比Notepad++强大的一点就是这些光标快捷键可以在查找/替换框，智能提示，万能搜索框的提示列表，多光标点使用，非常方便。另外安装上Emmet插件之后还会附带两个可再html编辑点间移动的快捷键。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;前一个编辑点：&lt;code class=&quot;language-text&quot;&gt;Ctrl+[&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;后一个编辑点：&lt;code class=&quot;language-text&quot;&gt;Ctrl+]&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;其他常用的快捷键&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;选择当前单词：&lt;code class=&quot;language-text&quot;&gt;Ctrl+D&lt;/code&gt; (重复按会添加选择下一个与当前所选相同的单词)&lt;/li&gt;
&lt;li&gt;删除当前单词：&lt;code class=&quot;language-text&quot;&gt;Ctrl+Backspace&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;光标下插入新行：&lt;code class=&quot;language-text&quot;&gt;Ctrl+Enter&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;光标上插入新行：&lt;code class=&quot;language-text&quot;&gt;Ctrl+Shift+Enter&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;选择文件内所有与当前选择单词相同的单词：&lt;code class=&quot;language-text&quot;&gt;Alt+F3&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;替换所有：&lt;code class=&quot;language-text&quot;&gt;Ctrl+Alt+Enter&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;跳转到指定行：&lt;code class=&quot;language-text&quot;&gt;Ctrl+G&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;跳转到指定的打开文件：&lt;code class=&quot;language-text&quot;&gt;Ctrl+P&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;万能命令面板：&lt;code class=&quot;language-text&quot;&gt;Ctrl+Shift+P&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;控制台：&lt;code class=&quot;language-text&quot;&gt;Ctrl+&amp;#39;&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;选择当前缩进块：&lt;code class=&quot;language-text&quot;&gt;Ctrl+Shift+J&lt;/code&gt;(下面这几个是我重新设置的，与默认快捷键不同)&lt;/li&gt;
&lt;li&gt;添加注释：&lt;code class=&quot;language-text&quot;&gt;Ctrl+U&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;取消注释：&lt;code class=&quot;language-text&quot;&gt;Ctrl+Shift+U&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;新建文件：&lt;code class=&quot;language-text&quot;&gt;Ctrl+Shift+N&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;打开文件：&lt;code class=&quot;language-text&quot;&gt;Ctrl+Alt+O&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;全选：&lt;code class=&quot;language-text&quot;&gt;Ctrl+Q&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;几个前端常用插件&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E5%87%A0%E4%B8%AA%E5%89%8D%E7%AB%AF%E5%B8%B8%E7%94%A8%E6%8F%92%E4%BB%B6&quot; aria-label=&quot;几个前端常用插件 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;几个前端常用插件&lt;/h2&gt;
&lt;p&gt;Emmet&lt;/p&gt;
&lt;p&gt;如果只让我选一个插件，就非它莫属了，它的前身是zencoding(其实我挺喜欢这个名字的),关于它的用法网上有很多，基本上与zencoding一致，可以参考&lt;a href=&quot;http://www.qianduan.net/zen-coding-a-new-way-to-write-html-code.html&quot;&gt;这篇博文&lt;/a&gt;。需要说明的是它的默认快捷键是&lt;code class=&quot;language-text&quot;&gt;Ctrl+E&lt;/code&gt;，我觉得不方便，所以换成了&lt;code class=&quot;language-text&quot;&gt;Ctrl+N&lt;/code&gt;。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Soda&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;这是一个主题插件，Sublime的主题是作为插件形式存在的，虽然我觉得默认的主题看起来比notepad++好看多了，但是这个会更好看一点&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ConvertToUTF8&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Sublime Text 2默认不支持GB2312/GBK编码，通过这个可以编辑这些编码的文件&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;View in Browser&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;设置快捷键在浏览器中打开当前文件。注意浏览器的路径设置正确，默认选择的浏览器是firefox，使用Chrome的童鞋记得改一下。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;SublimeCodeIntel&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;自动补全插件，十分强大，不必严格按顺序输入每个字母，只要候选项包含你输入的字母就会出现，另外已经定义过的变量、输入过的单词就可能出现在候选列表，输入的频率越高越靠前。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;SideBarInhancements&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;可以增强侧边栏的插件，侧边栏的打开快捷键是Ctrl+K,B。默认的侧边栏文件右键菜单只有close选项，而这个可以添加诸如重命名、复制文件路径、删除、新建文件、新建文件夹等功能，但是必须先把文件所在的文件夹添加为Project，通过&lt;code class=&quot;language-text&quot;&gt;Project &amp;gt; Add Folder to Project ...&lt;/code&gt;菜单添加。这是我觉得不如notepad++的地方，notepad++在标签页上右击就会出现这些选项。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;BracketHighlighter&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Sublime默认的成对括号匹配显示不明显，即光标位于两个括号之间时，两个括号的位置只用下划线表示，通过这个插件就能明显看到括号位于第几行。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Minifier&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;压缩JS与CSS的插件，但是将来使用Grunt之后，我很怀疑是否需要这个插件。&lt;/p&gt;
&lt;p&gt;当然上面几个插件只是我自己常用的，针对不同语言，不同的需求还是有很多其他的插件，如SFTP、Git、Prefixr、HtmlTidy、CTags、SVN、gist等等，可以到&lt;a href=&quot;https://sublime.wbond.net/&quot;&gt;https://sublime.wbond.net/&lt;/a&gt;网站上寻找。&lt;/p&gt;
&lt;h2 id=&quot;软件图标&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E8%BD%AF%E4%BB%B6%E5%9B%BE%E6%A0%87&quot; aria-label=&quot;软件图标 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;软件图标&lt;/h2&gt;
&lt;p&gt;有人嫌默认的图标丑的可以更换一下，去dribbble上面搜索sublime text会出现一些好看的图标，我自己用的是这个&lt;a href=&quot;http://dribbble.com/shots/872166-Sublime-Text-2-Replacement-Icon#comments&quot;&gt;http://dribbble.com/shots/872166-Sublime-Text-2-Replacement-Icon#comments&lt;/a&gt;。也可以从这里下载&lt;a href=&quot;http://www.xiaocaoge.com/demo/st2icon/st2.ico&quot;&gt;http://www.xiaocaoge.com/demo/st2icon/st2.ico&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&quot;其他参考文章：&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E5%85%B6%E4%BB%96%E5%8F%82%E8%80%83%E6%96%87%E7%AB%A0%EF%BC%9A&quot; aria-label=&quot;其他参考文章： permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;其他参考文章：&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Sublime Text 2功能介绍：&lt;a href=&quot;http://www.iplaysoft.com/sublimetext.html&quot;&gt;http://www.iplaysoft.com/sublimetext.html&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Sublime配置全攻略：&lt;a href=&quot;http://cloudbbs.org/forum.php?mod=viewthread&amp;#x26;tid=3620&quot;&gt;http://cloudbbs.org/forum.php?mod=viewthread&amp;#x26;tid=3620&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Sublime基本快捷键：&lt;a href=&quot;https://gist.github.com/eteanga/1736542&quot;&gt;https://gist.github.com/eteanga/1736542&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Sublime Text 2 Tutorial：&lt;a href=&quot;http://leveluptuts.com/tutorials/sublime-text-2-tutorials&quot;&gt;http://leveluptuts.com/tutorials/sublime-text-2-tutorials&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Essential Sublime Text 2 plugins and extensions：&lt;a href=&quot;http://code.tutsplus.com/tutorials/essential-sublime-text-2-plugins-and-extensions--net-24173&quot;&gt;http://code.tutsplus.com/tutorials/essential-sublime-text-2-plugins-and-extensions--net-24173&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Sublime Text unofficial documentation：&lt;a href=&quot;http://sublime-text-unofficial-documentation.readthedocs.org/en/sublime-text-2/&quot;&gt;http://sublime-text-unofficial-documentation.readthedocs.org/en/sublime-text-2/&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[2013 年终总结]]></title><description><![CDATA[本文写于 2016 年 12 月 21 日凌晨 1 点 前几年感觉 201…]]></description><link>https://xiaocaoge.com//2013-summary/</link><guid isPermaLink="false">https://xiaocaoge.com//2013-summary/</guid><category><![CDATA[2013]]></category><category><![CDATA[年终总结]]></category><dc:creator><![CDATA[Alex]]></dc:creator><pubDate>Mon, 30 Dec 2013 16:00:00 GMT</pubDate><content:encoded>&lt;p&gt;&lt;strong&gt;本文写于 2016 年 12 月 21 日凌晨 1 点&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;前几年感觉 2013 年是最艰难的一年，主要是工作上面的。在过年放假前已经向目前所在公司的经理，也就是我的上司，说好我年后要辞职的打算，过年后的一个月我主要是在交接工作，以及为接下来的全天学习做准备。&lt;/p&gt;
&lt;h2 id=&quot;第一家公司&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E7%AC%AC%E4%B8%80%E5%AE%B6%E5%85%AC%E5%8F%B8&quot; aria-label=&quot;第一家公司 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;第一家公司&lt;/h2&gt;
&lt;p&gt;似乎从签订合同开始的那一天，我就打算有一天要离开这家公司，而且永远不会怀念。&lt;/p&gt;
&lt;p&gt;这家公司是一个制造电子零部件的工厂，约有 5000 人，当然大部分是车间工作的工人。我的工作主要是产品质量检测，比如测 LED 亮度、钢材的硬度、铁框的尺寸以及 RoHS 检测（检测几种重金属含量）。不知道为什么工作期间，发现公司总是弥漫着争吵的气氛，很多人说话都很冲，都会怕麻烦，当然这方面和某些政府单位还是没法比。记得好几次行政部的人对于那些普工来办理某些手续时，总是一副盛气凌人、高高在上的样子，对于我们几个实习的倒还好，学历不同面对的就差这么多。工作内容很简单，上手相当快，幸好我是在不断地轮岗，要不然枯燥的工作使我发疯、麻木。当然我们部门的人都还是很不错的，至少对我吧，毕竟同事。离开时请部门的人吃了一顿饭，饭桌上，我的主管，做过一段时间我的上司，说我头脑还行、学东西挺快，就是有时会偷懒。好吧，我得承认我每个月会有两三次睡过迟到，另外工作闲时我会到厕所偷偷学 CSS，被主管撞见一两次。我知道我有几个男同事喜欢到厕所抽烟玩手机，或许这样误以为我在偷懒，当然我做的确实和工作无关。&lt;/p&gt;
&lt;h2 id=&quot;全天学习&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E5%85%A8%E5%A4%A9%E5%AD%A6%E4%B9%A0&quot; aria-label=&quot;全天学习 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;全天学习&lt;/h2&gt;
&lt;p&gt;在离职前一个星期我已经通过 58 找到位于东莞莞城的住处了，除了房子可能老一些，其他方面还可以，因为曾经是政府部门职工宿舍，安保、环境尚可。&lt;/p&gt;
&lt;p&gt;我已经通过搜索了解到了大概的学习方向以及学习内容，书我也买好了，另外我还可以从东莞市图书馆借。这样从离职很自然地就过渡到了全天学习，通过一个 ManicTime 软件记录统计，平均每天学习 10 个小时吧。所以全天学习也算不上刻苦，时常觉得枯燥，急于找到工作的压力每天都存在着。除了学习，其他的杂事有：看下 Dota 视频和美剧，不断刷知乎，或者和朋友 XF 吃个饭，和高中那种专心备考的努力程度差远了。当然这期间我还学习了对于直接找工作可能没有太大帮助的几本书：《计算机科学概论》、《怎样解题：数学思维的新方法》等。&lt;/p&gt;
&lt;p&gt;就这样持续到 5 月底的时候，钱已经快花完了，必须得找工作了。我之前离职时打算，或者说期望能全天学个两三月，应该能找个工作吧，其实也可能就是根据手中剩多少钱来决定的，现在看来真是无比荒谬的逻辑。我投了三五封简历，也面试了两家，发现离别人的要求差距有点儿大，于是我回来后发愤学习，期望能在接下来的一两个月做一些作品出来，应该能找到工作吧。另外我根据一些招聘网站上面的要求，感觉需要一些后端编程与设计方面的技能，所以有两个月我主要在学 PHP 和 Photoshop。&lt;/p&gt;
&lt;p&gt;因我与一位关系很好的朋友 S 常常电话联系，他也知道了我的经济困难之处，然后他利用课外及暑假做家教挣的钱，每个月借给我一千。这样持续到 9 月份，我现在也忘记我为什么连续两三个月没有再出去找工作了，可能是我一心要做几个作品出来吧，但是做作品的时间总是往后拖。等到 9 月份的时候，也不好意思再向 S 借钱了，毕竟他还在上学，还好这个时候在与哥哥的电话闲聊中，他得知了我的困难，那年他收入还算可以吧，就每月借我一千块。哎，一旦饿不死了，我就开始往后拖了，但是没钱时精神压力又特别大。至于为什么我不向其他已经工作的朋友借钱，要不就是关系不好我开不了口，要不就是我觉得对方手里也比较紧张。那为什么不向父母求帮助呢？一来，我早早感受到了他们对我的失望，大学四年竟然混成这样，二来父母已经都过六十了，我也不想给他们添难了。我知道我死皮赖脸，他们肯定会给，只是不想再有求于他们了，因为拿了父母的钱，父母就来指点你的人生了，到时底气便不足。&lt;/p&gt;
&lt;h2 id=&quot;第一份前端工作&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E7%AC%AC%E4%B8%80%E4%BB%BD%E5%89%8D%E7%AB%AF%E5%B7%A5%E4%BD%9C&quot; aria-label=&quot;第一份前端工作 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;第一份前端工作&lt;/h2&gt;
&lt;p&gt;总之，我又拖到了 11 月初，终于做了好几个还能看得过去的作品吧，就开始投简历了。投了三家，这次到是很快三家都要求我面试了，一家不要，两家通过。其中一家是传统做企业站点的，开工资 3000，转正 3500，但是我感觉那个公司工作气氛不好，没有一个女员工，所以就选择了另一家。虽然这家刚成立两个月，虽然只给我 2500，但是感觉工作气氛还是不错，员工都是同龄人，工作环境还不错。&lt;/p&gt;
&lt;p&gt;公司的主要业务就是托管和运营当时非常火热的微信公众号，偶尔会接一些外包工作。技术方面三个人，一个技术主管，一个后端，一个前端（我）。&lt;/p&gt;
&lt;p&gt;后来发现这家公司不是很靠谱，感觉两个老板不是很懂互联网而且不想踏踏实实做事。一个每天早会都打鸡血，另一个老是让我和另一个后端做一些投机取巧的产品，而且不懂产品还比产品经理惹人烦。到后来他想做的产品本质上就是传销了，而且也不会做好的。当然公司真正赚钱的业务托管和运营微信公众号后来因为同质产品竞争激烈，东莞的商家忽悠的差不多了就很难拉到业务了，公司的业务员和客服人员在几个月走了一半。&lt;/p&gt;
&lt;p&gt;也是在这一年“高大上”这三个字似乎开始流行，老板对于设计的要求只有一点，那就是“高大上”。所以，当老板逼着我做一些网站设计方面决策的时候，我根据自己的设计品位与经验设计出来的东西总是不符合老板的“高大上”要求。我知道每个人都有自己的设计品位，这和自己的阅历有关系，但是没有经过专业的设计训练或者花费过一定经历研究过设计，那他的设计品位不会比普通人强多少的。好吧，我想说的是，这些人根本就不应该过多的对设计上面指指点点。公司的 Logo 与宣传册设计就是明证。&lt;/p&gt;
&lt;p&gt;一周上班六天，9 点上班，晚上十点或十一点下班，这我当时倒没觉得有什么，反正都是学习，中午吃完饭我也抽出一点儿时间学习基础的 JavaScript，当时学习 MDN 上面的知识。&lt;/p&gt;
&lt;p&gt;另外一件事就是工资，本来公司的一般惯例是同事之间不问工资，当然我也从来没有主动的问过。只是后来几个客服人员在闲聊中，我得知了，原来我们两个干技术的是公司工资最低的，客服挣得多的话是我们两倍，业务员多的是我们三四倍。当然我没有羡慕客服或业务员工资高，毕竟把这么难用的东西卖出去也不容易，让我卖估计一个客户也找不到。只是终于知道了技术在老板心中的地位，那离开也是迟早的事了。&lt;/p&gt;
&lt;h2 id=&quot;读书&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E8%AF%BB%E4%B9%A6&quot; aria-label=&quot;读书 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;读书&lt;/h2&gt;
&lt;p&gt;2013 年虽然是我感觉工作生涯最困难的一年，但是还是读了不少书的，虽然很多当时的能力不能理解很深。&lt;/p&gt;
&lt;h3 id=&quot;工作相关书籍&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E5%B7%A5%E4%BD%9C%E7%9B%B8%E5%85%B3%E4%B9%A6%E7%B1%8D&quot; aria-label=&quot;工作相关书籍 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;工作相关书籍&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;《JavaScript 高级程序设计》：花了两个月，大概四五百小时吧，读了有一半多，每章都做笔记练习了，到最后就略读了。&lt;/li&gt;
&lt;li&gt;《锋利的 jQuery》：没有接触过 jQuery 还可以，实际上一本入门级别的书，像棉花糖一样，内容其实并不是很多，有编程基础的直接看几篇文章加上 jQuery 官方文档就行了。&lt;/li&gt;
&lt;li&gt;《精通 CSS》：之前读过《别具光芒》《CSS 网站布局实录》了，所以这本都是不算难，算是为 CSS 打了个基础，后面涉及一丁点儿 CSS3 的知识。&lt;/li&gt;
&lt;li&gt;《精通 JavaScript》：jQuery 作者的书，指导如何构建一个像 jQuery 的库，对于理解 jQuery 也有帮助。&lt;/li&gt;
&lt;li&gt;《超越CSS：Web 设计艺术精髓》：书属于 2006 年代的书，定位于设计师或者有经验的前端，现在就没必要看了。&lt;/li&gt;
&lt;li&gt;《HTML5 和 CSS3实例教程》：本书写于 HTML5 发展早期，属于入门书籍，兼容性方案与可访问性是本书的特点，但是更好的方案还是应该 Google 搜索。&lt;/li&gt;
&lt;li&gt;《JavaScript 语言精粹》：JSON 规范的作者，有一定基础之后读读可以，不过有些人评价说作者个人风格倾向太重。&lt;/li&gt;
&lt;li&gt;《PHP 和 MySQL Web 开发》：为了学 PHP 借的，书中说什么以未来的 PHP 6.0 讲解，结果 PHP 6.0 流产了，还好高性能的 PHP 7 出来了。&lt;/li&gt;
&lt;li&gt;《ADOBE PHOTOSHOP CS4 标准培训教材》：个人认为非常好的一本入门或基础类别的书。&lt;/li&gt;
&lt;li&gt;《响应式 Web 设计：HTML5 和 CSS3 实战》：响应式设计入门读物，非常薄的一本书，因为公司有需求所以就学了。&lt;/li&gt;
&lt;li&gt;《HTML5：Up and Running》：看到在线免费英文版，每一章讲解一个方面的 HTML5 技术，很多都是现今常用的，入门的好书，不用读完，用到哪些读哪些。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;关于设计方面的还读了几本书，到是因为缺乏实际历练，现在已经忘了大部分了。所以真正要做设计方面的工作的话，这些书到是应该成为常备书，时常翻一翻。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;《简约之上：交互式设计四策略》：五星好评，薄薄的一本书，讲解了广泛实用的四个策略。&lt;/li&gt;
&lt;li&gt;《设计网事：互联网产品设计实践》：是作者的博文集锦吧，书中还有用户体验、产品设计、项目管理等方面导论，不过博文的评论很多都是高质量评论，毕竟作者也是设计大牛。&lt;/li&gt;
&lt;li&gt;《认知与设计》：讲解人是如何感知世界及周围的事物的，比如视觉、记忆、时间认知等。&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;其他书&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E5%85%B6%E4%BB%96%E4%B9%A6&quot; aria-label=&quot;其他书 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;其他书&lt;/h3&gt;
&lt;p&gt;也读了一些可能与工作不相关或不直接相关的书。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;《Borland 传奇》：讲 Borland 公司的发展，研发的产品，还讲到了其竞争对手，从这本书认识到了微软在 20 世纪 90 年代的如日中天，不仅仅是 Windows 与 Office，包括很多开发者工具及编程语言，算一本 IT 业历史相关的一本书。&lt;/li&gt;
&lt;li&gt;《数学之美》：好吧这本对我来说理解起来很难，涉及到很多计算机与数学方面的知识，大概浏览了一遍。&lt;/li&gt;
&lt;li&gt;《从一到无穷大：科学中的事实和臆测》：数理化生及天文学方面的一些科普知识，有些中学就接触过，作为中学科普书很不错。&lt;/li&gt;
&lt;li&gt;《计算机科学概论》：从我毕业开始有两个目标，一个是学习前端专业知识，一个就是自学计算机科学基础知识，这是一本图书。&lt;/li&gt;
&lt;li&gt;《失控》：只读了前面几章，有些人评价很低，不过我到是感觉对我的思想启发性非常大，影响至今。&lt;/li&gt;
&lt;li&gt;《逻辑的引擎》：很快读完，当时就没有记得多少东西，另外对于我来说，也不太好理解，比如哥德尔的不可判定定理，就是逻辑相关科学的发展过程，计算机的诞生也离不开逻辑的发展。&lt;/li&gt;
&lt;li&gt;《上帝掷骰子吗：量子物理史话》：我觉得喜欢物理的中学生可以早点读一下，了解物理的发展历史，和曾经的天才们，以便早点儿放弃成为物理科学家的幻想。&lt;/li&gt;
&lt;li&gt;《怎样解题：数学思维新方法》：说实话，如果我高中就读了这本书，估计我的数学高考成绩还能提高不少，高三利用题海战术做了不少压轴题，结果感觉思维总是无法突破，遇到新题型就懵逼了。&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[跨浏览器透明解决方案]]></title><description><![CDATA[透明主要指图片中包含的透明像素以及背景色、前景色和边框色的半透明。 图片包含全透明像素时 对于这种不包含半透明像素的图片，可以导出为GIF格式来支持IE6。但是只适用于图片包含少量颜色时，通常Logo、icons等颜色只包含几种。对于色彩丰富的图片，只能采用PNG…]]></description><link>https://xiaocaoge.com//cross-browser-transparency/</link><guid isPermaLink="false">https://xiaocaoge.com//cross-browser-transparency/</guid><category><![CDATA[透明图片]]></category><category><![CDATA[透明背景]]></category><dc:creator><![CDATA[Alex]]></dc:creator><pubDate>Sun, 20 Oct 2013 16:00:00 GMT</pubDate><content:encoded>&lt;p&gt;透明主要指图片中包含的透明像素以及背景色、前景色和边框色的半透明。&lt;/p&gt;
&lt;h3 id=&quot;图片包含全透明像素时&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E5%9B%BE%E7%89%87%E5%8C%85%E5%90%AB%E5%85%A8%E9%80%8F%E6%98%8E%E5%83%8F%E7%B4%A0%E6%97%B6&quot; aria-label=&quot;图片包含全透明像素时 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;图片包含全透明像素时&lt;/h3&gt;
&lt;p&gt;对于这种不包含半透明像素的图片，可以导出为GIF格式来支持IE6。但是只适用于图片包含少量颜色时，通常Logo、icons等颜色只包含几种。对于色彩丰富的图片，只能采用PNG图片，并通过一些方法解决IE6的PNG支持问题。&lt;/p&gt;
&lt;h3 id=&quot;图片包含半透明像素时&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E5%9B%BE%E7%89%87%E5%8C%85%E5%90%AB%E5%8D%8A%E9%80%8F%E6%98%8E%E5%83%8F%E7%B4%A0%E6%97%B6&quot; aria-label=&quot;图片包含半透明像素时 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;图片包含半透明像素时&lt;/h3&gt;
&lt;p&gt;此时，只能使用PNG格式，IE7+及其他现代浏览器都很好地支持PNG格式，对于IE6必须采取某种方案支持，详见此篇文章总结的方案：&lt;a href=&quot;http://www.w3cfuns.com/thread-297-1-1.html&quot;&gt;IE6 PNG透明终极解决方案&lt;/a&gt;。由于网站常采用CSS Sprite，所以我首选的方法是&lt;a href=&quot;http://www.cnblogs.com/blacksheep/archive/2011/04/12/2013316.html&quot;&gt;DD_belatedPNG&lt;/a&gt;，不过此方法在某些情况下会出现bug。我在使用Slidesjs时，pagination的hover状态会失效；在使用其他js文件时也可能会失效。对于这种失效的情况，可以针对IE6放弃使用半透明像素，换用其他实色图片，或者设置元素的背景色来换一种风格。&lt;/p&gt;
&lt;h3 id=&quot;背景色半透明&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E8%83%8C%E6%99%AF%E8%89%B2%E5%8D%8A%E9%80%8F%E6%98%8E&quot; aria-label=&quot;背景色半透明 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;背景色半透明&lt;/h3&gt;
&lt;p&gt;这要分两种情况：一种是元素不包含任何内容，那么可以通过设置opacity属性，对于IE6-8可使用alpha滤镜，比如某些弹出层的半透明遮罩层；另一种是元素包含内容，由于使用opacity属性会使内容也变为半透明，因此不可行。此时，对于IE9+及其他现代浏览器可以使用RGBA或HSLA设置背景色，而对于IE6-8可以通过渐变滤镜来实现，可参考此文：&lt;a href=&quot;http://css-tricks.com/rgba-browser-support/&quot;&gt;RGBa Browser Support&lt;/a&gt;。当然，还可以通过PNG图片来实现，不过有点麻烦，且需要加载图片。&lt;/p&gt;
&lt;h3 id=&quot;前景色和边框色的半透明&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E5%89%8D%E6%99%AF%E8%89%B2%E5%92%8C%E8%BE%B9%E6%A1%86%E8%89%B2%E7%9A%84%E5%8D%8A%E9%80%8F%E6%98%8E&quot; aria-label=&quot;前景色和边框色的半透明 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;前景色和边框色的半透明&lt;/h3&gt;
&lt;p&gt;前景色半透明，也即文字的半透明，IE9+及其他现代浏览器可以通过RGBA或HSLA设置。而对于IE6-8，只能通过PNG图片的方式来实现，也就回到图片半透明的问题。边框色的半透明同前景色半透明解决方法一样。&lt;/p&gt;</content:encoded></item><item><title><![CDATA[软件与生态系统]]></title><description><![CDATA[几乎所有人初次接触电脑时，脑子里很少有“软件”这个概念，太抽象了。自己第一次接触电脑还是在初中的电脑课程上，接触的第一批软件是金山打字、记事本、纸牌游戏之类的。至于那些经常去网吧的同学，还会接触到QQ…]]></description><link>https://xiaocaoge.com//software-and-ecosystem/</link><guid isPermaLink="false">https://xiaocaoge.com//software-and-ecosystem/</guid><category><![CDATA[应用]]></category><category><![CDATA[生态系统]]></category><category><![CDATA[软件]]></category><dc:creator><![CDATA[Alex]]></dc:creator><pubDate>Thu, 17 Oct 2013 16:00:00 GMT</pubDate><content:encoded>&lt;p&gt;几乎所有人初次接触电脑时，脑子里很少有“软件”这个概念，太抽象了。自己第一次接触电脑还是在初中的电脑课程上，接触的第一批软件是金山打字、记事本、纸牌游戏之类的。至于那些经常去网吧的同学，还会接触到QQ、游戏之类的软件。除此之外如果没人教，也很少接触新的软件，本来电脑都很少接触。高中时学会玩红警与魔兽，还学会了迅雷下载。到了大学，既有了自己的电脑，也有了折腾电脑的时间，玩电脑的水平才有很大提高。&lt;/p&gt;
&lt;p&gt;刚上大学时，想不到转换格式用转换格式软件（其实还不知道格式是什么东西），不知道编辑图片用图片编辑软件，也不知道IE之外的浏览器，不知道文件或图片批量处理软件，总之有很多完全想不到。最可恶的是也不知道用百度搜一下。&lt;/p&gt;
&lt;p&gt;后来，逛软件下载站，疯狂的下载、试用、卸载软件，总算把常用类型的软件都熟悉了一下。的确，一个软件下载站就可以熟悉常用的软件，一个智商正常的人都有能力完成这个任务。再说还有大学上的计算机基础、计算机应用、计算机程序基础等课程，还有同学朋友的熏陶。这样，大部分人的计算机技能都够应付日常生活和工作了。&lt;/p&gt;
&lt;p&gt;后来自己接触到的很多软件，根据博客、问答等提到的信息去下载的。而且想要什么功能的软件，会去主动搜索相关信息。&lt;/p&gt;
&lt;p&gt;逐渐理解了操作系统提供API，用来供程序开发者开发各种功能的软件，然后所有人都可以使用这些软件。仔细理解这个过程，有三个角色：API提供者，功能开发者，功能使用者。而很多系统都是由这三种角色构成的。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;iOS：iOS，各种应用与游戏，使用iPhone或iPad的人；&lt;/li&gt;
&lt;li&gt;FireFox：FireFox，各种扩展，FireFox的用户 ；&lt;/li&gt;
&lt;li&gt;魔兽争霸：Warcraft，地图（mod）开发者，魔兽玩家；&lt;/li&gt;
&lt;li&gt;JavaScript：JavaScript &amp;#x26; DOM，各种库，使用各种库的开发者；&lt;/li&gt;
&lt;li&gt;jQuery：jQuery，各种插件，使用jQuery的开发者；&lt;/li&gt;
&lt;li&gt;搜狗输入法：搜狗输入法，搜狗皮肤制作者，使用搜狗输入法的人；&lt;/li&gt;
&lt;li&gt;Photoshop：Photoshop &amp;#x26; AIR，各种外挂滤镜、笔刷、纹理、样式、形状、扩展程序等，使用Photoshop的设计师；&lt;/li&gt;
&lt;li&gt;等等&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;而且可以注意到，上面这些系统也都可以归属于更高层的系统。比如，jQuery只是JavaScript的一个库，而搜狗输入法不过只是一个软件。&lt;/p&gt;
&lt;p&gt;即使这样，那又如何？虽未接触，但不难联想到一些3D、音频、视频编辑软件应该与Photoshop有类似的系统。而很多软件会有主题样式之类的。&lt;/p&gt;
&lt;p&gt;这些生态系统也在各自发展、进化，就如同生物界的生态系统一样从低级到高级，从简单到复杂。比如编程语言从机器语言到汇编语言，再到高级语言。再比如JavaScript经过数年的发展到各种库的诞生，再到基于jQuery的Bootstrap，而且Bootstrap又有各种风格的主题。&lt;/p&gt;
&lt;p&gt;为什么会这样？和生物生态系统一样，这些发展能够适应所处的环境，不过不是自然环境，这里的环境主要就是指用户，所以要以用户为中心，客户至上。&lt;/p&gt;
&lt;p&gt;而且，这些系统想想也挺合理的，不可能期望所有人都是程序员，所有程序员都是优秀的。是的，最终用户只需选择就可以了。&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Photoshop入门教程]]></title><description><![CDATA[已经忘记什么时候开始使用Photoshop软件了，也许是当时需要处理图片，又听说了Photoshop的大名，于是便安装使用了。印象中，从Photoshop 7开始使用的，那时还没有现在这么大的体积。当然软件的第一步就是安装，安装教程网上也是一大把，得修改hosts…]]></description><link>https://xiaocaoge.com//photoshop-beginner/</link><guid isPermaLink="false">https://xiaocaoge.com//photoshop-beginner/</guid><category><![CDATA[Photoshop]]></category><category><![CDATA[入门教程]]></category><dc:creator><![CDATA[Alex]]></dc:creator><pubDate>Tue, 15 Oct 2013 16:00:00 GMT</pubDate><content:encoded>&lt;p&gt;已经忘记什么时候开始使用Photoshop软件了，也许是当时需要处理图片，又听说了Photoshop的大名，于是便安装使用了。印象中，从Photoshop 7开始使用的，那时还没有现在这么大的体积。当然软件的第一步就是安装，安装教程网上也是一大把，得修改hosts文件来屏蔽验证。&lt;/p&gt;
&lt;p&gt;安装好软件后，首先就是自己先看一些工具的功能，试验一下。之后就是到图书馆借一两本Photoshop的教程，但是当时什么都不懂，更不知道选哪本书好，也许很多人像我当初一样，选一本充满实例的书。然后就照着书中有趣的例子一步一步做，然后发现没有素材，图书馆没借光盘，去网上找又找不到一样的（也有搜索能力低的原因）。好吧，这些我都忍了，可是做到一半，发现教程不仅不给详细的设置参数，有的还跳过了一些步骤，写得好不详细，更别提什么工具使用的精髓了。之后就把书扔到一边去了，留下了Photoshop教程都是这样列一些实例，写得又不详细的印象，害了我好久。&lt;/p&gt;
&lt;p&gt;后来，不知怎么想的，觉得应该先学会每一个工具的使用，于是就照着我要自学网上的教程举一反二。也算是会了一些基本操作，但是字体特效、图片特效等复杂的技术还是不会。&lt;/p&gt;
&lt;p&gt;当然，后来大四时找到了一本比较满意的教程，专门讲图层样式的，正好学了一下，起码各个图层样式作用原理理解了下，感觉比那些单纯的堆砌实例的强多了，更比很多入门到精通的好。提到“入门到精通”这个短语，我觉得所有书名当中，没有比包含“入门到精通”的书名更坑人的了，可能是人比较坑，怪书名什么事呢。既不能很好入门，也不能精通，当然不能精通了，一部书能精通Photoshop那就神了。&lt;/p&gt;
&lt;p&gt;而且当时觉得网上的教程都很差，和大多数书的内容一样。不过后来证明是我没能找到优秀的教程，当然国内的和国外的比差很远，还到处是转载。&lt;/p&gt;
&lt;p&gt;到今年去图书馆借书时翻到了《ADOBE PHOTOSHOP CS4标准培训教材》，顿时觉得这个入门教程真是极好的。好像心中早已有了一本合适的Photoshop入门书，但是一直没找到，也没有描述清楚究竟是什么样的，直到遇到了这本官方教材，才想，这差不多就是心目中的入门教材了。找到时，又感觉自己很傻，明明早就听说过ADOBE有专门的认证，就是没想到看下官方出的教材啊。&lt;/p&gt;
&lt;p&gt;不过随着获取网络信息能力的提升以及信息资源的积累，发现更广阔的教程资源都在网上，不幸的是大部分优秀的网络教程资源都是英文的。但是这不能阻止我们继续学习Photoshop的步伐，虽然视频教程的英语确实很难听懂，不过截图与操作还是能看懂的。至于图文教程，也许就是多记几百个专业词汇而已，弄个翻译软件就行了。&lt;/p&gt;
&lt;p&gt;既然要跟着英文教程，第一步就是把中文版的Photoshop转为英文版，幸好这一步很简单，只需要把&lt;code class=&quot;language-text&quot;&gt;Locales\zh_CN\Support Files&lt;/code&gt;路径下的&lt;code class=&quot;language-text&quot;&gt;tw10428.dat&lt;/code&gt;文件转移到别处即可。&lt;/p&gt;
&lt;p&gt;然后使用Google搜索“photoshop tutorials“，”text effects”, “Photoshop brushes”等关键词就会出现很多教程网站。下面这三个网站是很好的教程网站：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://www.lynda.com&quot;&gt;www.lynda.com&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.photoshop.com/tutorials&quot;&gt;www.photoshop.com/tutorials&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://psd.tutsplus.com&quot;&gt;psd.tutsplus.com&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[垂直居中（Vertical-Align)]]></title><description><![CDATA[垂直居中包括单行文本居中、单元格（td）内容居中、块级元素居中。由于单元格的display属性为table-cell，且浏览器默认vertical-align:middle，所以就是默认垂直居中，不做考虑。要注意的就是vertical-align…]]></description><link>https://xiaocaoge.com//vertical-align-methods/</link><guid isPermaLink="false">https://xiaocaoge.com//vertical-align-methods/</guid><category><![CDATA[vertical-align]]></category><category><![CDATA[垂直居中]]></category><dc:creator><![CDATA[Alex]]></dc:creator><pubDate>Wed, 05 Jun 2013 16:00:00 GMT</pubDate><content:encoded>&lt;p&gt;垂直居中包括单行文本居中、单元格（td）内容居中、块级元素居中。由于单元格的display属性为table-cell，且浏览器默认vertical-align:middle，所以就是默认垂直居中，不做考虑。要注意的就是vertical-align属性的含义是设置内联元素在行框（一行）内的垂直对齐方式，对于display:table-cell的元素也适用，但是IE8+才支持display:table-cell设置，于是就有了各种跨浏览器垂直对齐的方法。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;DEMO：&lt;/strong&gt;&lt;a href=&quot;/demo/vertical-align/vertical-align.html&quot;&gt;vertical align methods&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&quot;单行文本&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E5%8D%95%E8%A1%8C%E6%96%87%E6%9C%AC&quot; aria-label=&quot;单行文本 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;单行文本&lt;/h3&gt;
&lt;p&gt;此种情况最简单，使用line-height来控制元素的高度即可，兼容IE6+及其他现代浏览器。&lt;/p&gt;
&lt;p&gt;HTML:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;child&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;Text here&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;CSS:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;css&quot;&gt;&lt;pre class=&quot;language-css&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token selector&quot;&gt;.child&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;line-height&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;50px&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;而此种方法对于display为inline或inline-block的元素也适用，只不过元素要加上vertical-align:middle，而且不兼容IE6。&lt;/p&gt;
&lt;p&gt;HTML:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;child&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
        &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;img&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;src&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;images/1024.jpg&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;alt&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;CSS:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;css&quot;&gt;&lt;pre class=&quot;language-css&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token selector&quot;&gt;.child&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;line-height&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;300px&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token selector&quot;&gt;img&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;width&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;200px&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;vertical-align&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;middle&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id=&quot;块级元素&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E5%9D%97%E7%BA%A7%E5%85%83%E7%B4%A0&quot; aria-label=&quot;块级元素 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;块级元素&lt;/h3&gt;
&lt;p&gt;块级元素的垂直对齐方法有很多种，但有些方法必须要求知道和统一块级元素的高度，有些不需要但是跨浏览器支持不好，最后还得需要针对个别浏览器（IE6、7）单独设置。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;元素高度预知：&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;（两种方法兼容IE6+，Chrome，Firefox，Safari，Opera）&lt;/p&gt;
&lt;p&gt;设置相等的内边距或外边距&lt;/p&gt;
&lt;p&gt;HTML:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;parent&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;child&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;Div here&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;CSS:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;css&quot;&gt;&lt;pre class=&quot;language-css&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token selector&quot;&gt;.parent&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;padding&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;5% 0&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token selector&quot;&gt;.child&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;height&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;50px&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;绝对定位和负外边距&lt;/p&gt;
&lt;p&gt;HTML:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;parent&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;child&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;Div here&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;CSS:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;css&quot;&gt;&lt;pre class=&quot;language-css&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token selector&quot;&gt;.parent&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;position&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;relative&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;height&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;100px&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token selector&quot;&gt;.child&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;position&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;absolute&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;top&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;50%&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;height&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;50px&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;margin-top&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;-25px&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;元素高度不可预知：&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;table-cell方法&lt;/p&gt;
&lt;p&gt;(不兼容IE6-7)&lt;/p&gt;
&lt;p&gt;HTML:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;child&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;Div here&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;CSS:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;css&quot;&gt;&lt;pre class=&quot;language-css&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token selector&quot;&gt;.parent&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;display&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; table&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token selector&quot;&gt;.child&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;display&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; table-cell&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;height&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 200px&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;vertical-align&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;middle&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;兼容所有现在浏览器的方法&lt;/p&gt;
&lt;p&gt;DEMO: &lt;a href=&quot;/demo/vertical-align/multi-lined-text-vc.html&quot;&gt;multi-lined text vertical align&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;HTML:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
        &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;p&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;To look best, text should really be centered inside this bubble both vertically and horizontally.&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;p&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;CSS:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;css&quot;&gt;&lt;pre class=&quot;language-css&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token selector&quot;&gt;.area&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;display&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; table&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;width&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 200px&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;height&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 150px&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;background&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; #eee&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token selector&quot;&gt;.bubble&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;display&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; table-cell&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;vertical-align&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; middle&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token selector&quot;&gt;.bubble p&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;border&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 1px solid red&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;兼容IE6-7，利用条件注释单独设置，而且要添加一个多余的div标签，下面针对IE6-7的代码对于其他现代浏览器并不适用。&lt;/p&gt;
&lt;p&gt;HTML:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
        &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
            &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;p&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;To look best, text should really be centered inside this bubble both vertically and horizontally.&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;p&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
        &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;&amp;lt;!--[if lt IE 8]&gt;
&amp;lt;style type=&quot;text/css&quot;&gt;
    .bubble {
        position:relative;
    }
    .bubble div {
        position:absolute;
        top: 50%;
        width:100%;
        background:#aaa;
    }
    .bubble div p {
        position:relative;
        top:-50%;
    }
&amp;lt;/style&gt;
&amp;lt;![endif]--&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content:encoded></item><item><title><![CDATA[表单验证（Form Validation）]]></title><description><![CDATA[表单验证最常见的就是注册和登录表单，客户端与服务端都需要验证，客户端验证可以即时反馈，服务端用来防止恶意人员绕开客户端验证或JavaScript…]]></description><link>https://xiaocaoge.com//form-validation/</link><guid isPermaLink="false">https://xiaocaoge.com//form-validation/</guid><category><![CDATA[form validation]]></category><dc:creator><![CDATA[Alex]]></dc:creator><pubDate>Tue, 04 Jun 2013 16:00:00 GMT</pubDate><content:encoded>&lt;p&gt;表单验证最常见的就是注册和登录表单，客户端与服务端都需要验证，客户端验证可以即时反馈，服务端用来防止恶意人员绕开客户端验证或JavaScript不起作用时提供验证。&lt;/p&gt;
&lt;p&gt;表单验证包括规则集合、验证引擎、反馈信息。&lt;/p&gt;
&lt;h3 id=&quot;规则集合：&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E8%A7%84%E5%88%99%E9%9B%86%E5%90%88%EF%BC%9A&quot; aria-label=&quot;规则集合： permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;规则集合：&lt;/h3&gt;
&lt;p&gt;主要利用正则表达式来验证字符串是否符合特定格式，比如邮箱、URL、IP、日期、电话号码、特定长度范围等。邮箱与URL的正则表达式可以非常复杂，不过一般用不到，而且可以利用插件代替或搜索到规则即可。规则集合是一个对象，包含各种特定格式对象，可以添加扩展规则函数。&lt;/p&gt;
&lt;h3 id=&quot;验证引擎：&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E9%AA%8C%E8%AF%81%E5%BC%95%E6%93%8E%EF%BC%9A&quot; aria-label=&quot;验证引擎： permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;验证引擎：&lt;/h3&gt;
&lt;p&gt;验证主要是用事件来驱动的，主要有focus、blur、keypress、change等。而与HTML代码的接口通过特定的类来实现，比如邮箱地址的输入框的class为email，对应的规则集合中邮箱的规则对象名也是email。在即时验证某个用户名或邮箱是否存在时，结合keypress事件与Ajax来实现。&lt;/p&gt;
&lt;h3 id=&quot;反馈信息：&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E5%8F%8D%E9%A6%88%E4%BF%A1%E6%81%AF%EF%BC%9A&quot; aria-label=&quot;反馈信息： permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;反馈信息：&lt;/h3&gt;
&lt;p&gt;反馈信息包括输入提示和错误提示，可以包含在规则集合对象中，并且可以定制。&lt;/p&gt;
&lt;p&gt;附：&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;正则表达式各符号含义：&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://www.cnblogs.com/xybs/archive/2012/10/23/2735969.html&quot;&gt;http://www.cnblogs.com/xybs/archive/2012/10/23/2735969.html&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Regular_Expressions&quot;&gt;https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Regular_Expressions&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;在线正则验证器：&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://tools.netshiftmedia.com/regexlibrary/&quot;&gt;http://tools.netshiftmedia.com/regexlibrary/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://regexp.duttke.de/&quot;&gt;http://regexp.duttke.de/&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;jQuery validation插件&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://jqueryvalidation.org/&quot;&gt;http://jqueryvalidation.org/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/posabsolute/jQuery-Validation-Engine&quot;&gt;https://github.com/posabsolute/jQuery-Validation-Engine&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;原生JS表单验证DEMO&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;/demo/form-validation/Register-Classic.html&quot;&gt;Register-Classic.html&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;/demo/form-validation/Simple-Form.html&quot;&gt;Simple-Form.html&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[Image Box]]></title><description><![CDATA[通过在同一页面实现图片的浏览与查看，从而带来更好的用户体验，越来越与客户端的图片查看工具功能类似。将来，用户只用在网络上寻找、存储、编辑图片，不用下载到本地了。通过原生JavaScript实现的一个image box，比利用jQuery现成的插件要复杂的多。需要综合应用DOM…]]></description><link>https://xiaocaoge.com//image-box/</link><guid isPermaLink="false">https://xiaocaoge.com//image-box/</guid><category><![CDATA[imagebox]]></category><dc:creator><![CDATA[Alex]]></dc:creator><pubDate>Mon, 03 Jun 2013 16:00:00 GMT</pubDate><content:encoded>&lt;p&gt;通过在同一页面实现图片的浏览与查看，从而带来更好的用户体验，越来越与客户端的图片查看工具功能类似。将来，用户只用在网络上寻找、存储、编辑图片，不用下载到本地了。通过原生JavaScript实现的一个image box，比利用jQuery现成的插件要复杂的多。需要综合应用DOM编程能力，所以最好能之前有DOM处理的常见函数，比如DOM节点遍历、创建、删除、插入等。另外还要有处理BOM的函数，比如元素位置获得和修改、元素尺寸获得和修改、元素透明度变化等。这些东西都是《精通JavaScript》一书讲的，这本书对于如何打造自己的库很有帮助，当然对于学习jQuery也有用。书中讲了一个image box是实现，所以自己也跟着实现了一个。&lt;/p&gt;
&lt;p&gt;DEMO：&lt;a href=&quot;/demo/imagebox/image-gallery.html&quot;&gt;image-gallery.html&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;有了之前的DOM和BOM函数库就可以很方便的开始编写了，学到的一些东西：&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;跨浏览器透明度实现&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://www.quirksmode.org/css/opacity.html&quot;&gt;http://www.quirksmode.org/css/opacity.html&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;动画及时间驱动函数使用&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;无论渐变进入还是滑动进入动画效果，要看的自然些，应该开始的时候变化快，然后变化慢。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;渐进增强的JavaScript&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;在JavaScript不能作用时仍然能够查看图片，可以为图片缩略图添加链接到图片地址的超链接。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;相关jQuery插件&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;插件不仅可以实现图片的查看，还可以是其他任何HTML代码片段，比如注册、登录等。插件的兼容性处理都很好，从而只需关注那些需要定制的东西，如按钮样式、动画效果等。缺点可能就是需要依赖jQuery、也包括一些自己不需要的功能。&lt;/p&gt;
&lt;p&gt;Fancybox&lt;/p&gt;
&lt;p&gt;官网：&lt;a href=&quot;http://fancybox.net/&quot;&gt;http://fancybox.net/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ColorBox&lt;/p&gt;
&lt;p&gt;官网：&lt;a href=&quot;http://www.jacklmoore.com/colorbox/&quot;&gt;http://www.jacklmoore.com/colorbox/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;github：&lt;a href=&quot;https://github.com/jackmoore/colorbox&quot;&gt;https://github.com/jackmoore/colorbox&lt;/a&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[下拉菜单与Tab面板]]></title><description><![CDATA[下拉菜单与Tab面板很相似，本质来说就是一种东西，相似的HTML代码结构，CSS设置，JavaScript代码。不考虑IE6，仅限hover事件的话，均可通过纯CSS实现。 下拉菜单可以有两种HTML代码结构，一种是主菜单包含子菜单，另一种是主菜单与子菜单同一层级。Tab…]]></description><link>https://xiaocaoge.com//drop-menu-and-tab-panel/</link><guid isPermaLink="false">https://xiaocaoge.com//drop-menu-and-tab-panel/</guid><category><![CDATA[Tab面板]]></category><category><![CDATA[下拉菜单]]></category><dc:creator><![CDATA[Alex]]></dc:creator><pubDate>Sun, 02 Jun 2013 16:00:00 GMT</pubDate><content:encoded>&lt;p&gt;下拉菜单与Tab面板很相似，本质来说就是一种东西，相似的HTML代码结构，CSS设置，JavaScript代码。不考虑IE6，仅限hover事件的话，均可通过纯CSS实现。&lt;/p&gt;
&lt;p&gt;下拉菜单可以有两种HTML代码结构，一种是主菜单包含子菜单，另一种是主菜单与子菜单同一层级。Tab面板HTML代码结构也同样是这两种。如下图所示：
&lt;a href=&quot;/uploads/2013/02/3158712188747102097.png&quot;&gt;&lt;a href=&quot;/uploads/2013/02/3158712188747102097.png&quot;&gt;&lt;img src=&quot;/uploads/2013/02/3158712188747102097.png&quot; alt=&quot;3158712188747102097&quot;&gt;&lt;/a&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;对于下拉菜单，纯CSS的实现方式必须采用第一种结构；对于Tab面板，两种结构均可以。不过个人认为第一种包含式结构更合理，禁用CSS的情况下，有条理。&lt;span style=&quot;color: #888888;&quot;&gt;（PS：不过没有数据说明有多少用户是禁用CSS的？有多少是禁用JS的？又有多少使用屏幕阅读器的？有多少国内开发者考虑这些的？）&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;采用第二种结构，在写JS时，通常会通过标签的ID来传递数据。比如主导航的一个列表项目为&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;li&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;css&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;CSS&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;li&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;其对应的子菜单代码为&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;ul&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;sub-css&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    // ...
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;ul&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;通过ID的如此命名，从而建立其联系，这对于那些并不是每个主导航的列表项都有下拉菜单时是很关键的。&lt;/p&gt;
&lt;p&gt;兼容IE6：通过JS或者jQuery很容易实现。因为IE6不支持除a元素之外的:hover伪类，添加hover事件，添加/去除类（比如“hover”，“on”）来模拟:hover伪类。&lt;/p&gt;
&lt;p&gt;附自己写的一些导航栏和Tab面板：&lt;/p&gt;
&lt;p&gt;导航栏：&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;/demo/nav-example/nav-examples.html&quot;&gt;nav-examples&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Tab面板：&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;/demo/tab/hover-tab.html&quot;&gt;hover tab&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;/demo/tab/click-tab.html&quot;&gt;click tab&lt;/a&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[一个PHP做的博客]]></title><description><![CDATA[读完《PHP6与MySQL5基础教程》之后就开始做一个简单的博客，既可以练习所学，又可以在练习的过程中解决新的问题。名字就叫brieflog，但是功能都是参照自己的Wordpress…]]></description><link>https://xiaocaoge.com//php-blog-brieflog/</link><guid isPermaLink="false">https://xiaocaoge.com//php-blog-brieflog/</guid><category><![CDATA[brieflog]]></category><category><![CDATA[博客]]></category><dc:creator><![CDATA[Alex]]></dc:creator><pubDate>Fri, 31 May 2013 16:00:00 GMT</pubDate><content:encoded>&lt;p&gt;读完《PHP6与MySQL5基础教程》之后就开始做一个简单的博客，既可以练习所学，又可以在练习的过程中解决新的问题。名字就叫brieflog，但是功能都是参照自己的Wordpress博客设计的。虽然功能、样式能有很多不足，不过先把所学的总结一下。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;首页截图&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;/uploads/2013/02/1948369788891271720.png&quot;&gt;&lt;img src=&quot;/uploads/2013/02/1948369788891271720.png&quot; alt=&quot;1948369788891271720&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&quot;包含文件&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E5%8C%85%E5%90%AB%E6%96%87%E4%BB%B6&quot; aria-label=&quot;包含文件 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;包含文件&lt;/h3&gt;
&lt;p&gt;通过简单的包含，就不用重复写header，sidebar，footer了，这是静态网页永远实现不了的。CSS的任务就是为header，sidebar，footer，content及其内容设计样式。&lt;/p&gt;
&lt;h3 id=&quot;输出内容&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E8%BE%93%E5%87%BA%E5%86%85%E5%AE%B9&quot; aria-label=&quot;输出内容 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;输出内容&lt;/h3&gt;
&lt;p&gt;无论是文章列表、文章全文，还是目录列表、用户列表等，都是一个SELECT查询，查询条件各种各样。扩展到其他系统，如电商的商品列表、订单列表，图库的图片列表，论坛的贴子列表等也都是输出内容。&lt;/p&gt;
&lt;p&gt;至于查询条件，通过URL追加信息或隐藏表单的值传递。&lt;/p&gt;
&lt;h3 id=&quot;用户登录模块&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E7%94%A8%E6%88%B7%E7%99%BB%E5%BD%95%E6%A8%A1%E5%9D%97&quot; aria-label=&quot;用户登录模块 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;用户登录模块&lt;/h3&gt;
&lt;p&gt;几乎所有的页面包含登录或退出，所以得单独一个模块。有个要求就是：不必在一个单独的登录页面登录，且登录之后还是在之前浏览的页面。用Ajax实现可能更好，不过自己用的是在登录模块加个判断语句，根据是否登录来显示登录表单。&lt;/p&gt;
&lt;h3 id=&quot;文章编辑器&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E6%96%87%E7%AB%A0%E7%BC%96%E8%BE%91%E5%99%A8&quot; aria-label=&quot;文章编辑器 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;文章编辑器&lt;/h3&gt;
&lt;p&gt;自己写一个编辑器太复杂，且兼容性、功能都无法与已有的相比。好吧！实际情况是目前还写不出来，所以选用现有的，比如TinyMCE。即使选用现有的也花了一两天时间来学习如何配置。目前还没有在IE6中配置成功。&lt;/p&gt;
&lt;h3 id=&quot;评论功能&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E8%AF%84%E8%AE%BA%E5%8A%9F%E8%83%BD&quot; aria-label=&quot;评论功能 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;评论功能&lt;/h3&gt;
&lt;p&gt;之前没想到评论功能居然会成为最难实现的一个功能，本质上评论和论坛的帖子一样。考虑到每个评论都可以被回复，从而形成嵌套评论。在输出评论列表时，需要查看已输出的评论是否有回复评论。自己通过一个递归查询来实现，应该还有更好的评论存储采用的数据结构和评论输出算法。&lt;/p&gt;
&lt;p&gt;评论的HTML结构及CSS样式设置花了点时间。&lt;/p&gt;
&lt;p&gt;在点击回复按钮时，评论表单能出现在下方的功能，通过JS实现。&lt;/p&gt;
&lt;h3 id=&quot;上线&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E4%B8%8A%E7%BA%BF&quot; aria-label=&quot;上线 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;上线&lt;/h3&gt;
&lt;p&gt;从本地转移到网络空间上，要考虑数据库链接文件和配置文件的相关信息更新，比如数据库名、用户名、文件路径等。&lt;/p&gt;
&lt;h3 id=&quot;需要改进的地方&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E9%9C%80%E8%A6%81%E6%94%B9%E8%BF%9B%E7%9A%84%E5%9C%B0%E6%96%B9&quot; aria-label=&quot;需要改进的地方 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;需要改进的地方&lt;/h3&gt;
&lt;p&gt;很多：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;PHP与HTML的分离，Smarty模版的学习。&lt;/li&gt;
&lt;li&gt;面向对象式的PHP&lt;/li&gt;
&lt;li&gt;CSS代码的优化&lt;/li&gt;
&lt;li&gt;细节的完善&lt;/li&gt;
&lt;li&gt;伪静态&lt;/li&gt;
&lt;li&gt;等等&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[jQuery图片播放插件——Slidesjs]]></title><description><![CDATA[一款具有滑动切换和渐变切换效果的图片播放插件，可以定制左右按钮、播放/停止按钮等，标准的效果图如下 1872934495132729043 DEMO：slidesjs-example DEMO下载：slidesjs-example 插件下载：SlidesJS DOWNLOAD…]]></description><link>https://xiaocaoge.com//jquery-plugin-slidesjs/</link><guid isPermaLink="false">https://xiaocaoge.com//jquery-plugin-slidesjs/</guid><category><![CDATA[SlideJS]]></category><category><![CDATA[slideshow]]></category><category><![CDATA[图片轮播]]></category><dc:creator><![CDATA[Alex]]></dc:creator><pubDate>Tue, 07 May 2013 16:00:00 GMT</pubDate><content:encoded>&lt;p&gt;一款具有滑动切换和渐变切换效果的图片播放插件，可以定制左右按钮、播放/停止按钮等，标准的效果图如下&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;/uploads/2013/02/1872934495132729043.jpg&quot;&gt;&lt;img src=&quot;/uploads/2013/02/1872934495132729043.jpg&quot; alt=&quot;1872934495132729043&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;DEMO：&lt;/strong&gt;&lt;a href=&quot;/demo/slidesjs-example/slidesjs.html&quot;&gt;slidesjs-example&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;DEMO下载：&lt;/strong&gt;&lt;a href=&quot;/demo/slidesjs-example.zip&quot;&gt;slidesjs-example&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;插件下载：&lt;/strong&gt;&lt;a href=&quot;https://github.com/nathansearles/Slides/archive/SlidesJS-3.zip&quot;&gt;SlidesJS DOWNLOAD&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;插件设置说明：&lt;/strong&gt;&lt;a href=&quot;http://www.slidesjs.com/#docs&quot;&gt;SlidesJS DOCS&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;需要说明的几点：&lt;/p&gt;
&lt;h3 id=&quot;图片宽度：&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E5%9B%BE%E7%89%87%E5%AE%BD%E5%BA%A6%EF%BC%9A&quot; aria-label=&quot;图片宽度： permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;strong&gt;图片宽度：&lt;/strong&gt;&lt;/h3&gt;
&lt;p&gt;使用时发现必须得通过CSS设置外层的DIV的宽度才有效，仅仅通过插件里面设置不起作用。&lt;/p&gt;
&lt;h3 id=&quot;兼容ie6&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E5%85%BC%E5%AE%B9ie6&quot; aria-label=&quot;兼容ie6 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;兼容IE6&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;PNG透明：&lt;/strong&gt;导航按钮要用到PNG图片，要求背景图透明，支持:hover，支持CSS Sprite，经过尝试iepngfix.htc和DD_belatedPNG.js方法均不行。首先是显示有瑕疵像素，其次似乎不支持利用JS动态加入的class。对于这种只有几种单色的图片，直接使用GIF或PNG-8就可以了，使用Photoshop转换一下即可，这种方法简单、不添加多余代码、通用性强、显示效果好。IE6支持PNG透明的详细解决方案可参考此贴：&lt;a href=&quot;http://www.w3cfuns.com/thread-297-1-1.html&quot;&gt;IE6 PNG透明终极解决方案&lt;/a&gt;。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;相邻inline-block元素间空白问题：&lt;/strong&gt;此处在其父元素设置font-size:0; 此问题的解决方案可参考文章：&lt;a href=&quot;/get-rid-of-the-space-between-inline-block.html&quot;&gt;去除inline-block元素间空白间隙方案&lt;/a&gt;。&lt;/p&gt;
&lt;h3 id=&quot;导航按钮位置及样式&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E5%AF%BC%E8%88%AA%E6%8C%89%E9%92%AE%E4%BD%8D%E7%BD%AE%E5%8F%8A%E6%A0%B7%E5%BC%8F&quot; aria-label=&quot;导航按钮位置及样式 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;导航按钮位置及样式&lt;/h3&gt;
&lt;p&gt;可以通过CSS浮动或绝对定位将按钮放到任何位置，更可以替换成自己的按钮图片，这都是CSS的事儿。&lt;/p&gt;</content:encoded></item><item><title><![CDATA[一个简单的图片播放（jQuery版）]]></title><description><![CDATA[通过Jqurey只需要几行代码就可以实现最简单的图片循环播放，非常容易实现。 基础版 HTML: CSS: 从第一张播放到第N（N=3）张 先导入jquery.js，然后添加以下代码： 从第N（N=3）张到第一张 首先有一个判断当前显示图片是否为第N…]]></description><link>https://xiaocaoge.com//simple-slide-show/</link><guid isPermaLink="false">https://xiaocaoge.com//simple-slide-show/</guid><category><![CDATA[slideshow]]></category><category><![CDATA[图片轮播]]></category><category><![CDATA[焦点图]]></category><dc:creator><![CDATA[Alex]]></dc:creator><pubDate>Mon, 06 May 2013 16:00:00 GMT</pubDate><content:encoded>&lt;p&gt;通过Jqurey只需要几行代码就可以实现最简单的图片循环播放，非常容易实现。&lt;/p&gt;
&lt;h3 id=&quot;基础版&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E5%9F%BA%E7%A1%80%E7%89%88&quot; aria-label=&quot;基础版 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;基础版&lt;/h3&gt;
&lt;p&gt;HTML:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;&amp;lt;div id=&amp;quot;slideshow&amp;quot;&amp;gt;
    &amp;lt;img src=&amp;quot;images/1.jpg&amp;quot; alt=&amp;quot;&amp;quot; /&amp;gt;
    &amp;lt;img src=&amp;quot;images/2.jpg&amp;quot; alt=&amp;quot;&amp;quot; /&amp;gt;
    &amp;lt;img src=&amp;quot;images/3.jpg&amp;quot; alt=&amp;quot;&amp;quot; /&amp;gt;
&amp;lt;/div&amp;gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;CSS:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;#slideshow {
    position: relative;
    width: 512px;
    height: 384px;
    overflow: hidden;
}
#slideshow img {
    position: absolute;
    top: 0;
    left: 0;
    width: 512px; /* 统一图片宽度 */
    z-index:1;
}
#slideshow img.active {
    z-index: 3; /* 当前图片处于最前（上）层 */
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ol&gt;
&lt;li&gt;从第一张播放到第N（N=3）张&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;先导入jquery.js，然后添加以下代码：&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;function slideSwitch(){
    var $active = $(&amp;#39;#slideshow img.active&amp;#39;);
    var $next =  $active.next();

    $next.addClass(&amp;#39;active&amp;#39;)
    $active.removeClass(&amp;#39;active&amp;#39;);
}

$(function(){
    setInterval(slideSwitch, 3000);
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ol start=&quot;2&quot;&gt;
&lt;li&gt;从第N（N=3）张到第一张&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;首先有一个判断当前显示图片是否为第N张，也就是最后一张的语句，若为最后一张，则设置下一张为第一张，则$next改成如下：&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;var $next = $active.next().length ? $active.next() : $(&amp;#39;#slideshow img:first&amp;#39;);&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;至此实现了一个最简单的图片轮播效果。&lt;/p&gt;
&lt;h3 id=&quot;加入渐变切换效果&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E5%8A%A0%E5%85%A5%E6%B8%90%E5%8F%98%E5%88%87%E6%8D%A2%E6%95%88%E6%9E%9C&quot; aria-label=&quot;加入渐变切换效果 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;加入渐变切换效果&lt;/h3&gt;
&lt;p&gt;通过改变图片的透明度即可实现，而且Jqurey可以兼容IE6。实现思路就是先让当前显示图片不透明度为0，然后逐渐增加到100，代码如下&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;function slideSwitch(){
    var $active = $(&amp;#39;#slideshow img.active&amp;#39;);
    var $next = $active.next().length ? $active.next() : $(&amp;#39;#slideshow img:first&amp;#39;);

    $next.css({opacity: 0}
    .addClass(&amp;#39;active&amp;#39;)
    .animate({opacity: 1}, 1000, function(){
        $active.removeClass(&amp;#39;active&amp;#39;);
    });
}

$(function(){
    setInterval(slideSwitch, 3000);
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;然后会发现从最后一张切换到第一张时没有渐变效果，突然就跳到第一张，其过程见下图所示，第一和第三张都具有类active时（z-index相同），因第三张在文档流的后面，会在第一张上面。
&lt;a href=&quot;/uploads/2013/02/1893763643409314700.jpg&quot;&gt;&lt;img src=&quot;/uploads/2013/02/1893763643409314700.jpg&quot; alt=&quot;1893763643409314700&quot;&gt;&lt;/a&gt;
因此在第一张设置不透明度为0之前可以使第三张z-index减小，从而在第一张下面，但又必须大于第二张的，这里添加一个类last-active，并设置其z-index为2。这样第一张从透明逐渐出现时就可以看的着了，示意图如下：
&lt;a href=&quot;/uploads/2013/02/1672805786691448946.png&quot;&gt;&lt;img src=&quot;/uploads/2013/02/1672805786691448946.png&quot; alt=&quot;1672805786691448946&quot;&gt;&lt;/a&gt;
完整的代码如下&lt;/p&gt;
&lt;p&gt;CSS:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;#slideshow img.last-active {
    z-index: 2;
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;JavaScript:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;function slideSwitch(){
    var $active = $(&amp;#39;#slideshow img.active&amp;#39;);
    var $next = $active.next().length ? $active.next() : $(&amp;#39;#slideshow img:first&amp;#39;);
    $active.addClass(&amp;#39;last-active&amp;#39;);
    $next.css({opacity: 0.0})
        .addClass(&amp;#39;active&amp;#39;)
        .animate({opacity: 1.0}, 1000, function(){
            $active.removeClass(&amp;#39;active last-active&amp;#39;);
        });
    }
}

$(function(){
    setInterval(slideSwitch, 3000);
});&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id=&quot;加入鼠标悬停效果&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E5%8A%A0%E5%85%A5%E9%BC%A0%E6%A0%87%E6%82%AC%E5%81%9C%E6%95%88%E6%9E%9C&quot; aria-label=&quot;加入鼠标悬停效果 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;加入鼠标悬停效果&lt;/h3&gt;
&lt;p&gt;即鼠标悬浮在图片上面时，图片停止切换，移开之后有恢复自动切换。停止切换，显然可以通过clearInterval()方法，而鼠标移开之后再次调用setInterval(slideSwitch, 3000)即可，代码如下：&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;$(function(){
    var clear = setInterval(slideSwitch, 3000);
    $(&amp;#39;#slideshow img&amp;#39;).hover(
    function(){
        clearInterval(clear);
    },
    function(){
        clear = setInterval(slideSwitch, 3000);
    });
});&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id=&quot;加入编号按钮&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E5%8A%A0%E5%85%A5%E7%BC%96%E5%8F%B7%E6%8C%89%E9%92%AE&quot; aria-label=&quot;加入编号按钮 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;加入编号按钮&lt;/h3&gt;
&lt;p&gt;加入对应每张图片的编号按钮，通过一个列表实现，并且在鼠标悬停在按钮上面时，显示对应图片，且图片停止切换；移开鼠标之后，图标恢复自动切换。本质上同上一个效果相似，除了要利用CSS设置列表的样式之外。代码如下：&lt;/p&gt;
&lt;p&gt;HTML:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;&amp;lt;div id=&amp;quot;slideshow&amp;quot;&amp;gt;
    &amp;lt;ul id=&amp;quot;slide-list&amp;quot;&amp;gt;
        &amp;lt;li id=&amp;quot;0&amp;quot;&amp;gt;1&amp;lt;/li&amp;gt;
        &amp;lt;li id=&amp;quot;1&amp;quot;&amp;gt;2&amp;lt;/li&amp;gt;
        &amp;lt;li id=&amp;quot;2&amp;quot;&amp;gt;3&amp;lt;/li&amp;gt;
    &amp;lt;/ul&amp;gt;
    &amp;lt;img src=&amp;quot;images/1.jpg&amp;quot; alt=&amp;quot;&amp;quot; /&amp;gt;
    &amp;lt;img src=&amp;quot;images/2.jpg&amp;quot; alt=&amp;quot;&amp;quot; /&amp;gt;
    &amp;lt;img src=&amp;quot;images/3.jpg&amp;quot; alt=&amp;quot;&amp;quot; /&amp;gt;
&amp;lt;/div&amp;gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;CSS:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;#slide-list {
    margin: 0;
    padding: 0;
    list-style: none;
    position: absolute;
    right: 50px;
    bottom: 50px;
    z-index: 4;
}
#slide-list li {
    float: left;
    display: inline-block;
    margin: 0 3px;
    padding: 3px;
    width: 1em;
    font: 16px/1 Arial, sans-serif;
    text-align: center;
    vertical-align: baseline;
    color: #fff;
    background: #555;
    cursor: pointer;
}
#slide-list li:hover,
#slide-list li.hover {
    background: #888;
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;JavaScript:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;function slideSwitch(){
    var $active = $(&amp;#39;#slideshow img.active&amp;#39;);
    var $next = $active.next().length ? $active.next() : $(&amp;#39;#slideshow img:first&amp;#39;);
    $active.addClass(&amp;#39;last-active&amp;#39;);
    $next.css({opacity: 0.0})
        .addClass(&amp;#39;active&amp;#39;)
        .animate({opacity: 1.0}, 1000, function(){
            $(&amp;#39;#slide-list li&amp;#39;).eq($next.index(&amp;#39;#slideshow img&amp;#39;))
                .addClass(&amp;#39;hover&amp;#39;)
                .siblings().removeClass(&amp;#39;hover&amp;#39;);
            $active.removeClass(&amp;#39;active last-active&amp;#39;);
        });
 }

$(function(){
    var clear = setInterval(slideSwitch, 3000);

    $(&amp;#39;#slideshow img&amp;#39;).hover(function(){
         clearInterval(clear);
    },function(){
        clear = setInterval(slideSwitch, 3000);
    });

    $(&amp;#39;#slide-list li&amp;#39;).hover(function(){
        clearInterval(clear);
        $(this).addClass(&amp;#39;hover&amp;#39;);
        $(&amp;#39;#slideshow img&amp;#39;).eq($(this).attr(&amp;#39;id&amp;#39;))
            .addClass(&amp;#39;active last-active&amp;#39;)
            .siblings().removeClass(&amp;#39;active last-active&amp;#39;);
    }, function(){
        $(this).removeClass(&amp;#39;hover&amp;#39;);
        clear = setInterval(slideSwitch, 3000);
    });
});&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;最终DEMO：&lt;/strong&gt;&lt;a href=&quot;/demo/Simple-Slideshow/Simple-Slideshow.html&quot;&gt;Simple Slideshow&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;源代码下载：&lt;/strong&gt;&lt;a href=&quot;/demo/Simple-Slideshow.zip&quot;&gt;simple slideshow&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;(兼容IE6-IE8，Chrome, Firefox, Safari, Opera)&lt;/p&gt;</content:encoded></item><item><title><![CDATA[去除inline-block元素间空白间隙方案]]></title><description><![CDATA[通常在两个相邻元素均设置display:inline-block后，两个元素之间会有空白间隙（大多数浏览器中为4px），如下面代码： HTML: CSS: 形成空白是因为浏览器把标签间的空白当成一个文本节点来渲染。消除空白的方法很多，从HTML代码、CSS、JavaScript…]]></description><link>https://xiaocaoge.com//get-rid-of-the-space-between-inline-block/</link><guid isPermaLink="false">https://xiaocaoge.com//get-rid-of-the-space-between-inline-block/</guid><category><![CDATA[inline-block]]></category><category><![CDATA[空白]]></category><dc:creator><![CDATA[Alex]]></dc:creator><pubDate>Thu, 02 May 2013 16:00:00 GMT</pubDate><content:encoded>&lt;p&gt;通常在两个相邻元素均设置display:inline-block后，两个元素之间会有空白间隙（大多数浏览器中为4px），如下面代码：&lt;/p&gt;
&lt;p&gt;HTML:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;ul&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;a&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;href&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;#&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;One&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;a&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;a&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;href&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;#&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;Two&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;a&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;a&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;href&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;#&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;Three&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;a&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;ul&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;CSS:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;css&quot;&gt;&lt;pre class=&quot;language-css&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token selector&quot;&gt;ul a&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;display&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; inline-block&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;padding&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 5px&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;background&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; #aaa&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;形成空白是因为浏览器把标签间的空白当成一个文本节点来渲染。消除空白的方法很多，从HTML代码、CSS、JavaScript入手的都有，但是能够跨浏览器、简单的方法并不是很多，自己还没找到一种完美的方法。不过已知的方法，足以用来应付日常开发了，下面从HTML、CSS、JavaScript三方面介绍。&lt;/p&gt;
&lt;h3 id=&quot;html&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#html&quot; aria-label=&quot;html permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;HTML&lt;/h3&gt;
&lt;p&gt;最直接简单的一种就是把标签写在一行，消除标签间空白。此方法兼容所有浏览器，只是一来写在一行看着不习惯，二来用感觉应该用CSS控制样式规范些。
还有各种改变标签写法的方法，详细参考：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://css-tricks.com/fighting-the-space-between-inline-block-elements/&quot;&gt;Fighting the Space Between Inline Block Elements&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;css&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#css&quot; aria-label=&quot;css permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;CSS&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;设置font-size：&lt;/strong&gt;自己觉得比较好的一种CSS方法就是，其父元素设置&lt;code class=&quot;language-text&quot;&gt;font-size: 0;&lt;/code&gt;然后本身都重新设置下字体。这种方法在Safari 5下无效（6没测），还得在父元素上设置letter-spacing: -4px，子元素&lt;code class=&quot;language-text&quot;&gt;letter-spacing: normal;&lt;/code&gt;才能兼容所有浏览器，而且添加代码只有几行。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;负外边距：&lt;/strong&gt;设置&lt;code class=&quot;language-text&quot;&gt;display: inline-block;&lt;/code&gt;的同时添加&lt;code class=&quot;language-text&quot;&gt;margin-left: -4px;&lt;/code&gt;。但是此方法，在IE6/8下测试不行，这两个浏览器中空白间隙宽8px，当然也可添加针对IE的注释条件倒可以兼容所有浏览器，而且添加的代码并不多。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;负单词间距：&lt;/strong&gt;给父元素添加&lt;code class=&quot;language-text&quot;&gt;word-spacing: -4px;&lt;/code&gt;也可以，原理同负外边距一样，而且还得加&lt;code class=&quot;language-text&quot;&gt;letter-spacing: -4px;&lt;/code&gt;因&lt;code class=&quot;language-text&quot;&gt;word-spacing: -4px;&lt;/code&gt;在Safari 5中不起作用。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;浮动：&lt;/strong&gt;干脆不设置&lt;code class=&quot;language-text&quot;&gt;display: inline-block;&lt;/code&gt;，改为设置&lt;code class=&quot;language-text&quot;&gt;display: block;&lt;/code&gt;加浮动，这样效果相似，且没有空白间隙的烦恼。&lt;/p&gt;
&lt;h3 id=&quot;javascript&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#javascript&quot; aria-label=&quot;javascript permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;JavaScript&lt;/h3&gt;
&lt;p&gt;原生JavaScript实现代码太长，因此若使用jQuery库的话，可用以下代码：&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token function&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;a&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;contents&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;filter&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;nodeType &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;remove&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h4 id=&quot;参考文章&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E5%8F%82%E8%80%83%E6%96%87%E7%AB%A0&quot; aria-label=&quot;参考文章 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;参考文章&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a href=&quot;http://www.th7.cn/web/html-css/201212/9802.shtml&quot;&gt;inline-block元素的4px空白间距解决方案&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://css-tricks.com/fighting-the-space-between-inline-block-elements/&quot;&gt;Fighting the Space Between Inline Block Elements&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.lifeathighroad.com/web-development/css-web-development/inline-block-whitespace-workaround/&quot;&gt;Inline-Block whitespace workaround&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://stackoverflow.com/questions/5078239/how-to-remove-the-space-between-inline-block-elements&quot;&gt;How to remove the space between inline-block elements?&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;</content:encoded></item><item><title><![CDATA[PHP与MySQL入门]]></title><description><![CDATA[一直想了解网站的后台技术，直到最近才花了20天左右学完了《PHP6和MySQL5基础教程》。之所以看这本书，只是因为图书馆借不到号称“圣经”的那本书，然后这本书综合来看，入门靠谱。不过读完之后，觉得关于前端方面的过时了，毕竟是五六年前的书了，但是PHP…]]></description><link>https://xiaocaoge.com//php-mysql-introduction/</link><guid isPermaLink="false">https://xiaocaoge.com//php-mysql-introduction/</guid><category><![CDATA[MySQL]]></category><category><![CDATA[PHP]]></category><category><![CDATA[PHP入门]]></category><dc:creator><![CDATA[Alex]]></dc:creator><pubDate>Fri, 26 Apr 2013 16:00:00 GMT</pubDate><content:encoded>&lt;p&gt;一直想了解网站的后台技术，直到最近才花了20天左右学完了《PHP6和MySQL5基础教程》。之所以看这本书，只是因为图书馆借不到号称“圣经”的那本书，然后这本书综合来看，入门靠谱。不过读完之后，觉得关于前端方面的过时了，毕竟是五六年前的书了，但是PHP6又超前了，到现在迟迟未出，总体感觉，入门尚可。当然只是入门，学好基础还是得读一本知识点全面的书，比如那本号称“圣经”的书，还要经常翻阅手册才行。想到这里，觉得学某项计算机或互联网技术的读书顺序就是“入门”——“基础”——“进阶”。入门指那些只包含部分常用知识点的书，市面上其实最不缺这方面的垃圾书籍了，所以得慎重选择，一般读一本或者能力高点的跳过直接读基础类书籍。基础类指那些知识点全面的书籍，通常很厚，比入门厚一倍或更多，写这类书籍需要深厚的积淀，所以市面上属于此类的书不多，也读一本即可。进阶类重点写技术某个分支或从某方面剖析，这类书籍国外作者出版的居多，此阶段也需要更多的结合实践。&lt;/p&gt;
&lt;p&gt;不扯了，还是总结下学到了哪些知识点吧！&lt;/p&gt;
&lt;h3 id=&quot;1-运行平台的安装与配置&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#1-%E8%BF%90%E8%A1%8C%E5%B9%B3%E5%8F%B0%E7%9A%84%E5%AE%89%E8%A3%85%E4%B8%8E%E9%85%8D%E7%BD%AE&quot; aria-label=&quot;1 运行平台的安装与配置 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;1. 运行平台的安装与配置&lt;/h3&gt;
&lt;p&gt;此书选择的是XAMPP，其他Windows平台还有WAMP、AppServ，傻瓜式安装，百度更有一大片教程。安装好之后是设置MySQL的root密码，通常还会为每个数据库创建具有限制权限的用户。&lt;/p&gt;
&lt;h3 id=&quot;2-php基础&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#2-php%E5%9F%BA%E7%A1%80&quot; aria-label=&quot;2 php基础 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;2. PHP基础&lt;/h3&gt;
&lt;p&gt;4种标签：&amp;#x3C;?php … ?&gt;、&amp;#x3C;? … ?&gt;、&amp;#x3C;script language=”php”&gt;&amp;#x3C;/script&gt;、&amp;#x3C;% … %&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;单引号与双引号区别&lt;/strong&gt;：单引号除了\’与\转义之外，其他字符直接打印；双引号会用变量值替换变量名称，转义字符均有效&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;函数名&lt;/strong&gt;：不区分大小写&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;注释&lt;/strong&gt;：单行#（shell风格，头部信息常用）或//，多行/* … */&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;变量命名&lt;/strong&gt;：必须以美元符号$开头紧接字母或下划线，只能包含字母、数组或下划线，无需声明&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;String&lt;/strong&gt;：连接字符串用点号“.”，不过“.=”这种写法点容易忽略，不如其他语言中的“+=”；相关函数有strlen()，strtolower()，strtoupper()，ucfirst()，ucwords()&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Number&lt;/strong&gt;：复杂运算可用圆括号明确运算符优先级，处理小数精度不高，可换成整数；相关函数有number&lt;em&gt;format(num, decimal&lt;/em&gt;digits)&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Constant&lt;/strong&gt;：不加美元符号，通常全部大写，不能放在引号中&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;表单验证&lt;/strong&gt;：isset()检测某个变量是否存在；empty()若传入的值为空字符串、0、false、NULL就会返回true；is_numeric()检测值是否为数字&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;数组&lt;/strong&gt;：索引数组和关联数组，其中包含在双引号中的关联数组项应该用花括号包住&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;循环与遍历&lt;/strong&gt;：for，while，do…while三种循环，foreach遍历数组&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;获取表单值&lt;/strong&gt;：$&lt;em&gt;GET[‘name’]获取以GET方式传递的值，$&lt;/em&gt;POST[‘name’]获取以POST方式传递的值&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;包含文件&lt;/strong&gt;：requirce()关键性的包含文件，如数据库访问；include()一般包含文件，如header.html；*_once()会检测文件是否已存在&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;数组与字符串转换&lt;/strong&gt;：&lt;/p&gt;
&lt;p&gt;$array = explode(separator, $string);&lt;/p&gt;
&lt;p&gt;$string = implode(glue, $array);&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;处理表单&lt;/strong&gt;：使用隐藏的输入框来测试表单是否提交，从而执行不同的代码&lt;/p&gt;
&lt;h3 id=&quot;3-mysql和数据库基础&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#3-mysql%E5%92%8C%E6%95%B0%E6%8D%AE%E5%BA%93%E5%9F%BA%E7%A1%80&quot; aria-label=&quot;3 mysql和数据库基础 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;3. MySQL和数据库基础&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;管理数据库方式&lt;/strong&gt;：MySQL控制台或phpmyadmin&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;关键字&lt;/strong&gt;：CREATE DATABASE|TABLE，USE，SHOW，INSERT，SELECT，UPDATE，DELETE，WHERE，ORDER BY，LIMIT，DROP，LIKE，TRUNCATE，GROUP BY，ALTER&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;MySQL函数：&lt;/strong&gt;NOW()，SHA1()，CONCAT()，TRIM()，DATE_FORMAT()，SUBSTRING()，RAND()，ROUND()等&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;执行联结&lt;/strong&gt;：内联结（INNER JOIN … ON …）；外联结（LEFT/RIGHT JOIN … ON …）&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;存储引擎&lt;/strong&gt;：也是表的类型，常见有MyISAM（Linux/Max默认）、InnoDB（Windows默认）&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;FULLTEXT查找&lt;/strong&gt;：基本的字符串匹配&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;执行事务&lt;/strong&gt;：可以设置起点和终点，从而可以回滚，即取消会话期间的一系列操作，语句有START TRANSACTION，ROLLBACK，COMMIT（一旦提交，事务会话期间操作不能回滚了）&lt;/p&gt;
&lt;h3 id=&quot;4-错误处理与调试&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#4-%E9%94%99%E8%AF%AF%E5%A4%84%E7%90%86%E4%B8%8E%E8%B0%83%E8%AF%95&quot; aria-label=&quot;4 错误处理与调试 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;strong&gt;4. 错误处理与调试&lt;/strong&gt;&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;确定技术领域&lt;/strong&gt;：可能有HTML，PHP，SQL，CSS，JavaScript，甚至服务器&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;PHP常见错误&lt;/strong&gt;：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;空白页面：HTML问题或PHP错误，并关闭了display_errors&lt;/li&gt;
&lt;li&gt;解析错误：分号、括号不对称，字符串使用未转义的引号&lt;/li&gt;
&lt;li&gt;空变量值：忘记开头$，变量名拼写错误&lt;/li&gt;
&lt;li&gt;调用未定义的函数：函数名拼写错误，PHP未配置正确&lt;/li&gt;
&lt;li&gt;不能重新生命函数：包含文件中已定义函数&lt;/li&gt;
&lt;li&gt;附一些错误报告关键字及错误原因：&lt;/li&gt;
&lt;li&gt;unexpected end file: 少花括号&lt;/li&gt;
&lt;li&gt;upexpected &apos;echo&apos;, &apos;if&apos;: 少分号&quot;;&quot;&lt;/li&gt;
&lt;li&gt;网页头部空白：是因为以utf-8 BOM编码的php文件，应改为utf-8无BOM编码&lt;/li&gt;
&lt;li&gt;找不到mysqli 说明数据库无法连接&lt;/li&gt;
&lt;li&gt;同一个页面先连接然后关闭，再连接（两次用require_once(MYSQL))似乎有问题&lt;/li&gt;
&lt;li&gt;mysqli&lt;em&gt;num&lt;/em&gt;rows()和mysqli&lt;em&gt;affected&lt;/em&gt;array()等expects parameter 1 to be&lt;/li&gt;
&lt;li&gt;mysqli_result，可能就是查询未成功，语法可能有错误&lt;/li&gt;
&lt;li&gt;对于代码中用到的查询语句应该在控制台或其他界面中执行查询，看是否能成功&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;错误处理与调试相关函数&lt;/strong&gt;：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;error_reporting()：设置错误报告级别&lt;/li&gt;
&lt;li&gt;set&lt;em&gt;error&lt;/em&gt;handler()：指定出现错误时调用的函数，从而可以自定义错误处理程序&lt;/li&gt;
&lt;li&gt;define(‘LIVE’, FALSE)：LIVE用来指示站点是否上线运行&amp;#x3C;?&gt;&lt;/li&gt;
&lt;li&gt;mysqli_error($dbc)：报告数据库查询方面的错误&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;5-php技术&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#5-php%E6%8A%80%E6%9C%AF&quot; aria-label=&quot;5 php技术 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;5. PHP技术&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;日期&lt;/strong&gt;：设置默认时区，时区与本地化，各类日期函数，日期格式化输出&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;上传文件&lt;/strong&gt;：文件上传配置，上传目录通常在Web目录之外，$_FILES超全局变量，要注意上传文件的表单应当包括enctype属性&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Cookie&lt;/strong&gt;：setcookie()设置或清除cookie，$_COOKIE取得cookie的值&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;SESSION&lt;/strong&gt;：开始会话session&lt;em&gt;start()，会话变量$&lt;/em&gt;SESSION，终结会话使用unset()或session_destroy()函数&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Email&lt;/strong&gt;：这个目前还没试验成功，安装了个hmailserver邮件服务器，却没配置成功，还导致MySQL根密码不能用，弄了几个小时才发现的。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;标页码&lt;/strong&gt;：分页技术很常见，就是利用URL传递数值和LIMIT x,y 语句&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;表格数据排序&lt;/strong&gt;：ORDER BY语句&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;多语言版本&lt;/strong&gt;：网站关键位置的各语言版本存储在数据库中，通过自动检测或用户选择使用何种语言，涉及到字符集、时区、编码、日期显示、排序等基础&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;输出缓冲&lt;/strong&gt;：为了一次把解析好的页面发送给用户代理，ob&lt;em&gt;start()、ob&lt;/em&gt;end&lt;em&gt;flush()、ob&lt;/em&gt;end_clear()&lt;/p&gt;
&lt;h3 id=&quot;6-web安全&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#6-web%E5%AE%89%E5%85%A8&quot; aria-label=&quot;6 web安全 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;6. Web安全&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;基本原则&lt;/strong&gt;：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;不要把用户ID存储在cookie中&lt;/li&gt;
&lt;li&gt;不要显示详细的出错消息&lt;/li&gt;
&lt;li&gt;使用加密技术&lt;/li&gt;
&lt;li&gt;保护所有目录和文件&lt;/li&gt;
&lt;li&gt;不要存储信用卡号、银行业务、身份证号等信息&lt;/li&gt;
&lt;li&gt;若需要，可使用SSL&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;常见攻击&lt;/strong&gt;：垃圾邮件，XSS，SQL注入攻击，蛮力攻击，DDoS攻击&lt;/p&gt;
&lt;p&gt;看完之后才觉得刚刚开始，手册里好多函数见都没见过，面向对象开发还是搞不懂怎么回事，正则方面一直是弱点，Ajax方面需要学习与实践，数据库设计得看一两本书，PHP与HTML的分离设计，研究一两个开源PHP系统哦，还有最近打算学的一个伪静态技术。&lt;/p&gt;</content:encoded></item><item><title><![CDATA[浏览器渲染模式：Quirks Mode And Standard Mode]]></title><description><![CDATA[由于在写一个测试网页（中文）时，没有声明DOCTYPE，也没有用meta标签来指明使用何种字符编码方式，导致在除Chrome外的其他几大浏览器均出现乱码现象。只含有DOCTYPE而没有使用meta指明编码时，在FireFox中会出现乱码。然后经由百度和Google…]]></description><link>https://xiaocaoge.com//quirks-mode-and-standard-mode/</link><guid isPermaLink="false">https://xiaocaoge.com//quirks-mode-and-standard-mode/</guid><category><![CDATA[quirks]]></category><category><![CDATA[quirks mode]]></category><category><![CDATA[strict mode]]></category><dc:creator><![CDATA[Alex]]></dc:creator><pubDate>Thu, 25 Apr 2013 16:00:00 GMT</pubDate><content:encoded>&lt;p&gt;由于在写一个测试网页（中文）时，没有声明DOCTYPE，也没有用meta标签来指明使用何种字符编码方式，导致在除Chrome外的其他几大浏览器均出现乱码现象。只含有DOCTYPE而没有使用meta指明编码时，在FireFox中会出现乱码。然后经由百度和Google偶然间得知浏览器还有一种称为“Quirks”的模式，在未声明DOCTYPE时就是此模式。&lt;/p&gt;
&lt;p&gt;在W3C标准出台以前，浏览器对页面的渲染与标准不一致，比如IE6之前的版本与标准在盒模型方面的宽度定义不同。而在出台以后，各浏览器逐渐趋向支持标准，问题是之前产生的大量网站的网页已经不符合标准，因此从IE Mac开始，IE6，Mozilla，Safari以及Opera等相继支持两种模式——Quirks Mode和Standard Mode（也称为Strict Mode）。Quirks Mode来显示以前的页面，Standard Mode显示符合标准的页面。后来从FireFox开始，大部分现代浏览器(Opera,Chrome,Safari,IE8-10)，支持了一种称为”Almost Standard Mode“的模式，也就是接近标准的模式。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;浏览器怎么决定采用那种模式呢？&lt;/strong&gt;这也引出了DTD声明，浏览器通过在页面开始声明不同类型的DOCTYPE来选择使用哪种模式。没有DOCTYPE时，就像以前的网页，浏览器会选择Quirks模式。关于各个浏览器对不同的DOCTYPE来选择何种模式，可以参考此文：&lt;a href=&quot;http://hsivonen.iki.fi/doctype/&quot;&gt;Activating Browser Modes with Doctype&lt;/a&gt;底部的表格。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;如何检测当前模式？&lt;/strong&gt;通过在地址栏中输入以下代码：&lt;/p&gt;
&lt;p&gt;javascript:alert(document.compatMode)&lt;/p&gt;
&lt;p&gt;BackCompat：对应quirks mode
CSS1Compat：对应standard mode&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;两种模式有何区别？&lt;/strong&gt;主要表现在盒模型的定义上不同：&lt;/p&gt;
&lt;p&gt;strict mode中，width不包括边框和内边距；quirks mode中，width包括边框和内边距。
在所有现代浏览器中可以通过box-sizing属性选择采用那种盒模型。&lt;/p&gt;
&lt;p&gt;两种模式的其他方面的不同可以参见这两篇文章：&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://www.cs.tut.fi/~jkorpela/quirks-mode.html&quot;&gt;What happens in Quirks Mode?&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://www.quirksmode.org/css/quirksmode.html&quot;&gt;Quirks mode and strict mode&lt;/a&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[从“On having layout”可以学到什么]]></title><description><![CDATA[早先从《精通CSS》一书中知道有这么一篇文章专门讲IE的一个专有属性hasLayout，hasLayout就是IE6/7中诸多bug的罪魁祸首。说是一篇文章，读完之后发现是“一本书”，知识容量有点大，有4…]]></description><link>https://xiaocaoge.com//what-to-learn-from-on-having-layout/</link><guid isPermaLink="false">https://xiaocaoge.com//what-to-learn-from-on-having-layout/</guid><category><![CDATA[ie6]]></category><category><![CDATA[layout]]></category><category><![CDATA[布局]]></category><dc:creator><![CDATA[Alex]]></dc:creator><pubDate>Thu, 25 Apr 2013 16:00:00 GMT</pubDate><content:encoded>&lt;p&gt;早先从《精通CSS》一书中知道有这么一篇文章专门讲IE的一个专有属性hasLayout，hasLayout就是IE6/7中诸多bug的罪魁祸首。说是一篇文章，读完之后发现是“一本书”，知识容量有点大，有40页左右，再加上必须看里面链接的文章，估计总共不下百页，花了三天才马马虎虎看完，期间发生大脑神志模糊、缺氧等症状。言归正传：&lt;/p&gt;
&lt;p&gt;原文链接：&lt;a href=&quot;http://www.satzansatz.de/cssd/onhavinglayout.html&quot;&gt;On having layout&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;BlueIdea的译文：&lt;a href=&quot;http://www.blueidea.com/tech/site/2006/3698.asp&quot;&gt;On having layout&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;“Layout”是IE/Win的一个私有概念，用来控制元素的尺寸和定位，拥有布局（have layout）的元素负责本身及其子元素的尺寸和定位。如果一个元素没有拥有布局，那么它的尺寸有最近的拥有布局的祖先元素控制。（这句话摘抄的，读得是云里雾里）&lt;/p&gt;
&lt;p&gt;通常IE6/7中的bug可以通过使元素拥有布局（hasLayout = true）来解决，默认情况下拥有布局的元素包括：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;html&lt;/li&gt;
&lt;li&gt;table&lt;/li&gt;
&lt;li&gt;tr、td&lt;/li&gt;
&lt;li&gt;img&lt;/li&gt;
&lt;li&gt;hr&lt;/li&gt;
&lt;li&gt;input、select、textarea、button&lt;/li&gt;
&lt;li&gt;iframe、embed、object、applet&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;marquee&lt;/p&gt;
&lt;p&gt;上面没几个是常用的元素，需要指出的是hasLayout不是CSS属性，不可以通过设置hasLayout = true 使元素拥有布局，可以通过设置某些CSS属性来触发hasLayout属性：&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;float: left/right;&lt;/li&gt;
&lt;li&gt;display: inline-block;&lt;/li&gt;
&lt;li&gt;width: 任何值&lt;/li&gt;
&lt;li&gt;height: 任何值&lt;/li&gt;
&lt;li&gt;zoom: 任何值（IE的专有属性，常用）&lt;/li&gt;
&lt;li&gt;writing-mode: tb-rl（IE的专有属性）&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;在IE7中，下面属性也可以触发布局&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;overflow: hidden/scroll/auto;&lt;/li&gt;
&lt;li&gt;min-width: 任何值&lt;/li&gt;
&lt;li&gt;max-width: 除none之外任何值&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;详细的关于hasLayout触发和重置（使元素不具有布局）的条件可参考此文：&lt;a href=&quot;http://onhavinglayout.fwpf-webdesign.de/hack_management/&quot;&gt;layout-trigger-comparison&lt;/a&gt;，第二部分是关于如何用条件注释管理IE hack的。&lt;/p&gt;
&lt;p&gt;怎么查看一个元素是否具有布局呢？可以通过地址栏输入代码：&lt;/p&gt;
&lt;p&gt;javascript:alert(eid.currentStyle.hasLayout)&lt;/p&gt;
&lt;p&gt;“eid”指某个元素&lt;/p&gt;
&lt;p&gt;另外也可以通过IE的Developer Toolbar查看，若hasLayout 为 true，其值为-1。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;一些关于hasLayout的实例：&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;（本人采用以下浏览器验证：IE6（绿色版），IE7（IE8中的IE7模式），IE8，Chrome25，Firefox19，Opera12，Safari5/Win）&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;包含浮动元素(Containing Floats):&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;即一个容器内子元素浮动，若容器具有Layout，则容器会包含子元素，也就是自动扩展以适应内容(extend-to-fit)。设置容器高度，百分比为单位时，IE7才会自动扩展overflow:hidden|scroll|auto; 添加layout，仅对IE7有效，且在IE7中的表现和在其他现在浏览器中一样，会包含子元素。position: fixed同样。&lt;/p&gt;
&lt;p&gt;另外，若容器相对定位，比如向左偏移（left: -20px），则在IE6中，浮动的子元素不会跟着发生偏移，除非容器具有layout&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;紧跟浮动元素的元素(Elements next to floats)：&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;若为块级元素，其包含的内容会被浮动元素挤占(标准情况下)&lt;/p&gt;
&lt;p&gt;如果块级元素具有layout，则块级元素也会被浮动元素挤开，并且其包含的的内容也不会跑到浮动元素的下面形成环绕。另外在给块级元素使用相对定位时，相对原点也会从浮动元素的右上角计算。还有注意IE6下的3像素偏移bug。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;列表的项目符号&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;IE6/7中的是通过列表的外边距空出空间的，而在其他现在浏览器中是通过列表的内边距空出空间的。若使列表具有layout，则会使项目符号凭空消失，也可能发生其他定位问题。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;有序列表序数数字&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;IE6/7中有序列表项具有layout时，会从新计数，即从1开始；通常情况下应该给列表外面的容器设置宽度，设置列表项里面的内容的高度，从而避免使列表或列表项具有layout。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;垂直列表项目之间的空白间隔&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;IE6 中，若列表项的内容是一个块级元素（比如anchor）时，多行列表项之间会形成空白，就好像插入了一个看不见的列表项，避免的方法有：&lt;/p&gt;
&lt;p&gt;a. 使列表项的块级内容具有layout（标签a的鼠标单击/悬浮感应区域扩展，就是超链接的click和hover事件，同其他现代浏览器）&lt;/p&gt;
&lt;p&gt;b. 设置列表项 display为 inline（标签a的鼠标单击/悬浮感应区域并不扩展）&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;IE6下常规的垂直导航列表，列表元素(ul/ol浮动时&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;若&amp;#x3C;a&gt;没有layout则列表项之间有空白间隔，且&amp;#x3C;a&gt;不具有扩展的点击或悬浮感应区域，但列表会收缩包裹；&lt;/p&gt;
&lt;p&gt;若&amp;#x3C;a&gt;有layout，则列表项之间无空白间隔，&amp;#x3C;a&gt;具有扩展的点击或悬浮感应区域，但列表项会扩展直到整个宽度（指最近的祖先元素所限制的宽度）。&lt;/p&gt;
&lt;p&gt;若列表项浮动（即想制作水平列表），&amp;#x3C;a&gt;具有haslayout，且不浮动时，列表项扩展直到整个宽度，且有垂直空白间隔，解决方法时，让&amp;#x3C;a&gt;不具有layout，或具有浮动。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;浮动之后的清理元素与浮动元素接触&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;容器包含一个浮动元素时，若浮动之后的清理元素与浮动元素接触(外观接触），则在IE6/7中发生多种问题：容器的margin可能不起作用；清理元素之前的标准流内容，若不具有haslayout会消失。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;1像素舍入误差（1 pixel rounding error）&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;绝对定位的元素以相对单位(%/em)为长度单位时，在IE6/7中可能会有1像素的计算误差，这取决于相对单位值大小和窗口的大小(也是祖先定位元素的大小)。&lt;/p&gt;
&lt;p&gt;另外，绝对定位元素的百分比宽度或高度会根据最近已定位的祖先元素(relative,absolute,fixed)计算，但是在IE6中，会根据其父元素计算。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;对表单元素左外边距的影响&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;IE6/7 表单元素的父元素若具有layout，则表单元素(除checkbox,radio,image和textarea)和select elements会继承所有祖先元素的左外边距之和。解决方法：通常可以在表单元素外加一个不具有layout的内联元素，如label,span，当然也可以是p块级元素。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;对背景属性的影响&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;IE6/7 ：background-position的参考原点与是否具有layout有关。&lt;/p&gt;
&lt;p&gt;hasLayout: 则原点为包含内边距的左上角，连背景颜色也是，因此边框下面也就没有背景颜色了&lt;/p&gt;
&lt;p&gt;no hasLayout: 则原点为包含边框的左上角，背景颜色也是&lt;/p&gt;
&lt;p&gt;当然hasLayout还有其他的影响，比如对表格的影响，还请参考原文或译文。由于原文及其链接信息含量有点大以及本人作为初学者，对文章的理解还未透彻，写得不好，主要为了自己有这个总结的过程。&lt;/p&gt;
&lt;p&gt;另外一些在这几天发现的东西：&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;窗口滚动条&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;IE6 默认显示垂直滚动条，通过设置html的overflow: auto/hidden/visible取消。当设置为auto时，若页面宽度为100%，则当高度大于一竖屏时，即出现垂直滚动条时，横向滚动条也会出现。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;清理浮动&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;IE6/7清理浮动时不像其他浏览器用外边距填充，而是直接凭空清理，浮动元素之前有同胞元素时，浮动元素与清理元素之间会复制浮动元素之前的同胞元素的下外边距。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;使用:first-letter或:first-line&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;IE6中，对标签&amp;#x3C;a&gt;使用:first-letter或:first-line似乎会激活activate状态或者下面对a:link or a:visited应用样式时可能无效，因此如果要兼容IE6，最好别用first-letter或first-line伪元素，利用&amp;#x3C;span class=”first-letter”&gt;&amp;#x3C;/span&gt;或&amp;#x3C;span class=”first-line”&gt;&amp;#x3C;/span&gt;等代替。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;边框样式(border-style):&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;dotted: 在IE6-8,FF 中为圆点，IE中边缘锯齿明显，在SF/Ch/Op中表现为方点,因此，不要使用很宽的此类边框&lt;/p&gt;
&lt;p&gt;dashed: 均是长条，但长度、密度、以及角交界处处理均不同，主要表现在IE与其他浏览器的不同，SF/Ch最相似，可能是同一核心的缘故吧&lt;/p&gt;
&lt;p&gt;double: IE两条线间距小，也就是两条线较粗&lt;/p&gt;</content:encoded></item><item><title><![CDATA[JavaScript编程风格]]></title><description><![CDATA[最近在看《编写可维护的JavaScript》，主要是觉得前4章关于编程风格，也就是代码书写细节方面的东西，越早读越好，免得养成一些不好的习惯了，以后想改也难改了。料不是很多，有些风格就是自己现在正用的，现在列出来前四章的tips，也好系统地过一遍。 缩进：用Tab键控制缩进，…]]></description><link>https://xiaocaoge.com//javascript-programming-style/</link><guid isPermaLink="false">https://xiaocaoge.com//javascript-programming-style/</guid><category><![CDATA[Javascript]]></category><category><![CDATA[programming-style]]></category><category><![CDATA[编程风格]]></category><dc:creator><![CDATA[Alex]]></dc:creator><pubDate>Sun, 21 Apr 2013 16:00:00 GMT</pubDate><content:encoded>&lt;p&gt;最近在看《编写可维护的JavaScript》，主要是觉得前4章关于编程风格，也就是代码书写细节方面的东西，越早读越好，免得养成一些不好的习惯了，以后想改也难改了。料不是很多，有些风格就是自己现在正用的，现在列出来前四章的tips，也好系统地过一遍。&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;缩进：用Tab键控制缩进，4个空格，赋值语句保持在赋值符号后对齐&lt;/li&gt;
&lt;li&gt;语句结尾：一律加分号&lt;/li&gt;
&lt;li&gt;行长：80个字符&lt;/li&gt;
&lt;li&gt;换行：两个缩进，在运算符号、分隔符号等后换行&lt;/li&gt;
&lt;li&gt;空行：方法之间，局部变量和第一条语句之间，注释之前，逻辑片段之间&lt;/li&gt;
&lt;li&gt;命名方法：变量或函数名采用小驼峰命名法&lt;/li&gt;
&lt;li&gt;变量和函数命名：变量用名词前缀，函数用动词前缀，jQuery中有些方法例外&lt;/li&gt;
&lt;li&gt;常量：全部大写且下划线连接&lt;/li&gt;
&lt;li&gt;构造函数：常是名词，首字母大写&lt;/li&gt;
&lt;li&gt;直接量语法：&lt;/li&gt;
&lt;li&gt;字符串：单引号或双引号保持一致性，可结合在使用其他语言选择，多行字符串应用连接符(+)连接，即行尾连接符&lt;/li&gt;
&lt;li&gt;数字：不可用类似 10. 或 .1 这种省略写法，禁用八进制字面量&lt;/li&gt;
&lt;li&gt;null：不用null和为初始化变量比较，不用来检测是否传入了参数&lt;/li&gt;
&lt;li&gt;undefined：可能赋值为对象的变量，应该将其赋值为null&lt;/li&gt;
&lt;li&gt;对象直接量：第一行左花括号，每个属性名值对单独一行，一个缩进，最后右花括号独占一行&lt;/li&gt;
&lt;li&gt;数组直接量：方括号括起来元素的形式&lt;/li&gt;
&lt;li&gt;单行注释：用双斜杠&quot;//&quot;，前面空一行，独占一行，行尾不加分号&lt;/li&gt;
&lt;li&gt;多行注释：(&quot;/&lt;em&gt;&quot;...&quot;&lt;/em&gt;/&quot;),前面空一行，每行左侧加对齐的星号&lt;/li&gt;
&lt;li&gt;浏览器特性hack：可能会被误认为为错误的代码应该加注释&lt;/li&gt;
&lt;li&gt;文档注释：以&quot;/&lt;strong&gt;&quot;和&quot;&lt;/strong&gt;/&quot;包裹&lt;/li&gt;
&lt;li&gt;所有的方法：方法、期望的参数和可能的返回值添加注释&lt;/li&gt;
&lt;li&gt;所有的构造函数：自定义类型和期望的参数添加注释&lt;/li&gt;
&lt;li&gt;所有包含文档化方法的对象：若对象包含附带文档注释的方法，针对文档生成工具加注释&lt;/li&gt;
&lt;li&gt;所有if/for/while/do...while/try...catch...finally等中的块语句都用花括号包裹&lt;/li&gt;
&lt;li&gt;花括号对齐方式：左花括号首行末尾，右花括号与首行开头对齐&lt;/li&gt;
&lt;li&gt;块语句首行间隔：语句名（if/while/for等）、圆括号和左花括号之前加一个空格，如&lt;/li&gt;
&lt;li&gt;switch语句：&lt;/li&gt;
&lt;li&gt;缩进：case保持一个缩进&lt;/li&gt;
&lt;li&gt;“连续执行”：连续执行case语句，可接受&lt;/li&gt;
&lt;li&gt;default: 是否可省略（加注释情况下），待议&lt;/li&gt;
&lt;li&gt;with语句：禁用&lt;/li&gt;
&lt;li&gt;for循环中的break与continue语句：break可用，continue根据代码可读性决定&lt;/li&gt;
&lt;li&gt;for...in：循环体中总是用hasOwnProperty()，除非查找原型链&lt;/li&gt;
&lt;li&gt;函数开头是用单var语句，即只用一个var关键字，保持一个缩进，关联变量可合占一行&lt;/li&gt;
&lt;li&gt;函数：先声明，后使用，且不可在条件语句中声明函数&lt;/li&gt;
&lt;li&gt;函数调用：函数名与左括号没有空格&lt;/li&gt;
&lt;li&gt;函数的立即调用：应当将函数用圆括号包裹，一眼看出，以区别通常情况&lt;/li&gt;
&lt;li&gt;严格模式：&quot;use strict&quot;;出现在全局作用域会使所有代码以严格模式执行&lt;/li&gt;
&lt;li&gt;相等：使用 === 或 !==&lt;/li&gt;
&lt;li&gt;eval()：尽量别用&lt;/li&gt;
&lt;li&gt;setTimeout()与setInterval()：第一个参数不用以字符串形式传递，应调用函数&lt;/li&gt;
&lt;li&gt;原始包装类型：禁止使用String、Number或Boolean创建对象&lt;/li&gt;
&lt;/ol&gt;</content:encoded></item><item><title><![CDATA[ID与Class命名规范]]></title><description><![CDATA[一直很头痛ID与Class的命名，ID还好说，页面整体划分的几个区域用用，但Class的命名，各家有各家的规范，这与网站页面的结构有些关系。不过Class命名还是有好多词语或其缩写是相似的，可以参考同类型的网站。另外ID与Class…]]></description><link>https://xiaocaoge.com//id-and-class-naming-convention/</link><guid isPermaLink="false">https://xiaocaoge.com//id-and-class-naming-convention/</guid><category><![CDATA[Class]]></category><category><![CDATA[CSS]]></category><category><![CDATA[ID]]></category><category><![CDATA[命名]]></category><category><![CDATA[命名规范]]></category><dc:creator><![CDATA[Alex]]></dc:creator><pubDate>Thu, 18 Apr 2013 16:00:00 GMT</pubDate><content:encoded>&lt;p&gt;一直很头痛ID与Class的命名，ID还好说，页面整体划分的几个区域用用，但Class的命名，各家有各家的规范，这与网站页面的结构有些关系。不过Class命名还是有好多词语或其缩写是相似的，可以参考同类型的网站。另外ID与Class的选择问题，除了与后台交互以及JavaScript使用选择ID，其他通常选择Class。&lt;/p&gt;
&lt;h2 id=&quot;1-常用（通用）命名&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#1-%E5%B8%B8%E7%94%A8%EF%BC%88%E9%80%9A%E7%94%A8%EF%BC%89%E5%91%BD%E5%90%8D&quot; aria-label=&quot;1 常用（通用）命名 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;1. 常用（通用）命名&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;container/wrapper/pagebody： 一般指整个页面，最外层的div&lt;/li&gt;
&lt;li&gt;header：页面头部区域&lt;/li&gt;
&lt;li&gt;footer：页脚区域&lt;/li&gt;
&lt;li&gt;content：页面除头部和页脚之外区域&lt;/li&gt;
&lt;li&gt;logo：网站标题或logo区域&lt;/li&gt;
&lt;li&gt;nav/mainnav/menu/topnav：主导航栏&lt;/li&gt;
&lt;li&gt;subnav：二级导航，&lt;/li&gt;
&lt;li&gt;dropmenu：下拉菜单&lt;/li&gt;
&lt;li&gt;main：主内容区域，其他词语有maincontent&lt;/li&gt;
&lt;li&gt;sidebar：侧栏区域，其他词语aside、side，若是侧边导航菜单还可能是sidenav，sidemenu&lt;/li&gt;
&lt;li&gt;search/search-box：搜索&lt;/li&gt;
&lt;li&gt;button/btn：按钮&lt;/li&gt;
&lt;li&gt;search-btn：搜索按钮&lt;/li&gt;
&lt;li&gt;keyword：搜索关键字&lt;/li&gt;
&lt;li&gt;tab：标签页&lt;/li&gt;
&lt;li&gt;list：列表类，如文章列表，图片列表&lt;/li&gt;
&lt;li&gt;column/col：某一竖条区域或栏目&lt;/li&gt;
&lt;li&gt;panel：某一栏目&lt;/li&gt;
&lt;li&gt;title：标题&lt;/li&gt;
&lt;li&gt;text：文本&lt;/li&gt;
&lt;li&gt;register/reg：注册&lt;/li&gt;
&lt;li&gt;login：登录&lt;/li&gt;
&lt;li&gt;comment/cmt：评论区域&lt;/li&gt;
&lt;li&gt;article：文章&lt;/li&gt;
&lt;li&gt;gallery：图片库&lt;/li&gt;
&lt;li&gt;hot：热点&lt;/li&gt;
&lt;li&gt;tips：提示&lt;/li&gt;
&lt;li&gt;error：错误&lt;/li&gt;
&lt;li&gt;copyright：版权声明&lt;/li&gt;
&lt;li&gt;sitemap：网站地图&lt;/li&gt;
&lt;li&gt;about：关于&lt;/li&gt;
&lt;li&gt;arrow/arr：箭头&lt;/li&gt;
&lt;li&gt;tag：标签&lt;/li&gt;
&lt;li&gt;banner：广告&lt;/li&gt;
&lt;li&gt;icon/ico：图标&lt;/li&gt;
&lt;li&gt;note：注意&lt;/li&gt;
&lt;li&gt;vote：投票&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;实际命名通常是组合命名，指明标签的结构、功能、语义等，但不应该利用具体的样式命名。&lt;/p&gt;
&lt;h2 id=&quot;2-命名书写格式&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#2-%E5%91%BD%E5%90%8D%E4%B9%A6%E5%86%99%E6%A0%BC%E5%BC%8F&quot; aria-label=&quot;2 命名书写格式 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;2. 命名书写格式&lt;/h2&gt;
&lt;p&gt;常见的格式有：连接符（search-btn）、下划线、全小（searchbox）、小驼峰（searchBox）。&lt;/p&gt;
&lt;p&gt;现在用得多广泛的还是第一种使用连接符，易读、书写方便。&lt;/p&gt;
&lt;p&gt;最后附一份网页设计规范：&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://wenku.baidu.com/view/7a16b12db4daa58da0114a3d.html&quot; title=&quot;Web网页设计规范&quot;&gt;http://wenku.baidu.com/view/7a16b12db4daa58da0114a3d.html&lt;/a&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[图像替换技术]]></title><description><![CDATA[图像替换技术是一个很基础的CSS技术，主要应用在网站logo的替换上或图片导航。实现方法有很多，从最古老的Farhrner方法，到应用最广的Phark方法，以及JavaScript…]]></description><link>https://xiaocaoge.com//image-replacement-list/</link><guid isPermaLink="false">https://xiaocaoge.com//image-replacement-list/</guid><category><![CDATA[CSS]]></category><category><![CDATA[Image Replacement]]></category><category><![CDATA[图像替换]]></category><dc:creator><![CDATA[Alex]]></dc:creator><pubDate>Mon, 18 Mar 2013 16:00:00 GMT</pubDate><content:encoded>&lt;p&gt;图像替换技术是一个很基础的CSS技术，主要应用在网站logo的替换上或图片导航。实现方法有很多，从最古老的Farhrner方法，到应用最广的Phark方法，以及JavaScript实现方法，并且还在不断的演进当中，一种完美的方法尚未出现。在选择实现方法时，主要考虑的就是可访问性问题（即屏幕阅读器、图片无效或CSS无效时仍能正常访问），还有对搜索引擎的友好度。&lt;/p&gt;
&lt;p&gt;一些相关文章链接：&lt;/p&gt;
&lt;p&gt;1. &lt;a href=&quot;http://css-tricks.com/css-image-replacement/&quot; title=&quot;Nine Techniques For Image Replacement&quot;&gt;来自CSS-Trick的一篇文章，介绍了九种方法；&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;2. &lt;a href=&quot;http://www.zeldman.com/2012/03/01/replacing-the-9999px-hack-new-image-replacement/&quot; title=&quot;一种替代text-indent:-9999px的方法&quot;&gt;一种替代text-indent:-9999px的方法；&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;3. &lt;a href=&quot;http://www.blueidea.com/tech/web/2009/6931.asp&quot; title=&quot;图像替换——状态域方法&quot;&gt;一种js实现方法：状态域方法；&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;这里就先学习下前辈们的一些方法，名字就懒得写了。&lt;/p&gt;
&lt;h3 id=&quot;technique1&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#technique1&quot; aria-label=&quot;technique1 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Technique#1&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;HTML&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;h1&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;technique-one&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;span&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;百度&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;span&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;h1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;CSS&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;css&quot;&gt;&lt;pre class=&quot;language-css&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token selector&quot;&gt;#technique-one&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;width&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 117px&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;height&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 38px&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;background&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token url&quot;&gt;&lt;span class=&quot;token function&quot;&gt;url&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;bd_logo.gif&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/span&gt; no-repeat top left&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token selector&quot;&gt;#technique-one span&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;display&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; none&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;使用 display:none 会使屏幕阅读器读不出文本， 搜索引擎通常不会去检索被隐藏的内容，图片无效，CSS有效时，看不到任何内容，且需额外的sapn标签，因此这种方法已经被抛弃了，毕竟是十年的前的方法了。&lt;/p&gt;
&lt;h3 id=&quot;technique2&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#technique2&quot; aria-label=&quot;technique2 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Technique#2&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;HTML&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;h1&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;technique-two&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;百度&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;h1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;CSS&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;css&quot;&gt;&lt;pre class=&quot;language-css&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token selector&quot;&gt;#technique-two&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;width&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 117px&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;height&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 38px&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;background&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token url&quot;&gt;&lt;span class=&quot;token function&quot;&gt;url&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;bd_logo.gif&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/span&gt; no-repeat top left&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;margin-left&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; -2000px&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;图像无效，CSS有效时将看不到任何东西，而且绘制大的框不高效。&lt;/p&gt;
&lt;h3 id=&quot;technique3&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#technique3&quot; aria-label=&quot;technique3 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Technique#3&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;HTML&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;h1&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;technique-three&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;百度&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;h1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;CSS&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;css&quot;&gt;&lt;pre class=&quot;language-css&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token selector&quot;&gt;#technique-three&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;width&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 117px&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;height&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 38px&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&amp;lt;/div&gt;
    &lt;span class=&quot;token property&quot;&gt;background&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token url&quot;&gt;&lt;span class=&quot;token function&quot;&gt;url&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;bd_logo.gif&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;text-indent&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; -9999px&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;应用广泛的一种技术，很简单，但图像无效、CSS有效时看不到任何东西，而且绘制9999px级别的框，造成低效。&lt;/p&gt;
&lt;h3 id=&quot;technique4&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#technique4&quot; aria-label=&quot;technique4 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Technique#4&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;HTML&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;h1&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;technique-four&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;a&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;href&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;#&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
        &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;img&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;src&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;bd_logo.gif&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;alt&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;百度&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;a&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;h1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;CSS&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;css&quot;&gt;&lt;pre class=&quot;language-css&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token selector&quot;&gt;#technique-four&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;width&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 117px&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;height&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 38px&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;background&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token url&quot;&gt;&lt;span class=&quot;token function&quot;&gt;url&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;bd_logo.gif&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;text-indent&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; -9999px&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;图像无效，CSS作用时无法显示文本，其他情况表现正常，对搜索引擎不友好。&lt;/p&gt;
&lt;h3 id=&quot;technique5&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#technique5&quot; aria-label=&quot;technique5 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Technique#5&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;HTML&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;h1&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;technique-five&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;img&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;src&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;bd_logo.gif&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;alt&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;百度&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;span&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;百度&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;span&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;h1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;CSS&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;css&quot;&gt;&lt;pre class=&quot;language-css&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token selector&quot;&gt;#technique-five&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;width&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 117px&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;height&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 38px&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;background&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token url&quot;&gt;&lt;span class=&quot;token function&quot;&gt;url&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;bd_logo.gif&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token selector&quot;&gt;#technique-five span&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;display&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; none&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;图像无效，CSS有效时显示正常；但两者都无效时，显示双文本。&lt;/p&gt;
&lt;h3 id=&quot;technique6&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#technique6&quot; aria-label=&quot;technique6 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Technique#6&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;HTML&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;h1&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;technique-six&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;百度&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;h1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;CSS&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;css&quot;&gt;&lt;pre class=&quot;language-css&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token selector&quot;&gt;#technique-six&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;width&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 117px&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;padding-top&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 38px&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;height&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 0&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;background&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token url&quot;&gt;&lt;span class=&quot;token function&quot;&gt;url&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;bd_logo.gif&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/span&gt; no-repeat&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;overflow&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; hidden&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;可访问性好，高效，但图像无效、CSS有效时将会看不到任何东西。&lt;/p&gt;
&lt;h3 id=&quot;technique7&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#technique7&quot; aria-label=&quot;technique7 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Technique#7&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;HTML&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;h1&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;technique-seven&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;span&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;百度&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;span&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;h1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;CSS&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;css&quot;&gt;&lt;pre class=&quot;language-css&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token selector&quot;&gt;#technique-seven&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;width&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 117px&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;height&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 38px&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;background&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token url&quot;&gt;&lt;span class=&quot;token function&quot;&gt;url&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;bd_logo.gif&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token selector&quot;&gt;#technique-seven span&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;display&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; block&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;width&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 0&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;height&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 0&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;overflow&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; hidden&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;图像无效，CSS有效时将看不到任何东西，且需要额外的标记。&lt;/p&gt;
&lt;h3 id=&quot;technique8&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#technique8&quot; aria-label=&quot;technique8 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Technique#8&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;HTML&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;h1&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;technique-eight&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;span&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;span&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;百度
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;h1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;CSS&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;css&quot;&gt;&lt;pre class=&quot;language-css&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token selector&quot;&gt;#technique-eight&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;width&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 117px&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;height&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 38px&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;position&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; relative&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token selector&quot;&gt;#technique-eight span&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;background&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token url&quot;&gt;&lt;span class=&quot;token function&quot;&gt;url&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;bd_logo.gif&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;position&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; absolute&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;width&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 100%&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;height&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 100%&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;图像无效，CSS有效时显示正常，但图像透明时，文本可能显示 出来，最好加上overflow:hidden设置，防止字体过大时显示出来。&lt;/p&gt;
&lt;h3 id=&quot;technique9&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#technique9&quot; aria-label=&quot;technique9 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Technique#9&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;HTML&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;h1&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;technique-nine&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;百度&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;h1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;CSS&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;css&quot;&gt;&lt;pre class=&quot;language-css&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token selector&quot;&gt;#technique-nine&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;width&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 117px&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;height&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 38px&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;background&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token url&quot;&gt;&lt;span class=&quot;token function&quot;&gt;url&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;bd_logo.gif&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;text-indent&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 100%&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;white-space&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; nowrap&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;overflow&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; hidden&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;图像无效，CSS有效时无法显示，不过相比#3高效。&lt;/p&gt;
&lt;p&gt;当然，其实还有很多其他的方法，不过主要考虑的问题就是：可访问性、解析效率、对搜索引擎友好度、是否简单、兼容性等。&lt;/p&gt;</content:encoded></item><item><title><![CDATA[《费马大定理——一个困惑了世间智者358年的谜》]]></title><description><![CDATA[…]]></description><link>https://xiaocaoge.com//fermats-last-theorem-demonstration-progress/</link><guid isPermaLink="false">https://xiaocaoge.com//fermats-last-theorem-demonstration-progress/</guid><category><![CDATA[数学]]></category><category><![CDATA[费马大定理]]></category><dc:creator><![CDATA[Alex]]></dc:creator><pubDate>Sat, 09 Mar 2013 16:00:00 GMT</pubDate><content:encoded>&lt;p&gt;不知道从什么时候开始，也许是从大学开始，感觉数学课程就像填鸭式学习一样，只要学好教科书上已安排好的公式定理、知识体系，就算学好数学了，似乎也很懂数学了。可是总是理解得不那么深刻，要不了多久就把公式定理证明之类的忘得一干二净，虽然知识不用总会慢慢忘记，但理解总会记忆比较深刻。就像此时此刻几年没怎么接触数学中的三角函数，那些高中时曾熟练运用的三角函数公式，全然忘记了，试图重现证明，却发现举步维艰，看来当年每天凭抄写记忆公式不是很靠谱，对付考试还可以。（靠，这一大段到底在说什么）。&lt;/p&gt;
&lt;p&gt;切入正题，这本讲费马大定理的书，主线就是和费马大定理有关的人、事、物，从毕达哥拉斯到欧几里得，跳过黑暗的中世纪，到达了费马这位“业余数学家之王”怎么提出来这个费马大定理的，接着是一些大数学家欧拉、热尔曼对费马大定理证明的贡献。而后是保罗·沃尔夫斯凯尔这位德国商人、数学爱好者与费马大定理的不可思议经历，一直到古山——志村猜想，费马大定理的证明方向越来越清晰，却也无比艰难，以至于全世界也没有几位数学家敢冒几年光阴去证明可能会失败的定理。不过安德鲁·怀尔斯这位小时候即被费马大定理迷住的人，最终揭开了费马大定理的证明。这是在经过了几十年的积累、七年的闭关证明、一年的煎熬才完成了整个数学史上的一大难题。&lt;/p&gt;
&lt;p&gt;发现自己把这本书当成数学杂志读了，当然故事性挺强的，书中穿插着一些相关的数学趣题，有些老早就见过了。有：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;毕达哥拉斯定理的证明；&lt;/li&gt;
&lt;li&gt;无理数的证明；&lt;/li&gt;
&lt;li&gt;一群人中，任意两个人相同生日的概率；&lt;/li&gt;
&lt;li&gt;数的一些性质：完美数、亲和数、素数等；&lt;/li&gt;
&lt;li&gt;2=1的证明；&lt;/li&gt;
&lt;li&gt;柯尼斯堡七桥问题（和欧拉公式有关，有个安卓游戏“一笔画”也和这个相似吧）；&lt;/li&gt;
&lt;li&gt;希尔伯特的无穷旅馆；&lt;/li&gt;
&lt;li&gt;三人决斗博弈问题；&lt;/li&gt;
&lt;li&gt;时钟算术；&lt;/li&gt;
&lt;li&gt;为什么雪花是六边形结晶体；&lt;/li&gt;
&lt;li&gt;“四色地图”；&lt;/li&gt;
&lt;li&gt;...&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;后面几章的内容模形式、不可判定性定理、哈希加密云里雾里的，看不懂，大概浏览了下。&lt;/p&gt;
&lt;p&gt;读完后收获好像就是知道了费马大定理这个故事，熟悉了几位数学家的名字，见过一些数学或者说智力问题，还有再解题时想象力会丰富点。&lt;/p&gt;
&lt;p&gt;说到对解题的帮助，最近读的《怎样解题》这本书倒是最棒的，只是稍微读了几页对类比、归纳思维有点豁然开朗的感觉。想必如果高中时读过这本书，数学水平绝对会有很大提高。记得高三那会为了对付最后的压轴题，试着通过大量做题来提高解题水平，发现效果不明显，也花费了不少时间，到最后也没找到其他有效的方法。想到这些，恨当时为什么没有这些书呢，有时书的作用就是点拨、启示。当时以为所能接触到的数学资源就是教科书、习题、辅导作业、同学、老师之类的了，完全没意识到还有其他的数学书籍、互联网资源。确实学习方法与学习同等重要。&lt;/p&gt;
&lt;p&gt;一个有意思的现象，有不少数学家的父母或亲戚从事数学相关工作。根据自己逐渐强化的信念，这个世界上只有极少数的天才是我们通常所理解的那样，天生就擅长做某事，而且只需要很少的训练。大部分作出贡献的天才是因为他们专注于他们所从事的事物，经过了很长时间的积累。而如果父母从事的正是相关的工作时，他们便有良好的成长环境，也许这种教育环境是更好的，但却不能够复制。突然想到以前在家里提到“科学家”这个词，母亲说，以为是一家人都是搞科学的，在看到书中说伯努利家族三代之中就出了8位欧洲最优秀的数学家，我觉得称他们一家都是搞数学的也挺合适的，“某某家”描述的还真有深意啊。&lt;/p&gt;</content:encoded></item><item><title><![CDATA[代码编辑器：Notepad++ equipped with Zen coding]]></title><description><![CDATA[Notepad++：不像VIM/EMACS那样的神器强大，却非常容易上手；也不像VS/DW那样集成各种功能，却非常轻便灵活。 Notepad…]]></description><link>https://xiaocaoge.com//code-edit-notepad-equipped-with-zen-coding/</link><guid isPermaLink="false">https://xiaocaoge.com//code-edit-notepad-equipped-with-zen-coding/</guid><category><![CDATA[notepad++]]></category><category><![CDATA[zen coding]]></category><category><![CDATA[代码编辑器]]></category><dc:creator><![CDATA[Alex]]></dc:creator><pubDate>Wed, 13 Feb 2013 16:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Notepad++：不像VIM/EMACS那样的神器强大，却非常容易上手；也不像VS/DW那样集成各种功能，却非常轻便灵活。&lt;/p&gt;
&lt;p&gt;Notepad++的主题、插件、快捷键等自定义还是很强大的。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;主题：&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;一直在用默认主题，突然换成其他的还真不习惯，不习惯其他的字体、行间距、高亮配色等等。据说TextMate 的有很多好看的主题样式，好上TextMate素以此闻名吧。于是乎，就搜索了下怎么使Notepad++具有TextMate的样式，也就几步的事，可见这篇博文介绍：&lt;a href=&quot;http://www.cnblogs.com/westfly/archive/2011/06/29/2093549.html&quot;&gt;步步打造Notepadd++的TextMate主题&lt;/a&gt;。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;插件：&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;必须先吐槽一下Sourceforge.net所遭受的和谐之力，导致不能直接使用Notepad++的插件管理器下载插件。&lt;/p&gt;
&lt;p&gt;知乎上推荐的一个适用于前端开发的插件列表：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;zen coding&lt;/strong&gt;：代码生成功能，建议Python版&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;JSMin&lt;/strong&gt;：代码压缩与格式化工具&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;JSONViewer&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Campare&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Light Explorer&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;NppExec&lt;/strong&gt; ：可执行cmd&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;JSLint&lt;/strong&gt; ：js代码检测&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Xbrackets&lt;/strong&gt; ：自动补全各种括号{}&lt;a href=&quot;&quot;&gt;&lt;/a&gt;等,也可以配置补全&amp;#x3C;&gt;&apos;&apos;等&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;不过现在只用着zen coding。&lt;/p&gt;
&lt;p&gt;官方下载：&lt;a href=&quot;http://code.google.com/p/zen-coding/downloads/list&quot;&gt;http://code.google.com/p/zen-coding/downloads/list&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;墙内下载：&lt;a href=&quot;http://www.softpedia.com/dyn-postdownload.php?p=189931&amp;#x26;t=4&amp;#x26;i=1&quot;&gt;http://www.softpedia.com/dyn-postdownload.php?p=189931&amp;#x26;t=4&amp;#x26;i=1&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;一篇博文教程：&lt;a href=&quot;http://www.qianduan.net/zen-coding-a-new-way-to-write-html-code.html&quot;&gt;http://www.qianduan.net/zen-coding-a-new-way-to-write-html-code.html&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;另最好修改下Zen coding的默认快捷键，可以在 NppScripting\includes\Zen Coding.js文件底部修改，这个文件还包含着HTML/CSS/XML的标签或属性的具体列表，可以看下。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;快捷键&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;在“设置”—“管理快捷键”里可以管理文件操作/运行/编辑以及插件中用到的快捷键。&lt;/p&gt;
&lt;p&gt;首先得设置下打开各个浏览器的快捷键，搞成一键打开；&lt;/p&gt;
&lt;p&gt;其次光标移动的快捷键修改下：&lt;/p&gt;
&lt;p&gt;（主要在&quot;Main menu&quot;及“Scintilla commands&quot;中修改。 ）&lt;/p&gt;
&lt;p&gt;向前(Ctrl+F)，向后(Ctrl+B)，上一行(Ctrl+P)，下一行(Ctrl+N)&lt;/p&gt;
&lt;p&gt;行最前(Ctrl+A), 行最后(Ctrl+E)&lt;/p&gt;
&lt;p&gt;其他常用的快捷键可以看看这篇文章&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://hi.baidu.com/is_water/item/166296d1be69ce1be1f46f27&quot;&gt;http://hi.baidu.com/is_water/item/166296d1be69ce1be1f46f27&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;另外可以通过录制宏来实现一些快捷键。&lt;/p&gt;</content:encoded></item><item><title><![CDATA[WordPress——后台、主题与插件]]></title><description><![CDATA[简单记录下WP博客使用。 后台管理 WP的后台管理挺强大的，至少满足了我需要的功能。不过后台文章编辑器不好用，每次都是用word写好文章后，再复制粘贴到后台编辑器具体编辑显示效果，很麻烦。到现在还没有用熟博客，博客的主题样式可能要修改，Word…]]></description><link>https://xiaocaoge.com//wordpress-background-theme-plugin/</link><guid isPermaLink="false">https://xiaocaoge.com//wordpress-background-theme-plugin/</guid><category><![CDATA[wordpress]]></category><category><![CDATA[wordpress插件]]></category><dc:creator><![CDATA[Alex]]></dc:creator><pubDate>Wed, 13 Feb 2013 16:00:00 GMT</pubDate><content:encoded>&lt;p&gt;简单记录下WP博客使用。&lt;/p&gt;
&lt;h2 id=&quot;后台管理&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E5%90%8E%E5%8F%B0%E7%AE%A1%E7%90%86&quot; aria-label=&quot;后台管理 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;后台管理&lt;/h2&gt;
&lt;p&gt;WP的后台管理挺强大的，至少满足了我需要的功能。不过后台文章编辑器不好用，每次都是用word写好文章后，再复制粘贴到后台编辑器具体编辑显示效果，很麻烦。到现在还没有用熟博客，博客的主题样式可能要修改，Word真心不是用来写博客的吗，还是试试Windows Live Writer吧。另外，由于以前没写过博客还真不知道，文章的节标题、列表、源代码、表格、图片、Demo等都需要规划统一下。一点一点来吧，图片用的网易相册外链，Demo每次用FTP上传，源代码用SyntaxHighlighter Evolved插件2.0版。&lt;/p&gt;
&lt;h2 id=&quot;主题&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E4%B8%BB%E9%A2%98&quot; aria-label=&quot;主题 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;主题&lt;/h2&gt;
&lt;p&gt;刚安装好WP时，试了七八个主题，最后选择了这个。不过还是想用那些简洁、朴实、实用的主题，颜色不必太多，效果不必炫丽，功能模块也不需要太繁杂。&lt;/p&gt;
&lt;h2 id=&quot;插件&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E6%8F%92%E4%BB%B6&quot; aria-label=&quot;插件 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;插件&lt;/h2&gt;
&lt;p&gt;目前所用插件&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;你好多莉：&lt;/strong&gt;偶尔会瞄一眼英文句子。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Akismet：&lt;/strong&gt;反垃圾评论插件，很好很强大，到现在一条评论木有，悲催。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;WP—PostView：&lt;/strong&gt;显示文章浏览量，不过需要更改下PHP代码，否则显示的浏览量比实际的可能多一个数量级。修改见 &lt;a href=&quot;http://www.weisay.com/blog/wp-postviews-statistical-error.html&quot;&gt;http://www.weisay.com/blog/wp-postviews-statistical-error.html&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;BackWPup：&lt;/strong&gt;自动备份，必备利器。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Google XML Sitemaps:&lt;/strong&gt; 生成网站地图，我这个站真得需要它吗？That’s a question！&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Yet Another Related Posts Plugin&lt;/strong&gt;：显示相关文章。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;All in One SEO Pack：&lt;/strong&gt;一直未启用。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;SyntaxHighlighter Evolved：&lt;/strong&gt;代码高亮插件，需要修改下行间距，用2.0版才会在鼠标划过时右上角显示“打印”“源代码“功能按钮。插件的详细介绍见 &lt;a href=&quot;http://www.cnblogs.com/heyuquan/archive/2012/09/28/2707632.html&quot;&gt;http://www.cnblogs.com/heyuquan/archive/2012/09/28/2707632.html&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[水平导航条与下拉菜单（兼容ie6）]]></title><description><![CDATA[水平导航条 关键技术即是列表项(li)的浮动，即添加以下代码： 举一个例子，下面是html代码 第一步，预格式化，消除列表项，列表外边距与内边距；（实际中通过reset.css…]]></description><link>https://xiaocaoge.com//hnav-dropdown-ie6-js-htc/</link><guid isPermaLink="false">https://xiaocaoge.com//hnav-dropdown-ie6-js-htc/</guid><category><![CDATA[CSS]]></category><category><![CDATA[ie6]]></category><category><![CDATA[Javascript]]></category><category><![CDATA[下拉菜单]]></category><category><![CDATA[水平导航]]></category><dc:creator><![CDATA[Alex]]></dc:creator><pubDate>Sun, 10 Feb 2013 16:00:00 GMT</pubDate><content:encoded>&lt;h2 id=&quot;水平导航条&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E6%B0%B4%E5%B9%B3%E5%AF%BC%E8%88%AA%E6%9D%A1&quot; aria-label=&quot;水平导航条 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;水平导航条&lt;/h2&gt;
&lt;p&gt;关键技术即是列表项(li)的浮动，即添加以下代码：&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;css&quot;&gt;&lt;pre class=&quot;language-css&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token selector&quot;&gt;ul li&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token property&quot;&gt;float&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; left&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;举一个例子，下面是html代码&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;ul&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;mainnav&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;li&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;a&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;href&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;#&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;Home&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;a&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;li&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;li&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;a&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;href&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;#&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;About Us&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;a&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;li&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;li&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;a&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;href&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;#&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;Our Clients&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;a&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;li&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;li&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;a&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;href&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;#&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;Support&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;a&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;li&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;li&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;a&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;href&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;#&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;Contact Us&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;a&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;li&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;ul&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;第一步，预格式化，消除列表项，列表外边距与内边距；（实际中通过reset.css）&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;css&quot;&gt;&lt;pre class=&quot;language-css&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token selector&quot;&gt;#mainnav&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;list-style&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; none&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;margin&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 0&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;padding&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 0&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;第二步，浮动列表项；&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;css&quot;&gt;&lt;pre class=&quot;language-css&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token selector&quot;&gt;#mainnav li&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;float&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; left&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;如图所示即为一个最简单也是最丑的水平导航/横向导航&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;/uploads/2013/02/6597722876563981469.jpg&quot;&gt;&lt;img src=&quot;/uploads/2013/02/6597722876563981469.jpg&quot; alt=&quot;6597722876563981469&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;第三步，简单美化导航显示效果，如设置字体，去掉下划线，给列表添加背景色，通过设置列表项边框添加分割线，等等。最终效果图与代码如下：&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;/uploads/2013/02/6597653607331431555.jpg&quot;&gt;&lt;img src=&quot;/uploads/2013/02/6597653607331431555.jpg&quot; alt=&quot;6597653607331431555&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;css&quot;&gt;&lt;pre class=&quot;language-css&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token selector&quot;&gt;#mainnav&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;list-style&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;none&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;margin&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 0&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;padding&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 0&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;float&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; left&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  &lt;span class=&quot;token comment&quot;&gt;/* 使无序列表框包裹住浮动的列表项 */&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;background-color&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; #eee&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token selector&quot;&gt;#mainnav li&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;float&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; left&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token selector&quot;&gt;#mainnav li a&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;font&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 20px/30px Arial&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; Verdana&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; sans-serif&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;display&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; block&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;text-decoration&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; none&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;color&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; #404040&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;padding&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 5px 20px&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;border-left&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 1px solid #bbb&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token selector&quot;&gt;#mainnav .firstChild a&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;  &lt;span class=&quot;token comment&quot;&gt;/* 要给第一个列表项添加 class=”firstChild” */&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;border-left&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; none&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;最后添加鼠标悬停效果，即:hover样式，代码如下：&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;css&quot;&gt;&lt;pre class=&quot;language-css&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token selector&quot;&gt;#mainnav li a:hover,
#mainnav li a:focus&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;  &lt;span class=&quot;token comment&quot;&gt;/* :focus伪类使键盘操作获得鼠标悬停效果 */&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;color&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; #fdfdfd&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;background-color&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; #4cc&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;最终DEMO：&lt;/strong&gt;&lt;a href=&quot;/demo/shnav/hnav.html&quot; title=&quot;简单的水平导航条&quot;&gt;简单的水平导航条&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&quot;下拉菜单&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E4%B8%8B%E6%8B%89%E8%8F%9C%E5%8D%95&quot; aria-label=&quot;下拉菜单 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;下拉菜单&lt;/h2&gt;
&lt;p&gt;这种技术也叫Suckerfish dropdown，关键之处就是先通过设置二级列表的left属性为一个大的负值（如-999em），将其定位到窗口之外，然后鼠标悬停时再将left属性设置成0，从而显示出来。&lt;/p&gt;
&lt;p&gt;注：虽然可以通过设置二级列表的display: none先隐藏，然后再鼠标悬停时设置diplay: block;&lt;/p&gt;
&lt;p&gt;实现同样效果，但display: none会使屏幕阅读器无法读取其中的内容，从而造成可访问性问题。&lt;/p&gt;
&lt;p&gt;html代码如下：&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;ul&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;mainnav&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;li&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;firstChild&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;a&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;href&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;#&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;Home&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;a&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;li&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;li&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;a&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;href&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;#&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;About Us&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;a&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;li&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;li&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;a&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;href&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;#&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;Our Clients&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;a&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
        &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;ul&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
            &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;li&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;a&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;href&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;#&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;Leadership&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;a&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;li&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
            &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;li&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;a&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;href&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;#&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;Involvement&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;a&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;li&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
            &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;li&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;subLastChild&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;a&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;href&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;#&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;Our Vision&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;a&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;li&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
        &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;ul&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;li&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;li&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;a&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;href&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;#&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;Support&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;a&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
        &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;ul&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
            &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;li&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;a&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;href&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;#&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;Blog&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;a&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;li&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
            &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;li&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;a&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;href&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;#&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;Downloads&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;a&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;li&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
            &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;li&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;subLastChild&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;a&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;href&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;#&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;FAQ&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;a&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;li&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
        &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;ul&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;li&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;li&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;a&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;href&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;#&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;Contact Us&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;a&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;li&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;ul&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;第一步，为了使二级列表绝对定位时的参考元素为包含其的一级列表项，先设置一级列表项为相对定位，添加 #mainnav li { position: relative;}。然后将二级列表定位到窗口之外：&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;css&quot;&gt;&lt;pre class=&quot;language-css&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token selector&quot;&gt;#mainnav .subnav&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;position&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; absolute&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;left&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; -999em&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  &lt;span class=&quot;token comment&quot;&gt;/* 将二级列表定位到窗口之外 */&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;top&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 40px&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;top属性的数值 = 锚的行高 + 锚的上下内边距和&lt;/p&gt;
&lt;p&gt;第二步，鼠标悬停时显示二级列表/下拉菜单，添加如下代码：&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;css&quot;&gt;&lt;pre class=&quot;language-css&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token selector&quot;&gt;#mainnav li:hover .subnav&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;left&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 0&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token selector&quot;&gt;#mainnav .subnav li&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;float&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; none&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  &lt;span class=&quot;token comment&quot;&gt;/* 消除列表项对所包含子元素的包裹，扩展宽度 */&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;最后设置一些美化代码，&lt;strong&gt;最终DEMO：&lt;/strong&gt;&lt;a href=&quot;/demo/dropdown/hnav-suckerfish-dropdown.html&quot; title=&quot;Suckerfish下拉菜单&quot;&gt;Suckerfish下拉菜单&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;另因为IE6不支持给除a元素之外的元素添加:hover伪类，需要通过JavaScript代码或修改.htc文件实现此效果，具体方法见下。&lt;/p&gt;
&lt;h2 id=&quot;javascript方法&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#javascript%E6%96%B9%E6%B3%95&quot; aria-label=&quot;javascript方法 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;JavaScript方法&lt;/h2&gt;
&lt;p&gt;原理就是鼠标悬停时给列表项添加类，并在CSS文件设置该类的的left属性，鼠标移出时删除类。详情参考该文：&lt;a href=&quot;http://htmldog.com/articles/suckerfish/dropdowns/&quot;&gt;http://htmldog.com/articles/suckerfish/dropdowns/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;JS与CSS代码如下：&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;sfHover&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; sfEls &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getElementById&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;mainnav&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getElementsByTagName&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;li&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; i&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; i&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;sfEls&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;length&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; i&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        sfEls&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;i&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function-variable function&quot;&gt;onmouseover&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;className &lt;span class=&quot;token operator&quot;&gt;+=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot; sfhover&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

        sfEls&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;i&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function-variable function&quot;&gt;onmouseout&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;className &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;className&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;replace&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;RegExp&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot; sfhover\\b&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

window&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;onload &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; sfHover&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;css&quot;&gt;&lt;pre class=&quot;language-css&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token selector&quot;&gt;#mainnav li:hover .subnav,
#mainnav li.sfhover .subnav&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;left&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; auto&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;DEMO：&lt;/strong&gt;&lt;a href=&quot;/demo/dropdown/hnav-suckerfish-dropdown-ie6-js.html&quot; title=&quot;兼容ie6下拉菜单JS版&quot;&gt;兼容ie6下拉菜单JS版&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&quot;通过css的behavior属性添加特定的htc文件&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E9%80%9A%E8%BF%87css%E7%9A%84behavior%E5%B1%9E%E6%80%A7%E6%B7%BB%E5%8A%A0%E7%89%B9%E5%AE%9A%E7%9A%84htc%E6%96%87%E4%BB%B6&quot; aria-label=&quot;通过css的behavior属性添加特定的htc文件 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;通过CSS的behavior属性添加特定的.htc文件&lt;/h2&gt;
&lt;p&gt;需要添加如下代码引用 ie6hover.htc 文件。&lt;/p&gt;
&lt;p&gt;参考文章：&lt;a href=&quot;http://www.cnblogs.com/czj33499173/archive/2011/12/30/2307674.html&quot;&gt;http://www.cnblogs.com/czj33499173/archive/2011/12/30/2307674.html&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;css&quot;&gt;&lt;pre class=&quot;language-css&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token selector&quot;&gt;body&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;behavior&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token url&quot;&gt;&lt;span class=&quot;token function&quot;&gt;url&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;ie6hover.htc&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  &lt;span class=&quot;token comment&quot;&gt;/* 注意路径 */&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;ie6hover.htc文件代码如下：&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;&amp;lt;attach event=&amp;quot;ondocumentready&amp;quot; handler=&amp;quot;parseStylesheets&amp;quot; /&amp;gt;
&amp;lt;script language=&amp;quot;JScript&amp;quot;&amp;gt;
/**
* Pseudos - V1.30.050121 - hover &amp;amp;amp; active
* ---------------------------------------------
* Peterned - http://www.xs4all.nl/~peterned/
* (c) 2005 - Peter Nederlof
*
* Credits - Arnoud Berendsen
*         - Martin Reurings
*         - Robert Hanson
*
* howto: body { behavior:url(&amp;quot;csshover.htc&amp;quot;); }
* ---------------------------------------------
*/

var currentSheet, doc = window.document, activators = {
    onhover:{on:&amp;#39;onmouseover&amp;#39;, off:&amp;#39;onmouseout&amp;#39;},
    onactive:{on:&amp;#39;onmousedown&amp;#39;, off:&amp;#39;onmouseup&amp;#39;}
}

function parseStylesheets() {
    //window.alert(&amp;quot;hi&amp;quot;);
    var sheets = doc.styleSheets, l = sheets.length;

    for(var i=0; i&amp;lt;l; i++)
        parseStylesheet(sheets[i]);
}

function parseStylesheet(sheet) {
    if(sheet.imports) {
        try {
            var imports = sheet.imports, l = imports.length;
            for(var i=0; i&amp;lt;l; i++) parseStylesheet(sheet.imports[i]);
        } catch(securityException){}
}

try {
    var rules = (currentSheet = sheet).rules, l = rules.length;
    for(var j=0; j&amp;lt;l; j++) parseCSSRule(rules[j]);
} catch(securityException){}
}

function parseCSSRule(rule) {

    var select = rule.selectorText, style = rule.style.cssText;

    if(!(/(^|\s)(([^a]([^ ]+)?)|(a([^#.][^ ]+)+)):(hover|active)/i).test(select) || !style) return;

    var pseudo = select.replace(/[^:]+:([a-z-]+).*/i, &amp;#39;on$1&amp;#39;);
    var newSelect = select.replace(/(\.([a-z0-9_-]+):[a-z]+)|(:[a-z]+)/gi, &amp;#39;.$2&amp;#39; + pseudo);
    var className = (/\.([a-z0-9_-]*on(hover|active))/i).exec(newSelect)[1];
    var affected = select.replace(/:hover.*$/, &amp;#39;&amp;#39;);
    var elements = getElementsBySelect(affected);

    currentSheet.addRule(newSelect, style);

    for(var i=0; i&amp;lt;elements.length; i++)
        new HoverElement(elements[i], className, activators[pseudo]);
}

function HoverElement(node, className, events) {

    if(!node.hovers) node.hovers = {};
    if(node.hovers[className]) return;

    node.hovers[className] = true;
    node.attachEvent(events.on, function() {
        node.className += &amp;#39; &amp;#39; + className;
    });
    node.attachEvent(events.off, function() {
        node.className = node.className.replace(new RegExp(&amp;#39;\\s+&amp;#39;+className, &amp;#39;g&amp;#39;),&amp;#39;&amp;#39;);
    });
}

function getElementsBySelect(rule) {
    var parts, nodes = [doc];

    parts = rule.split(&amp;#39; &amp;#39;);

    for(var i=0; i&amp;lt;parts.length; i++) {
        nodes = getSelectedNodes(parts[i], nodes);
    }

    return nodes;
}

function getSelectedNodes(select, elements) {

    var result, node, nodes = [];
    var classname = (/\.([a-z0-9_-]+)/i).exec(select);
    var identify = (/\#([a-z0-9_-]+)/i).exec(select);
    var tagName = select.replace(/(\.|\#|\:)[a-z0-9_-]+/i, &amp;#39;&amp;#39;);

    for(var i=0; i&amp;lt;elements.length; i++) {
        result = tagName? elements[i].all.tags(tagName):elements[i].all;
        for(var j=0; j&amp;lt;result.length; j++) {
            node = result[j];
            if((identify &amp;amp;&amp;amp; node.id != identify[1]) || (classname &amp;amp;&amp;amp; !(new RegExp(&amp;#39;\\b&amp;#39; +
                classname[1] + &amp;#39;\\b&amp;#39;).exec(node.className)))) continue;
            nodes[nodes.length] = node;
        }
    }

    return nodes;
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content:encoded></item><item><title><![CDATA[读《DOOM启示录》]]></title><description><![CDATA[这是一本关于游戏的书，这是一本关于两个天才约翰的书，当然，这也是一本游戏爱好者读起来欲罢不能的书。至少俺是这样的，书中说DOOM（毁灭战士）这款游戏曾经被很多人认为是电子海洛因，我觉得这本书对我来说也是海洛因。到现在三个月时间，已经读了三四遍了，一句话“太TM…]]></description><link>https://xiaocaoge.com//doom-comment/</link><guid isPermaLink="false">https://xiaocaoge.com//doom-comment/</guid><category><![CDATA[DOOM]]></category><category><![CDATA[游戏]]></category><category><![CDATA[编程]]></category><dc:creator><![CDATA[Alex]]></dc:creator><pubDate>Thu, 07 Feb 2013 16:00:00 GMT</pubDate><content:encoded>&lt;p&gt;这是一本关于游戏的书，这是一本关于两个天才约翰的书，当然，这也是一本游戏爱好者读起来欲罢不能的书。至少俺是这样的，书中说DOOM（毁灭战士）这款游戏曾经被很多人认为是电子海洛因，我觉得这本书对我来说也是海洛因。到现在三个月时间，已经读了三四遍了，一句话“太TM过瘾了”。可惜这本04年出版的书，现在没有中文版了，要看可以下载电子版或者打印出来，以后还想着收藏一本英文版的，以便将来给下一代看，哇哈！&lt;/p&gt;
&lt;p&gt;此书主要记述了约翰·卡马克和约翰·罗梅洛两个人在上世纪90年代，合作成立的id Software公司，不断开发出革命性的游戏：《指挥官基恩》《德军总部3D》《毁灭战士》（DOOM）《雷神之锤》（Quake）等。引领当时3D游戏技术的发展，虽然现在看起来画面粗糙，但当时国人大都处在玩红白机的水平吧。DOOM之于游戏界的意义，就好比iPhone之于智能手机、Windows95之于可视化操作系统，都成为了传奇般的存在。&lt;/p&gt;
&lt;p&gt;卡马克，为人低调、沉默，说话直来直去，而且每句话总以“嗯嗯“结尾，大学辍学生，不过从小就很有天赋，学习也十分专注。负责游戏引擎设计，是id的灵魂人物，游戏者称之为“卡神”。&lt;/p&gt;
&lt;p&gt;罗梅洛，为人高调、张狂、幽默、有趣，喜欢开各种玩笑，也是一个自学成才的人。主要负责游戏编辑器、剧情等设计工作。&lt;/p&gt;
&lt;p&gt;公司创始人还有设计师汤姆和美术师艾德里安。&lt;/p&gt;
&lt;p&gt;最关注的是卡马克，他很小的时候就喜欢读书，所以就近视眼了，也酷爱玩街机，编程技术主要靠自学，经常说的一句话是“只要给他一台电脑和一条网线，在加上披萨和可乐，即使把他关在柜子里面也能过得很好。”在结婚前十几年几乎每天都是十几小时的编程，即使是DOOM、Quake等游戏取得了巨大成功后，仍然能继续专注于编程。书中还提到为了突破技术，他买几千美元的书。他能在图像编程领域成为神一样的人物，主要得自于他的勤奋、专注以及天赋吧。当然，他为人处事很单纯，开源软件的坚定拥护者，不断将游戏的源代码开放，热心慈善，现在在搞火箭。&lt;/p&gt;
&lt;p&gt;罗梅洛是个多面手吧，性格张扬，能够凝聚人心，活跃工作气氛，正好与卡马克性格互补，这样的组合才能充分发挥出每个人的优势。历史上很多这样的组合：乔布斯与沃兹尼亚克、比尔盖茨与艾伦、杨致远与费洛。不过后来的罗梅洛似乎不务实了，开始享受明星待遇了，结果被卡马克开除了。而且他梦想的《大刀》也没有取得多大的辉煌，从此进入了他的低潮期。&lt;/p&gt;
&lt;p&gt;id刚成立时人员配置也算是完美了，程序员、设计师（策划）、美术师、后勤总管、销售代理都有了，而且都很擅长自己的角色，奠定了以后成功的基础。&lt;/p&gt;
&lt;p&gt;最后，再题外些自己和游戏的事，也记录下，记得大学以前是极少玩游戏的，那时候是十分鄙视成天玩游戏的人，而且进入大学前，是多么自信满满地绝不染指游戏，也绝对不看太多的电影音乐还有垃圾小说，结果后来都尽情的玩过看过。自以为绝不会上瘾（我只是有点好奇），谁知不但玩了，曾经还玩得不亦乐乎、天昏地暗，无论吃饭、走路、上课想得都是关于游戏的。现在虽然几乎不玩了，不过也算是体会了游戏，体会到了游戏为什么会令无数志在四方的好男儿热血沸腾、不能自拔。尽情地体验过游戏后，也变得十分痛恨那些说网瘾的人，最讨厌那些没有玩过游戏的人妄论游戏怎么误人了。我觉得游戏，应尤其是那些经典的小游戏还是很益智的。当然对于玩游戏都不会玩还一直玩的人，确实挺浪费时间的，很不幸我也算半个，我觉得我缺乏应有的勇气与沉稳精神，虽然我玩游戏时总是选择那些刚猛的角色，囧！&lt;/p&gt;
&lt;p&gt;以后也会偶尔玩下游戏的，当然我觉得游戏最吸引人的就是几个朋友一起玩。&lt;/p&gt;</content:encoded></item><item><title><![CDATA[斑马表格（zebra table）——CSS与JavaScript实现]]></title><description><![CDATA[斑马表格就是表格的相邻两行颜色不同，这样在看有很多行的表格时，不容易看错行。
下图即为简单的斑马表格 1082834235423952739 斑马表格的实现方法有很多种：CSS3，JavaScript，JQurey等，不过现在俺只会用CSS3或JavaScript实现。 CSS…]]></description><link>https://xiaocaoge.com//zebra-table-nth-childn-javascript/</link><guid isPermaLink="false">https://xiaocaoge.com//zebra-table-nth-childn-javascript/</guid><category><![CDATA[zebra table]]></category><category><![CDATA[斑马表格]]></category><category><![CDATA[表格]]></category><dc:creator><![CDATA[Alex]]></dc:creator><pubDate>Thu, 07 Feb 2013 16:00:00 GMT</pubDate><content:encoded>&lt;p&gt;斑马表格就是表格的相邻两行颜色不同，这样在看有很多行的表格时，不容易看错行。
下图即为简单的斑马表格&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;/uploads/2013/02/1082834235423952739.jpg&quot;&gt;&lt;img src=&quot;/uploads/2013/02/1082834235423952739.jpg&quot; alt=&quot;1082834235423952739&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;斑马表格的实现方法有很多种：CSS3，JavaScript，JQurey等，不过现在俺只会用CSS3或JavaScript实现。&lt;/p&gt;
&lt;h2 id=&quot;css3的enth-childn伪类选择器&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#css3%E7%9A%84enth-childn%E4%BC%AA%E7%B1%BB%E9%80%89%E6%8B%A9%E5%99%A8&quot; aria-label=&quot;css3的enth childn伪类选择器 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;CSS3的E:nth-child(n)伪类选择器&lt;/h2&gt;
&lt;p&gt;E:nth-child(n) 表示第N个子元素E。其中括号里的n可以写成n(自然数)/odd(奇数)/even(偶数)/多项式(2n-1)因此,在表格中&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;tr:nth-child(odd)&lt;/code&gt;或&lt;code class=&quot;language-text&quot;&gt;tr:nth-child(2n-1)&lt;/code&gt;表示奇数行；&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;tr:nth-child(even)&lt;/code&gt;或&lt;code class=&quot;language-text&quot;&gt;tr:nth-child(2n)&lt;/code&gt;表示偶数行；&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;详细用法见：&lt;a href=&quot;http://www.qianduan.net/useful-nth-child-recipies.html&quot; title=&quot;前端观察——nth-child(n)伪类选择器&quot;&gt;http://www.qianduan.net/useful-nth-child-recipies.html&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;下面是示例CSS代码&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;css&quot;&gt;&lt;pre class=&quot;language-css&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token selector&quot;&gt;#booklist&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;font-family&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Arial&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; Verdana&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; sans-serif&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;margin&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; auto&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;border&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 1px solid #ddd&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;border-collapse&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; collapse&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token selector&quot;&gt;#booklist caption&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;font-size&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 24px&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;margin&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 15px 0&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token selector&quot;&gt;#booklist thead th&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;font-size&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 20px&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;border&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 1px solid #ddd&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;padding&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 3px 10px&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token selector&quot;&gt;#booklist tbody td&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;padding&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 2px 10px&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;border&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 1px solid #ddd&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token selector&quot;&gt;#booklist tbody tr:nth-child(odd)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;background-color&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;#eee&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=&quot;javascript方法&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#javascript%E6%96%B9%E6%B3%95&quot; aria-label=&quot;javascript方法 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;JavaScript方法&lt;/h2&gt;
&lt;p&gt;简单地说就是通过取得所有tr对象，然后给奇数行的tr的背景色赋值，代码如下。&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;zebraTable&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; tbody &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getElementById&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;tbody&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; rows &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; tbody&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getElementsByTagName&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;tr&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; i&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; i&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;rows&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;length&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; i&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;i&lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            rows&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;i&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;style&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;backgroundColor &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;#eee&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

window&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;onload &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; zebraTable&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;拓展思考：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;如何实现列之间的斑马线，这才像站着的斑马啊；&lt;/li&gt;
&lt;li&gt;怎么简单实现某列的属性调整，如对齐方式、字体、背景、边框等；&lt;/li&gt;
&lt;li&gt;通过JavaScript实现鼠标划过某行时，此行背景色改变；&lt;/li&gt;
&lt;/ol&gt;</content:encoded></item><item><title><![CDATA[清除浮动影响——:after伪元素结合content属性方法]]></title><description><![CDATA[清除浮动的方法有很多，如：添加空div，让某一个元素（通常是footer）作清除元素，方法，利用CSS生成内容或JavaScript…]]></description><link>https://xiaocaoge.com//float-clear-after-content/</link><guid isPermaLink="false">https://xiaocaoge.com//float-clear-after-content/</guid><category><![CDATA[浮动]]></category><category><![CDATA[布局]]></category><dc:creator><![CDATA[Alex]]></dc:creator><pubDate>Fri, 01 Feb 2013 16:00:00 GMT</pubDate><content:encoded>&lt;p&gt;清除浮动的方法有很多，如：添加空div，让某一个元素（通常是footer）作清除元素，&lt;code class=&quot;language-text&quot;&gt;overflow: hidden;&lt;/code&gt;方法，利用CSS生成内容或JavaScript对浮动元素进行清理。这里只记录下利用&lt;code class=&quot;language-text&quot;&gt;:after&lt;/code&gt;伪元素和内容声明在制定的元素末尾添加新的内容的方法。&lt;/p&gt;
&lt;p&gt;不过得先搞清楚一个问题：&lt;strong&gt;为什么要对浮动元素进行清理？&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;个人见解：一是浮动元素虽然不影响后面非浮动元素的布局，但是会影响元素里面的内容排版，这也是因为浮动的原理是利用添加外边距造成的，见下图；二是包含浮动元素的父容器会因为子元素脱离文档流而可能变成空元素或者发生高度塌陷。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://imgout.ph.126.net/12372012/layout-float-blog.jpg&quot; alt=&quot;Float display&quot;&gt;&lt;/p&gt;
&lt;p&gt;下面接着说利用CSS生成内容方法清理浮动元素的影响。&lt;/p&gt;
&lt;p&gt;通常是对要清理的浮动元素添加clearfix类名，然后添加如下代码：&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;css&quot;&gt;&lt;pre class=&quot;language-css&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token selector&quot;&gt;.clearfix:after&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;content&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;.&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;height&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 0&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;visibility&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; hidden&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;display&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; block&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;clear&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; both&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;说明几点：&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;此方法在现代浏览器中能用，在IE6/7下不能用，因IE6/7不支持&lt;code class=&quot;language-text&quot;&gt;:after&lt;/code&gt;伪元素&lt;/li&gt;
&lt;li&gt;经测试&lt;code class=&quot;language-text&quot;&gt;content: &amp;quot;&amp;quot;&lt;/code&gt;也会使此方法生效&lt;/li&gt;
&lt;li&gt;高度为0，为了不使生成的内容占据垂直空间，&lt;code class=&quot;language-text&quot;&gt;visibility: hidden&lt;/code&gt;为了使内容不显示，因为生成的内容默认&lt;code class=&quot;language-text&quot;&gt;display&lt;/code&gt;属性值为&lt;code class=&quot;language-text&quot;&gt;inline&lt;/code&gt;，即为行框，而行框的上下外边距无效，影响清除，所以要设置：&lt;code class=&quot;language-text&quot;&gt;display: block&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;content&lt;/code&gt;属性是在元素&lt;strong&gt;内容&lt;/strong&gt;后面添加内容，因此添加的内容仍被元素包裹着&lt;/li&gt;
&lt;li&gt;类名为什么为clearfix而不是clear呢？这个还真不太清楚，很多著名网站都用clearfix吧，也能区别以前的clear方法&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;IE6/7下要想使此方法生效，就得添加以下代码：&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;css&quot;&gt;&lt;pre class=&quot;language-css&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token selector&quot;&gt;.clearfix&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token property&quot;&gt;zoom&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 1&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;zoom:1&lt;/code&gt;可激活 IE 的专有属性&lt;code class=&quot;language-text&quot;&gt;hasLayout&lt;/code&gt;,有关神奇的引起诸多IE6 CSSbug的&lt;code class=&quot;language-text&quot;&gt;hasLayout&lt;/code&gt;属性，详情移步至：&lt;/p&gt;
&lt;p&gt;英文原文：&lt;a href=&quot;http://www.satzansatz.de/cssd/onhavinglayout.html&quot;&gt;http://www.satzansatz.de/cssd/onhavinglayout.html&lt;/a&gt;，&lt;/p&gt;
&lt;p&gt;中文译文：&lt;a href=&quot;http://www.blueidea.com/tech/site/2006/3698.asp&quot;&gt;http://www.blueidea.com/tech/site/2006/3698.asp&lt;/a&gt;。&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Web前缘]]></title><description><![CDATA[第一次听“网页设计”这个词是在刚上大学时，学校要举行网页设计大赛，然后俩同学鼓动我参加，正好也想体验一下，就参加了。 当时什么都不会，电脑基础也很差，唯一的用电脑经历就是中学时代每周一节的微机课。然后就去图书馆找到两本书，一本Dreamweaver入门，一本Fireworks…]]></description><link>https://xiaocaoge.com//web-predestined/</link><guid isPermaLink="false">https://xiaocaoge.com//web-predestined/</guid><category><![CDATA[Web]]></category><category><![CDATA[Web学习]]></category><category><![CDATA[网页设计]]></category><dc:creator><![CDATA[Alex]]></dc:creator><pubDate>Thu, 17 Jan 2013 16:00:00 GMT</pubDate><content:encoded>&lt;p&gt;第一次听“网页设计”这个词是在刚上大学时，学校要举行网页设计大赛，然后俩同学鼓动我参加，正好也想体验一下，就参加了。&lt;/p&gt;
&lt;p&gt;当时什么都不会，电脑基础也很差，唯一的用电脑经历就是中学时代每周一节的微机课。然后就去图书馆找到两本书，一本Dreamweaver入门，一本Fireworks入门。然后就去网吧下载软件照着书上练习，最后瞎弄出来三个静态网页，这就算比赛作品了，对比赛也没报任何希望了。而且决赛演示时，看到学长的作品才知道什么叫网页设计，有两个不错：一个是PHP设计的电子商务网站，另一个是ASP设计的社区网站。比赛一过，突然对网页设计没什么兴趣了，MD，打击有点大，心理留下了阴影！&lt;/p&gt;
&lt;p&gt;大学学的唯一的编程语言是VB，非常入门的，考完国家等级考试之后也没怎么学了。&lt;/p&gt;
&lt;p&gt;后来大二暑假，想自学ASP，学了一周，要HTML基础，所以搜了一本电子版简洁教程，然后学起来感觉有点枯燥了，就又中止了。&lt;/p&gt;
&lt;p&gt;直到大四找到工作后，想想大学都学了什么，做了什么，又到底想干什么，适合做什么。便决定学网页设计，现在应该改成与Web前端有关的知识或技术吧，包括但不限于三大基础（Html、CSS、JavaScript）、一门后端语言PHP、数据库Mysql、图形处理软件Photoshop、交互与用户体验、设计等。实际上在决定怎么学时，从网上搜了一些相关的东西，直到现在仍然不断利用搜索来指导学习。&lt;/p&gt;
&lt;p&gt;我决定从最基础的开始学，当时可以通过入门书、电子版书籍教程或者教程网站学习。我记得几年前在大一那次网页设计比赛上认识的一位学长的QQ的个人资料面板上（囧！，有点绕口），有一栏写着&lt;a href=&quot;http://www.w3school.com.cn&quot; title=&quot;Web学习&quot;&gt;www.w3school.com.cn&lt;/a&gt;这个网址。然后知道了这个网站是学网页设计基础最好的网站。&lt;/p&gt;
&lt;p&gt;在大四实习期间，用一台戴尔的二手上网本，花了不到两个星期的晚上时间学完一遍W3School上的Html。实习回校后，又开始了懒散、玩乐的过着，三国杀、电影、睡觉、dota、论文、毕业活动在循环播放。&lt;/p&gt;
&lt;p&gt;7月份开始了真正的工作，与网页设计没什么关系的工作，利用晚上和周末时间学习。由于在学习html基础时感觉很简单，便毫无逻辑地决定：花一个月学完CSS，两个月学完JavaScript。不了解学习的知识架构和难度，也没有实际地统计学习十分之一或者五分之一的时间。学习的过程中，越学越发现Web设计原来水很深，现在还深不见底，还真是学无止境啊。实际上三个基础HTML、CSS、JavaScript一个比一个不简单，难度相差也有几倍吧。索性不定什么不切实际的学习期限，直到学会为止，然后再学习新的东西，如此周而复始。&lt;/p&gt;
&lt;p&gt;目前学的CSS资源：W3School、《HTML与CSS网站设计实践之旅》《别具光芒：属性、浏览器兼容性与网页布局》《CSS网站布局实录》、《精通CSS》ing、一些相关的网络文章；&lt;/p&gt;
&lt;p&gt;目前学的JavaScript资源：Codecademy之JavaScript基础、W3School、《JavaScript DOM编程艺术》ing、以及一些相关的网络文章。&lt;/p&gt;
&lt;p&gt;所学的图书信息或网站资源都是各处积累来的：豆瓣、知乎、Web设计类博客、博客的友情链接、书中提到的网站、直接搜索引擎地毯式搜索等等。&lt;/p&gt;</content:encoded></item><item><title><![CDATA[批量文件打印——PrintConductor]]></title><description><![CDATA[由于某段时间工作需要，每天打印上百份Excel报表，刚开始一个一个打开，然后点击快速打印或者直接右击打印。但是，实在无法忍受这样单调重复性的工作，也很浪费时间，所以网上搜索批量打印软件，在小众软件发现了一款批量打印软件——PrintConductor…]]></description><link>https://xiaocaoge.com//printconductor/</link><guid isPermaLink="false">https://xiaocaoge.com//printconductor/</guid><category><![CDATA[PrintConductor]]></category><category><![CDATA[办公]]></category><category><![CDATA[打印]]></category><category><![CDATA[批量打印]]></category><dc:creator><![CDATA[Alex]]></dc:creator><pubDate>Wed, 09 Jan 2013 16:00:00 GMT</pubDate><content:encoded>&lt;p&gt;由于某段时间工作需要，每天打印上百份Excel报表，刚开始一个一个打开，然后点击快速打印或者直接右击打印。但是，实在无法忍受这样单调重复性的工作，也很浪费时间，所以网上搜索批量打印软件，在&lt;a href=&quot;http://www.appinn.com&quot; title=&quot;分享小巧、有趣、实用软件&quot;&gt;小众软件&lt;/a&gt;发现了一款批量打印软件——PrintConductor（下载见文章结尾）。&lt;/p&gt;
&lt;p&gt;简单，易用，支持多种格式文件，批量打印时不打开文件，下面是软件界面截图。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/uploads/2013/01/printconductor.bmp&quot; alt=&quot;软件界面&quot; title=&quot;PrintConductor&quot;&gt;&lt;/p&gt;
&lt;p&gt;简要介绍下PrintConductor的特点及操作：&lt;/p&gt;
&lt;p&gt;1. 英文界面，但很简单；&lt;/p&gt;
&lt;p&gt;2. 支持格式丰富，支持 PDF、DOC, WRI, WPS, RTF, TXT、XLS、PPT、PPS、 POT、Visio VSD、DWG、SNP。&lt;strong&gt;但是电脑内部必须有打开文件的应用程序。&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;3. 导入文件方便：第一个按钮导入文件，可以批量选择；第二个按钮导入指定文件夹里的所有文件。有时我也喜欢将文件&lt;strong&gt;拖拽&lt;/strong&gt;进入，当然对于导入后不想打印的可以随时选择删除。&lt;/p&gt;
&lt;p&gt;4. 支持将文件导出成列表，也支持将列表导入，这个功能没怎么用过，如果需要每隔一段时间就要打印某些相同的文件，这个功能还是实用的。&lt;/p&gt;
&lt;p&gt;5. 文件打印时，不会打开文件，节省电脑性能，也会节省时间。&lt;/p&gt;
&lt;p&gt;自己的亲身体验，使用这个软件后，我的打印效率提高了至少1倍，而我一般一次性只打印上百个Excel报表（上百张纸）。而且如果打印机不坑爹的话（比如卡纸、油墨不清晰了、已打印的纸张不能自动叠起来等等），一键打印之后就可以做其他的事情了。&lt;/p&gt;
&lt;p&gt;另外如果再安装&lt;strong&gt;PDFCreator&lt;/strong&gt;或者&lt;strong&gt;pdfFactory Pro（&lt;/strong&gt;百度名称即可搜到下载网站），就可以批量将文件打印成pdf文件，也即转换成pdf格式文件。&lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;color: #808080;&quot;&gt;Ps：批量打印前请尽量确保所有文件不再需要修改，千万别变成批量打印废纸，hoho~&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;下载链接：&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;官方网址：&lt;a href=&quot;http://www.print-conductor.com/&quot;&gt;http://www.print-conductor.com/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Softnoic：&lt;a href=&quot;http://printconductor.softonic.cn/&quot;&gt;http://printconductor.softonic.cn/&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[搭建独立博客历程——域名、主机和域名解析]]></title><description><![CDATA[老早就想建立一个独立博客了，只是一直决心未下，一直拖到2012年11月11日这天才进行注册域名和购买主机空间。之前也看了一些这方面的文章，心中也简单地筹划过自己的博客，主要是域名、主机、博客平台、博客方向等。下面是我搭建博客的具体的流程： 域名：后缀.com…]]></description><link>https://xiaocaoge.com//build-independent-blog/</link><guid isPermaLink="false">https://xiaocaoge.com//build-independent-blog/</guid><category><![CDATA[wordpress]]></category><category><![CDATA[搭建博客]]></category><dc:creator><![CDATA[Alex]]></dc:creator><pubDate>Wed, 02 Jan 2013 16:00:00 GMT</pubDate><content:encoded>&lt;p&gt;老早就想建立一个独立博客了，只是一直决心未下，一直拖到2012年11月11日这天才进行注册域名和购买主机空间。之前也看了一些这方面的文章，心中也简单地筹划过自己的博客，主要是域名、主机、博客平台、博客方向等。下面是我搭建博客的具体的流程：&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;域名：&lt;/strong&gt;后缀.com吧，这个用的最多，当然其他的.net，.info，也有不少博客用。至于域名，一开始想注册xiaocaoge，谁知10月份被抢注了，然后就换成了alex1990。曾在&lt;a href=&quot;http://www.williamlong.info&quot; title=&quot;月光博客&quot;&gt;月光博客&lt;/a&gt;中看到一篇文章说.cn的域名由于是国内管理，而且必须备案才可以用，监管比较严，所以不做考虑。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;域名注册商：&lt;/strong&gt;之前也了解到Godaddy是世界著名的域名注册商之一，那就选它吧。正好此时，一个朋友Kyle告诉我注册时用Godaddy的优惠码可以便宜不少钱。我便在网上狂开网页搜索Godaddy注册与优惠码方面的文章，最后以50多RMB买了一年期限。实际上这个价钱和在国内的域名注册商差不多。而后又查询了Whois保护方面的信息，觉得一来服务价格不菲，二来我这个博客也没太大必要保护注册信息。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;主机服务商：&lt;/strong&gt;幸好我上面那位朋友Kyle告诉我还有Homezz这类型的小主机服务商，价格比国内万网、西部数据，或者国外的 Godaddy、Bluehost 等便宜不少。我试了试他博客的网速还挺快的，而且还可以按月付费，也便决定就用Homezz的虚拟主机了。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;域名解析设置：&lt;/strong&gt;我对此一无所知，而且我现在还不打算搞懂这些，尽管网上文章也很多。好在Kyle一步步告诉我怎么设置：第一，注册一个DNS服务商，他推荐我选DNSPod，当然 Godaddy也提供此服务。第二，就是在 Godaddy，将DNSPod得到的两个记录值（主机服务器名）填写到Domain下的Nameserver中。第三在DNSPod中设置域名的A记录与CName，说实话我不知道这是什么玩意。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;安装Wordpress&lt;/strong&gt;：号称5分钟安装，确实安装很简单。只需照着网上的教程和Wordpress的引导就可以完成了。不过装完之后才发现，个人博客搭建才开始，还要对 Wordpress 进行基本信息、主题、插件、分类目录、固定链接、菜单、小工具等各方面的设置。而这些设置，别说50分钟，就是500分钟也就热热身。&lt;/p&gt;
&lt;p&gt;需要说明的是Godaddy、Homezz、DNSPod这些又给我增添了三个账号密码，安装Wordpress也多出了两个用户名和密码，估计此刻我已经忘了一些账户的密码了吧，不过大都提供了密码重置功能。&lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;color: #808080;&quot;&gt;ps：要是某些特定的网站（比如可能只访问一次的，或者隔很长时间才访问一次的，别说你密码，账户名都忘了）提供一次性的动态密码就好了，或许可以弄个终极动态密码口令，适用于游戏、网站登录、重要数据验证等。不过，对于安全与加解密这方面着实不懂。&lt;/span&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[读《软件随想录》（Joel on Software）]]></title><description><![CDATA[在豆瓣上找书时偶然间发现的，评论说这本书言辞幽默、有趣、观点独特，最重要的是非程序员读起来也比较轻松。花了几个晚上，基本上看完了，有那么几篇文章，印象比较深刻吧。 1.“我的第一次BillG审查” 作者（Joel）曾在90年代初期供职于微软，BillG审查就是Bill Gates…]]></description><link>https://xiaocaoge.com//joel-on-software/</link><guid isPermaLink="false">https://xiaocaoge.com//joel-on-software/</guid><category><![CDATA[Joel]]></category><category><![CDATA[程序员]]></category><category><![CDATA[编程]]></category><category><![CDATA[软件随想录]]></category><dc:creator><![CDATA[Alex]]></dc:creator><pubDate>Wed, 02 Jan 2013 16:00:00 GMT</pubDate><content:encoded>&lt;p&gt;在豆瓣上找书时偶然间发现的，评论说这本书言辞幽默、有趣、观点独特，最重要的是非程序员读起来也比较轻松。花了几个晚上，基本上看完了，有那么几篇文章，印象比较深刻吧。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;1.“我的第一次BillG审查”&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;作者（Joel）曾在90年代初期供职于微软，BillG审查就是Bill Gates会审查软件的重大功能。刚好Joel（作者）负责Excel Basic，然后被通知要把规格说明书送到盖茨的办公室，规格说明书长度500页。第二天BillG审查会上，盖茨竟然读完了那份长度为500页的说明书，而且每一页还都留下了评语。会上提问的问题也越来越难，越来越细致。总之，比尔盖茨确实是个工作狂。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;2. “学校只教Java的危险性”&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;以后我学编程了，我想这篇文章可能有帮助。就是编程中有几个难点：指针、递归、不动点函数、函数式编程。如果只学Java，恐怕很难搞懂这些是怎么个回事。当然，即是不会这些，也照样能写出软件，只不过很难成为优秀的程序员。而且函数式编程是MapReduce的基础，MapReduce正是Google引入的，支持计算机集群环境海量数据（PB级别）并行计算的。&lt;/p&gt;
&lt;p&gt;摘抄作者的一个观点：&lt;/p&gt;
&lt;p&gt;&lt;em&gt;“我从来没有见过哪个能用Scheme语言、Haskell语言和C语言中的指针编程的人，竟然不能在两天里学会Java语言，并且写出的Java程序的质量竟然不能胜过那些有5年的Java编程经验的人士。不过，是无法指望人力资源部里那些平庸的懒汉听进去这些话了。”&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;不过，Joel你这观点让学Java的情何以堪啊！&lt;/p&gt;
&lt;p&gt;这就算了，你把OOP（面向对象编程）里的封装、继承、多态、重载都比做历史课上的日期和人名一样简单了。还有一些语言当中（比如JavaScript）的闭包也是小儿科。&lt;/p&gt;
&lt;p&gt;暂时记住文章的观点。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;3. “仿生学办公室”&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;简而言之，就是以优秀程序员为中心的办公室设计。&lt;/p&gt;
&lt;p&gt;（1） 办公室要足够大，有随时可以关闭的门。优秀的程序员是不需要眼睛盯着监督的。&lt;/p&gt;
&lt;p&gt;（2） 什么电源插座、电脑、显示器、办公桌椅之类的，不仅要有，还要足够好。&lt;/p&gt;
&lt;p&gt;（3） 办公室采光、电力供应（UPS）、噪音隔离等也得考虑。&lt;/p&gt;
&lt;p&gt;当然，还有很多方面都要完善，比如饭菜得好、协定上班时间。&lt;/p&gt;
&lt;p&gt;感觉，不仅办公室可以这样，家里也可以这样，尤其是每年要在家里住很长时间时。反正购买软硬件的底线是顶级品牌，不求最好，但求最贵，哈哈~&lt;/p&gt;
&lt;p&gt;当然书中还有很多文章值得一看再看：&lt;/p&gt;
&lt;p&gt;“寻找优秀的程序员之实战指南”&lt;/p&gt;
&lt;p&gt;“三种管理方法”&lt;/p&gt;
&lt;p&gt;“给计算机系学生的建议”&lt;/p&gt;
&lt;p&gt;“字体平滑、反锯齿和次像素渲染”&lt;/p&gt;
&lt;p&gt;“让错误的代码显而易见”&lt;/p&gt;
&lt;p&gt;“建立优质客户服务的七个步骤”&lt;/p&gt;
&lt;p&gt;“软件定价”&lt;/p&gt;
&lt;p&gt;等等。。。&lt;/p&gt;
&lt;p&gt; &lt;/p&gt;
&lt;p&gt;再补充一句：作者提到匈牙利命名法容易检查错误的代码，其他著名命名法还有Camel标记法、Pascal标记法。&lt;/p&gt;</content:encoded></item><item><title><![CDATA[2012 年终总结]]></title><description><![CDATA[注：本文写于 2016 年 12 月 20 日凌晨 2 点 2012 年是从大学走向工作的一年，前半年实习、写论文、毕业，后半年入职、工作、学前端。 年初的决定 经过 201…]]></description><link>https://xiaocaoge.com//2012-summary/</link><guid isPermaLink="false">https://xiaocaoge.com//2012-summary/</guid><category><![CDATA[2012]]></category><category><![CDATA[年终总结]]></category><dc:creator><![CDATA[Alex]]></dc:creator><pubDate>Sun, 30 Dec 2012 16:00:00 GMT</pubDate><content:encoded>&lt;p&gt;&lt;strong&gt;注：本文写于 2016 年 12 月 20 日凌晨 2 点&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;2012 年是从大学走向工作的一年，前半年实习、写论文、毕业，后半年入职、工作、学前端。&lt;/p&gt;
&lt;h2 id=&quot;年初的决定&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E5%B9%B4%E5%88%9D%E7%9A%84%E5%86%B3%E5%AE%9A&quot; aria-label=&quot;年初的决定 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;年初的决定&lt;/h2&gt;
&lt;p&gt;经过 2011 年下半年找工作的碰壁，马上就要到来的毕业所给的压力，我也断断续续在思考毕业之后究竟做什么。我了解到了互联网行业的高工资，对于本专业及已签约的工作都没有兴趣，在过年前后已经思量毕业之后的事情。另外，我觉得两个事对我的选择有关键作用，一个是乔布斯斯坦福演讲里提到把人生的一些“点”串联起来，另一个是一万小时理论。&lt;/p&gt;
&lt;p&gt;我回忆了大学四年，大一参加过网页设计大赛，班里修电脑最好的，和计算机相关的几门课程也喜欢上，成绩还不错。大二像个中二少年学过不到月余计算机黑客相关，又学过 ASP、C++ 等，不过都是短则几天，多则不过两个月。到了大三还算比较认真的学了一段时间 PPT、Excel图表设计。甚至我也回顾了小时候，对于动手制作方面还是感兴趣的。用纸做过铲车，用泥巴捏过汽车，画过房屋设计图，也画过书角动画。总之我认为自己其实挺适合做编程的，我也很了解那种三分钟热度的心态。&lt;/p&gt;
&lt;p&gt;在持续了半年以上的时间里，其实想过多种可能的：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;在百度搜索时了解到了前端这一职业，正好对于网页设计、PPT、修电脑等都懂一点儿皮毛，觉得自己挺适合这个职业的。&lt;/li&gt;
&lt;li&gt;也想过利用一年时间学习计算机专业课，然后考一个 211 的计算机专业研究生，但是从自己的自律能力、已经退化的学习能力及经历的经济条件出发，还是没有实施，也没有太大的勇气。&lt;/li&gt;
&lt;li&gt;专门学习下 PPT 设计，然后找家咨询公司，马马虎虎学过一两个月。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;记得过年去姐夫家帮忙翻盖新房子时，和娘闲聊时谈过将来工作的事，我也告诉她有个高中同学 LY 拿到了不错的 Offer，说起考研和自学前端的事，家里还是比较支持考研的。是的，从来都是比较支持我不断考更高的学历的，我高中玩得好的几个几乎全部选择读研，而初中和大学大都直接工作。&lt;/p&gt;
&lt;p&gt;在与另一名高中同学 XS 的碰面闲谈中，我说了想花一两年时间来自学，虽然他也说过我可以尝试考研，并不是很难。在和家里，及几位朋友开玩笑似的说了我的打算之后，发现我内心越来越坚定。后来的一两年我达到了自学前端和找到工作的目标，只是中间体会到家里人对我并无太大信心，中间一度打算让我回家里小县城找个工作。&lt;/p&gt;
&lt;h2 id=&quot;实习&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E5%AE%9E%E4%B9%A0&quot; aria-label=&quot;实习 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;实习&lt;/h2&gt;
&lt;p&gt;从过完元宵节之后就到广东东莞开始为期两个月左右的实习，坐了人生中最长时间的火车，从河北邯郸出发，经过整整一天一夜才到达实习的公司。在东莞万江总站下车后，是东莞本地的一位朋友 XF，也是大学室友，和他爸爸来接我的，我和他签到了同一家公司实习。&lt;/p&gt;
&lt;p&gt;实习的公司是一家电子厂，主要生产我已经忘记了名字的电子零部件吧。三男四女，共七个人一起实习，实习内容就是学习各个分厂的产品，还到生产车间和一线工人一起组装产品，非常单调、枯燥，几乎不用费什么脑力。所以我晚上学习起前端来还是觉得挺有意思的，晚上和周末就通过自己买的二手上网本来学习 w3cshool.com.cn 上面的入门知识。&lt;/p&gt;
&lt;p&gt;一个小插曲就是有一次我的那位本地大学室友借我的上网本上网，因为时间可能比我期望的长了一点儿，也有点儿破坏了我学习的计划，我表现的有点儿生气，这点儿很不好。接下来我就心里马上后悔了，毕竟室友还是很不错，懂得关心的人，也没什么坏脾气。当然，我到现在都没有向他道过歉什么的，我在东莞期间他还是帮助我很多的，目前我似乎也给不了对他有用的帮助。&lt;/p&gt;
&lt;h2 id=&quot;毕业&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E6%AF%95%E4%B8%9A&quot; aria-label=&quot;毕业 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;毕业&lt;/h2&gt;
&lt;p&gt;实习结束，返校后就开始了颓废般的狂欢，几个同学在寝室玩三国杀，从早上睡醒一直杀到深夜，大聚小聚不断，不过还是倍受煎熬地抽出几天把毕业论文水出来了。&lt;/p&gt;
&lt;p&gt;毕业照和毕业典礼过后，人陆陆续续离开校园，有工作的，有继续度暑假的，只是四年同学大部分可能永远不会再相见了。&lt;/p&gt;
&lt;h2 id=&quot;下半年&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E4%B8%8B%E5%8D%8A%E5%B9%B4&quot; aria-label=&quot;下半年 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;下半年&lt;/h2&gt;
&lt;p&gt;毕业过后，回到公司，当初实习的 7 个人，已经走了 5 个人。我则利用晚上与周末不断学习 CSS、JavaScript 等知识，从东莞市图书馆借了几本书，再加上网上的教程。&lt;/p&gt;
&lt;p&gt;一开始想着两三个月之后就可以找到一家公司，后来见实现不了就想着辞职去找个培训班培训两三个月，还真的打听与联系了培训的学校。只是后来，因为多方面的精神压力，脸上长起了脓疮，这样只能把钱用来看病，对于陌生人也比较胆怯，培训的事情就作罢了。这里要再次感谢 XF 推荐的医院和周末的碰面闲聊，虽然我俩当时都很惨。&lt;/p&gt;
&lt;p&gt;之前还打算过年能攒个钱，给家里装上暖气和宽带，结果因为看脸就身无分文了。也因为我已经和我哥说了过年要装暖气和宽带，结果没有装，后来我又说装不了时，他比较直接的说我一下，大概就是做不到就不要说。似乎就是从那时起，我极少向别人承诺过未来的事情，回忆过去的几年，确实承诺了很多，很多也都没有做到。当然，我也观察到了，大多数人都是很难说到做到的，能把承诺的做到一般都是很不错的人了。&lt;/p&gt;
&lt;p&gt;这年过年也是第一次没有在家里过年，我买了些泡面与零食放在宿舍，然后从醒来一直学习到凌晨入睡，过年的几天学习状态很好，工厂的人大部分都走了，无论白天黑夜宿舍都非常安静。现在还是能体会到那几天的感觉，我学完了《JavaScript DOM 编程艺术》(现在看来是一本入门级别的书），也写了一个简单的计算器程序。&lt;/p&gt;
&lt;h2 id=&quot;读书&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E8%AF%BB%E4%B9%A6&quot; aria-label=&quot;读书 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;读书&lt;/h2&gt;
&lt;p&gt;哦，这一年还是我读书最多的一年，当然我大一时也读了不少，后来几年就颓废了。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;《ZARA》：讲 ZARA 这个品牌历史的书，虽然我之前从来不知道这个品牌，当然现在知道了还是买不起TAT。&lt;/li&gt;
&lt;li&gt;《菊与刀》：讲日本文化的，没有细看，现在也没什么印象了，实习时的 7 个人好像都看得下去这本书。&lt;/li&gt;
&lt;li&gt;《啊哈，灵机一动》和《啊哈！原来如此》一些数学小知识，我很感兴趣，到时觉得中学时代读不错。&lt;/li&gt;
&lt;li&gt;《图解世界战争战法/中世纪时期》：粗略读过一遍，现在忘得一干二净。&lt;/li&gt;
&lt;li&gt;《浪潮之巅》：读的电子书，还是通宵读完的。&lt;/li&gt;
&lt;li&gt;《沸腾15年》：也是读的电子书，通宵读完的。&lt;/li&gt;
&lt;li&gt;《激荡三十年：中国1978-2008》：读的时候，内心挺激荡的，吴晓波企业历史还是不错的。&lt;/li&gt;
&lt;li&gt;《万物简史》：就是近代西方科学历史故事，也是读的电子书。&lt;/li&gt;
&lt;li&gt;《你一定爱读的极简欧洲史》：真的很短，读起来也比较有意思，以前对欧洲史不了解。&lt;/li&gt;
&lt;li&gt;《中国历代政治得失》：泛读了 90%，长见识了，对制度多了层理解。&lt;/li&gt;
&lt;li&gt;《万历十五年》：之前读过《明朝那些事儿》，不过这个展开的非常有意思。&lt;/li&gt;
&lt;li&gt;《中国人史纲》：书中所写同事实难免有出入，改变了我对满清的历史看法，了解了春秋以前的神话传说。&lt;/li&gt;
&lt;li&gt;《历史深处的忧虑：近距离看美国之一》：举例来解释美国的宪法。&lt;/li&gt;
&lt;li&gt;《用户体验的要素：以用户为中心的Web设计》：交互体验的五层模型：战略层、范围层、框架层、布局层、表现层。&lt;/li&gt;
&lt;li&gt;《秩序之美：网页中的风格设计》：将网格在网页设计中的作用，布局之用，对后来学习流行的栅格布局很有帮助。&lt;/li&gt;
&lt;li&gt;《超越自卑》：了解心里成长过程，对自我反思和教育小孩有帮助。&lt;/li&gt;
&lt;li&gt;《黑客与画家》：大道相通吧。&lt;/li&gt;
&lt;li&gt;《软件随想录：程序员部落酋长Joel谈软件》：非常值得软件从业者阅读，读到凌晨不能入睡。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;最后的，也是压轴的一本书：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;《DOOM启示录》：通宵读完的，两个叛逆的游戏制作天才，这本书接下来几年又读了两遍，也是这本书里了解到了著名程序员，江湖人称“卡神”的卡马克。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;当然，还有几本书没列在这里，是因为如果再给我一次选择的机会，我一定不会再读那几本书的。&lt;/p&gt;
&lt;p&gt;想不到 2012 年读了这么多书，还不包括前端学习的书。也是从这一年逐渐学会了如何选择一本书，简单的原则就是豆瓣、亚马逊等评价及热门评论，还有目录，实在不行就翻几页试读一下。另外一点儿想不到的是竟然有好几本书都是通宵读完的。&lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;display:none&quot;&gt;最后的最后，2012 年还有一件影响很深的事情，或者说一个人，只是今后不会再联系了，就用一首歌纪念下吧——《最佳损友》。&lt;/span&gt;&lt;/p&gt;</content:encoded></item></channel></rss>