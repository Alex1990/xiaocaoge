{"componentChunkName":"component---src-templates-post-jsx","path":"/simple-slide-show/","result":{"data":{"markdownRemark":{"html":"<p>通过Jqurey只需要几行代码就可以实现最简单的图片循环播放，非常容易实现。</p>\n<h3 id=\"基础版\" style=\"position:relative;\"><a href=\"#%E5%9F%BA%E7%A1%80%E7%89%88\" aria-label=\"基础版 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>基础版</h3>\n<p>HTML:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">&lt;div id=&quot;slideshow&quot;&gt;\n    &lt;img src=&quot;images/1.jpg&quot; alt=&quot;&quot; /&gt;\n    &lt;img src=&quot;images/2.jpg&quot; alt=&quot;&quot; /&gt;\n    &lt;img src=&quot;images/3.jpg&quot; alt=&quot;&quot; /&gt;\n&lt;/div&gt;</code></pre></div>\n<p>CSS:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">#slideshow {\n    position: relative;\n    width: 512px;\n    height: 384px;\n    overflow: hidden;\n}\n#slideshow img {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 512px; /* 统一图片宽度 */\n    z-index:1;\n}\n#slideshow img.active {\n    z-index: 3; /* 当前图片处于最前（上）层 */\n}</code></pre></div>\n<ol>\n<li>从第一张播放到第N（N=3）张</li>\n</ol>\n<p>先导入jquery.js，然后添加以下代码：</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">function slideSwitch(){\n    var $active = $(&#39;#slideshow img.active&#39;);\n    var $next =  $active.next();\n\n    $next.addClass(&#39;active&#39;)\n    $active.removeClass(&#39;active&#39;);\n}\n\n$(function(){\n    setInterval(slideSwitch, 3000);\n}</code></pre></div>\n<ol start=\"2\">\n<li>从第N（N=3）张到第一张</li>\n</ol>\n<p>首先有一个判断当前显示图片是否为第N张，也就是最后一张的语句，若为最后一张，则设置下一张为第一张，则$next改成如下：</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">var $next = $active.next().length ? $active.next() : $(&#39;#slideshow img:first&#39;);</code></pre></div>\n<p>至此实现了一个最简单的图片轮播效果。</p>\n<h3 id=\"加入渐变切换效果\" style=\"position:relative;\"><a href=\"#%E5%8A%A0%E5%85%A5%E6%B8%90%E5%8F%98%E5%88%87%E6%8D%A2%E6%95%88%E6%9E%9C\" aria-label=\"加入渐变切换效果 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>加入渐变切换效果</h3>\n<p>通过改变图片的透明度即可实现，而且Jqurey可以兼容IE6。实现思路就是先让当前显示图片不透明度为0，然后逐渐增加到100，代码如下</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">function slideSwitch(){\n    var $active = $(&#39;#slideshow img.active&#39;);\n    var $next = $active.next().length ? $active.next() : $(&#39;#slideshow img:first&#39;);\n\n    $next.css({opacity: 0}\n    .addClass(&#39;active&#39;)\n    .animate({opacity: 1}, 1000, function(){\n        $active.removeClass(&#39;active&#39;);\n    });\n}\n\n$(function(){\n    setInterval(slideSwitch, 3000);\n}</code></pre></div>\n<p>然后会发现从最后一张切换到第一张时没有渐变效果，突然就跳到第一张，其过程见下图所示，第一和第三张都具有类active时（z-index相同），因第三张在文档流的后面，会在第一张上面。\n<a href=\"/uploads/2013/02/1893763643409314700.jpg\"><img src=\"/uploads/2013/02/1893763643409314700.jpg\" alt=\"1893763643409314700\"></a>\n因此在第一张设置不透明度为0之前可以使第三张z-index减小，从而在第一张下面，但又必须大于第二张的，这里添加一个类last-active，并设置其z-index为2。这样第一张从透明逐渐出现时就可以看的着了，示意图如下：\n<a href=\"/uploads/2013/02/1672805786691448946.png\"><img src=\"/uploads/2013/02/1672805786691448946.png\" alt=\"1672805786691448946\"></a>\n完整的代码如下</p>\n<p>CSS:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">#slideshow img.last-active {\n    z-index: 2;\n}</code></pre></div>\n<p>JavaScript:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">function slideSwitch(){\n    var $active = $(&#39;#slideshow img.active&#39;);\n    var $next = $active.next().length ? $active.next() : $(&#39;#slideshow img:first&#39;);\n    $active.addClass(&#39;last-active&#39;);\n    $next.css({opacity: 0.0})\n        .addClass(&#39;active&#39;)\n        .animate({opacity: 1.0}, 1000, function(){\n            $active.removeClass(&#39;active last-active&#39;);\n        });\n    }\n}\n\n$(function(){\n    setInterval(slideSwitch, 3000);\n});</code></pre></div>\n<h3 id=\"加入鼠标悬停效果\" style=\"position:relative;\"><a href=\"#%E5%8A%A0%E5%85%A5%E9%BC%A0%E6%A0%87%E6%82%AC%E5%81%9C%E6%95%88%E6%9E%9C\" aria-label=\"加入鼠标悬停效果 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>加入鼠标悬停效果</h3>\n<p>即鼠标悬浮在图片上面时，图片停止切换，移开之后有恢复自动切换。停止切换，显然可以通过clearInterval()方法，而鼠标移开之后再次调用setInterval(slideSwitch, 3000)即可，代码如下：</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$(function(){\n    var clear = setInterval(slideSwitch, 3000);\n    $(&#39;#slideshow img&#39;).hover(\n    function(){\n        clearInterval(clear);\n    },\n    function(){\n        clear = setInterval(slideSwitch, 3000);\n    });\n});</code></pre></div>\n<h3 id=\"加入编号按钮\" style=\"position:relative;\"><a href=\"#%E5%8A%A0%E5%85%A5%E7%BC%96%E5%8F%B7%E6%8C%89%E9%92%AE\" aria-label=\"加入编号按钮 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>加入编号按钮</h3>\n<p>加入对应每张图片的编号按钮，通过一个列表实现，并且在鼠标悬停在按钮上面时，显示对应图片，且图片停止切换；移开鼠标之后，图标恢复自动切换。本质上同上一个效果相似，除了要利用CSS设置列表的样式之外。代码如下：</p>\n<p>HTML:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">&lt;div id=&quot;slideshow&quot;&gt;\n    &lt;ul id=&quot;slide-list&quot;&gt;\n        &lt;li id=&quot;0&quot;&gt;1&lt;/li&gt;\n        &lt;li id=&quot;1&quot;&gt;2&lt;/li&gt;\n        &lt;li id=&quot;2&quot;&gt;3&lt;/li&gt;\n    &lt;/ul&gt;\n    &lt;img src=&quot;images/1.jpg&quot; alt=&quot;&quot; /&gt;\n    &lt;img src=&quot;images/2.jpg&quot; alt=&quot;&quot; /&gt;\n    &lt;img src=&quot;images/3.jpg&quot; alt=&quot;&quot; /&gt;\n&lt;/div&gt;</code></pre></div>\n<p>CSS:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">#slide-list {\n    margin: 0;\n    padding: 0;\n    list-style: none;\n    position: absolute;\n    right: 50px;\n    bottom: 50px;\n    z-index: 4;\n}\n#slide-list li {\n    float: left;\n    display: inline-block;\n    margin: 0 3px;\n    padding: 3px;\n    width: 1em;\n    font: 16px/1 Arial, sans-serif;\n    text-align: center;\n    vertical-align: baseline;\n    color: #fff;\n    background: #555;\n    cursor: pointer;\n}\n#slide-list li:hover,\n#slide-list li.hover {\n    background: #888;\n}</code></pre></div>\n<p>JavaScript:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">function slideSwitch(){\n    var $active = $(&#39;#slideshow img.active&#39;);\n    var $next = $active.next().length ? $active.next() : $(&#39;#slideshow img:first&#39;);\n    $active.addClass(&#39;last-active&#39;);\n    $next.css({opacity: 0.0})\n        .addClass(&#39;active&#39;)\n        .animate({opacity: 1.0}, 1000, function(){\n            $(&#39;#slide-list li&#39;).eq($next.index(&#39;#slideshow img&#39;))\n                .addClass(&#39;hover&#39;)\n                .siblings().removeClass(&#39;hover&#39;);\n            $active.removeClass(&#39;active last-active&#39;);\n        });\n }\n\n$(function(){\n    var clear = setInterval(slideSwitch, 3000);\n\n    $(&#39;#slideshow img&#39;).hover(function(){\n         clearInterval(clear);\n    },function(){\n        clear = setInterval(slideSwitch, 3000);\n    });\n\n    $(&#39;#slide-list li&#39;).hover(function(){\n        clearInterval(clear);\n        $(this).addClass(&#39;hover&#39;);\n        $(&#39;#slideshow img&#39;).eq($(this).attr(&#39;id&#39;))\n            .addClass(&#39;active last-active&#39;)\n            .siblings().removeClass(&#39;active last-active&#39;);\n    }, function(){\n        $(this).removeClass(&#39;hover&#39;);\n        clear = setInterval(slideSwitch, 3000);\n    });\n});</code></pre></div>\n<p><strong>最终DEMO：</strong><a href=\"/demo/Simple-Slideshow/Simple-Slideshow.html\">Simple Slideshow</a></p>\n<p><strong>源代码下载：</strong><a href=\"/demo/Simple-Slideshow.zip\">simple slideshow</a></p>\n<p>(兼容IE6-IE8，Chrome, Firefox, Safari, Opera)</p>","timeToRead":4,"excerpt":"通过Jqurey只需要几行代码就可以实现最简单的图片循环播放，非常容易实现。 基础版 HTML: CSS: 从第一张播放到第N（N=3）张 先导入jquery.js，然后添加以下代码： 从第N（N=3）张到第一张 首先有一个判断当前显示图片是否为第N…","frontmatter":{"title":"一个简单的图片播放（jQuery版）","cover":"","date":"2013-05-07","category":"前端","tags":["slideshow","图片轮播","焦点图"]},"fields":{"slug":"/simple-slide-show/","date":"2013-05-06T16:00:00.000Z"}}},"pageContext":{"slug":"/simple-slide-show/"}},"staticQueryHashes":[]}