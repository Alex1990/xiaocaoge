{"componentChunkName":"component---src-templates-post-jsx","path":"/php-blog-brieflog/","result":{"data":{"markdownRemark":{"html":"<p>读完《PHP6与MySQL5基础教程》之后就开始做一个简单的博客，既可以练习所学，又可以在练习的过程中解决新的问题。名字就叫brieflog，但是功能都是参照自己的Wordpress博客设计的。虽然功能、样式能有很多不足，不过先把所学的总结一下。</p>\n<p><strong>首页截图</strong></p>\n<p><a href=\"/uploads/2013/02/1948369788891271720.png\"><img src=\"/uploads/2013/02/1948369788891271720.png\" alt=\"1948369788891271720\"></a></p>\n<h3 id=\"包含文件\" style=\"position:relative;\"><a href=\"#%E5%8C%85%E5%90%AB%E6%96%87%E4%BB%B6\" aria-label=\"包含文件 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>包含文件</h3>\n<p>通过简单的包含，就不用重复写header，sidebar，footer了，这是静态网页永远实现不了的。CSS的任务就是为header，sidebar，footer，content及其内容设计样式。</p>\n<h3 id=\"输出内容\" style=\"position:relative;\"><a href=\"#%E8%BE%93%E5%87%BA%E5%86%85%E5%AE%B9\" aria-label=\"输出内容 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>输出内容</h3>\n<p>无论是文章列表、文章全文，还是目录列表、用户列表等，都是一个SELECT查询，查询条件各种各样。扩展到其他系统，如电商的商品列表、订单列表，图库的图片列表，论坛的贴子列表等也都是输出内容。</p>\n<p>至于查询条件，通过URL追加信息或隐藏表单的值传递。</p>\n<h3 id=\"用户登录模块\" style=\"position:relative;\"><a href=\"#%E7%94%A8%E6%88%B7%E7%99%BB%E5%BD%95%E6%A8%A1%E5%9D%97\" aria-label=\"用户登录模块 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>用户登录模块</h3>\n<p>几乎所有的页面包含登录或退出，所以得单独一个模块。有个要求就是：不必在一个单独的登录页面登录，且登录之后还是在之前浏览的页面。用Ajax实现可能更好，不过自己用的是在登录模块加个判断语句，根据是否登录来显示登录表单。</p>\n<h3 id=\"文章编辑器\" style=\"position:relative;\"><a href=\"#%E6%96%87%E7%AB%A0%E7%BC%96%E8%BE%91%E5%99%A8\" aria-label=\"文章编辑器 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>文章编辑器</h3>\n<p>自己写一个编辑器太复杂，且兼容性、功能都无法与已有的相比。好吧！实际情况是目前还写不出来，所以选用现有的，比如TinyMCE。即使选用现有的也花了一两天时间来学习如何配置。目前还没有在IE6中配置成功。</p>\n<h3 id=\"评论功能\" style=\"position:relative;\"><a href=\"#%E8%AF%84%E8%AE%BA%E5%8A%9F%E8%83%BD\" aria-label=\"评论功能 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>评论功能</h3>\n<p>之前没想到评论功能居然会成为最难实现的一个功能，本质上评论和论坛的帖子一样。考虑到每个评论都可以被回复，从而形成嵌套评论。在输出评论列表时，需要查看已输出的评论是否有回复评论。自己通过一个递归查询来实现，应该还有更好的评论存储采用的数据结构和评论输出算法。</p>\n<p>评论的HTML结构及CSS样式设置花了点时间。</p>\n<p>在点击回复按钮时，评论表单能出现在下方的功能，通过JS实现。</p>\n<h3 id=\"上线\" style=\"position:relative;\"><a href=\"#%E4%B8%8A%E7%BA%BF\" aria-label=\"上线 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>上线</h3>\n<p>从本地转移到网络空间上，要考虑数据库链接文件和配置文件的相关信息更新，比如数据库名、用户名、文件路径等。</p>\n<h3 id=\"需要改进的地方\" style=\"position:relative;\"><a href=\"#%E9%9C%80%E8%A6%81%E6%94%B9%E8%BF%9B%E7%9A%84%E5%9C%B0%E6%96%B9\" aria-label=\"需要改进的地方 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>需要改进的地方</h3>\n<p>很多：</p>\n<ul>\n<li>PHP与HTML的分离，Smarty模版的学习。</li>\n<li>面向对象式的PHP</li>\n<li>CSS代码的优化</li>\n<li>细节的完善</li>\n<li>伪静态</li>\n<li>等等</li>\n</ul>","timeToRead":2,"excerpt":"读完《PHP6与MySQL5基础教程》之后就开始做一个简单的博客，既可以练习所学，又可以在练习的过程中解决新的问题。名字就叫brieflog，但是功能都是参照自己的Wordpress…","frontmatter":{"title":"一个PHP做的博客","cover":"","date":"2013-06-01","category":"后端","tags":["brieflog","博客"]},"fields":{"slug":"/php-blog-brieflog/","date":"2013-05-31T16:00:00.000Z"}}},"pageContext":{"slug":"/php-blog-brieflog/"}},"staticQueryHashes":[]}