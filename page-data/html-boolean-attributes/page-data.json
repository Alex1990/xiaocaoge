{"componentChunkName":"component---src-templates-post-jsx","path":"/html-boolean-attributes/","result":{"data":{"markdownRemark":{"html":"<p>有时在阅读别人的 HTML 代码时，会发现在写<code class=\"language-text\">&lt;input type=&quot;radio&quot;&gt;</code>/<code class=\"language-text\">&lt;input type=&quot;checkbox&quot;&gt;</code>/<code class=\"language-text\">&lt;option&gt;</code>时经常将“选中”状态属性写成<code class=\"language-text\">checked=&quot;checked&quot;</code>/<code class=\"language-text\">selected=&quot;selected&quot;</code>。而我了解到<code class=\"language-text\">checked</code>/<code class=\"language-text\">selected</code>属性属于布尔属性（Boolean attributes）：即该属性出现表示<strong>真值</strong>，不出现表示<strong>假值</strong>，所以完全没必要多敲几个字符。</p>\n<p>前几天，我突然发现我没有搞清楚 HTML 布尔属性假如有值的话，哪些是合法值，我竟然认为<strong>空字符串</strong>和<code class=\"language-text\">&quot;false&quot;</code>表示<strong>假值</strong>，然后看规范才明白不是这样。</p>\n<h2 id=\"html-布尔属性（boolean-attributes）\" style=\"position:relative;\"><a href=\"#html-%E5%B8%83%E5%B0%94%E5%B1%9E%E6%80%A7%EF%BC%88boolean-attributes%EF%BC%89\" aria-label=\"html 布尔属性（boolean attributes） permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>HTML 布尔属性（Boolean attributes）</h2>\n<p><a href=\"https://html.spec.whatwg.org/multipage/infrastructure.html#boolean-attributes\">HTML5 规范</a>说：</p>\n<blockquote>\n<p>... A number of attributes are boolean attributes. The presence of a boolean attribute on an element represents the true value, and the absence of the attribute represents the false value.</p>\n<p>If the attribute is present, its value must either be the empty string or a value that is an ASCII case-insensitive match for the attribute's canonical name, with no leading or trailing whitespace.</p>\n</blockquote>\n<p>以及：</p>\n<blockquote>\n<p>The values \"true\" and \"false\" are not allowed on boolean attributes. To represent a false value, the attribute has to be omitted altogether.</p>\n</blockquote>\n<p>所以，如果要表示<code class=\"language-text\">&lt;input type=&quot;checkbox&quot;&gt;</code>选中的写法有：</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>checkbox<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">checked</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>checkbox<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">checked</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>checked<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>checkbox<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">checked</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span><span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>如果表示不选中，则不能出现<code class=\"language-text\">checked</code>属性：</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>checkbox<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>个人对于空字符串可作为合法值不太赞同，感觉会给人一种不选中的误导。</p>\n<h2 id=\"code-classlanguage-textcheckedcode与code-classlanguage-textcheckedquotcheckedquotcode区别\" style=\"position:relative;\"><a href=\"#code-classlanguage-textcheckedcode%E4%B8%8Ecode-classlanguage-textcheckedquotcheckedquotcode%E5%8C%BA%E5%88%AB\" aria-label=\"code classlanguage textcheckedcode与code classlanguage textcheckedquotcheckedquotcode区别 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><code class=\"language-text\">checked</code>与<code class=\"language-text\">checked=&quot;checked&quot;</code>区别</h2>\n<p>在 W3C 的 <a href=\"https://www.w3.org/TR/html401/intro/sgmltut.html#h-3.3.4.2\">HTML 4.01 规范</a>中已经有 Boolean attributes 的说明，里面提到了：</p>\n<blockquote>\n<p>Authors should be aware that many user agents only recognize the minimized form of boolean attributes and not the full form.</p>\n</blockquote>\n<p>当然，现在主流的浏览器都支持<code class=\"language-text\">checked=&quot;checked&quot;</code>这种写法的，所以实际使用效果没有区别。</p>\n<p>其区别主要在于：<code class=\"language-text\">checked</code>字符少，简洁直观；而使用<code class=\"language-text\">checked=&quot;checked&quot;</code>的理由主要是在 XHTML 中，只写<code class=\"language-text\">checked</code>不合法，但是我们通常是在写 HTML5，所以没什么理由写<code class=\"language-text\">checked=&quot;checked&quot;</code>。</p>\n<h2 id=\"布尔属性（boolean-attributes）列表\" style=\"position:relative;\"><a href=\"#%E5%B8%83%E5%B0%94%E5%B1%9E%E6%80%A7%EF%BC%88boolean-attributes%EF%BC%89%E5%88%97%E8%A1%A8\" aria-label=\"布尔属性（boolean attributes）列表 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>布尔属性（Boolean attributes）列表</h2>\n<p>截止该文章书写时有 39 个：</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">allowFullscreen\nasync\nautofocus\nautoplay\nchecked\ncompact\ncontrols\ndeclare\ndefault\ndefaultChecked\ndefaultMuted\ndefaultSelected\ndefer\ndisabled\ndraggable\nenabled\nformNoValidate\nhidden\nimageSmoothingEnabled\nindeterminate\nisMap\nloop\nmultiple\nmuted\nnoHref\nnoResize\nnoShade\nnoValidate\nnoWrap\nopen\npauseOnExit\nreadOnly\nrequired\nreversed\nselected\nspellcheck\ntranslate\ntrueSpeed\ntypeMustMatch</code></pre></div>\n<p>上面列表获取方法：WHATWG HTML 规范在 Github 上面的仓库（<a href=\"https://github.com/whatwg/html\">https://github.com/whatwg/html</a>）</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token function\">git</span> clone https://github.com/whatwg/html\n<span class=\"token builtin class-name\">cd</span> html\n<span class=\"token comment\"># cat source | grep \"attribute boolean\" 之后手工处理，或执行下面代码</span>\n<span class=\"token function\">cat</span> <span class=\"token builtin class-name\">source</span> <span class=\"token operator\">|</span> <span class=\"token function\">grep</span> <span class=\"token string\">\"attribute boolean\"</span> <span class=\"token operator\">|</span> <span class=\"token function\">grep</span> -v <span class=\"token string\">\"readonly attribute boolean\"</span> <span class=\"token operator\">|</span> <span class=\"token function\">grep</span> -oE <span class=\"token string\">\"<span class=\"token entity\" title=\"\\&quot;\">\\\"</span>>[A-Za-z]{1,}&lt;/span>\"</span> <span class=\"token operator\">|</span> <span class=\"token function\">awk</span> -F<span class=\"token string\">'>|&lt;'</span> <span class=\"token string\">'{print <span class=\"token variable\">$2</span>}'</span> <span class=\"token operator\">|</span> <span class=\"token function\">sort</span> <span class=\"token operator\">|</span> <span class=\"token function\">uniq</span></code></pre></div>\n<h2 id=\"boolean-attributes-in-react\" style=\"position:relative;\"><a href=\"#boolean-attributes-in-react\" aria-label=\"boolean attributes in react permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Boolean attributes in React</h2>\n<p><a href=\"https://facebook.github.io/react/index.html\">React</a> 的 JSX 语法与 HTML 有所不同，在 JSX 中，可以传入<code class=\"language-text\">true</code>表示设置该布尔属性，传入<code class=\"language-text\">false</code>表示不设置该属性，如：</p>\n<p>表示选中复选框：</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>checkbox<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">checked</span> <span class=\"token punctuation\">/></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>checkbox<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">checked</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">}</span></span> <span class=\"token punctuation\">/></span></span></code></pre></div>\n<p>表示不选中复选框：</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>checkbox<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>checkbox<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">checked</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">}</span></span> <span class=\"token punctuation\">/></span></span></code></pre></div>\n<h2 id=\"参考\" style=\"position:relative;\"><a href=\"#%E5%8F%82%E8%80%83\" aria-label=\"参考 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>参考</h2>\n<ul>\n<li><a href=\"https://html.spec.whatwg.org/multipage/infrastructure.html#boolean-attributes\">Boolean attributes</a> in WHATWG HTML Specification.</li>\n<li><a href=\"https://www.w3.org/TR/html401/intro/sgmltut.html#h-3.3.4.2\">Boolean attributes</a> in W3C HTML 4.01.</li>\n<li>WHATWG HTML Specification Source: <a href=\"https://github.com/whatwg/html\">https://github.com/whatwg/html</a></li>\n<li>@mdo's <a href=\"http://codeguide.co/#html-boolean-attributes\">code guide</a></li>\n</ul>","timeToRead":4,"excerpt":"有时在阅读别人的 HTML 代码时，会发现在写//时经常将“选中”状态属性写成/。而我了解到/属性属于布尔属性（Boolean attributes）：即该属性出现表示真值，不出现表示假值，所以完全没必要多敲几个字符。 前几天，我突然发现我没有搞清楚 HTML…","frontmatter":{"title":"HTML Boolean Attributes","cover":"","date":"2016-05-18","category":"前端","tags":["React","代码风格","Boolean Attributes"]},"fields":{"slug":"/html-boolean-attributes/","date":"2016-05-17T16:00:00.000Z"}}},"pageContext":{"slug":"/html-boolean-attributes/"}},"staticQueryHashes":[]}